<?xml version="1.0" encoding="utf-8"?>

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="..\bsicommon\build\PartFile.xsd" >

    <Part Name="ExternalDependencies">
        <SubPart PartName="BentleyDll" PartFile="Bentley" Repository="Bentley" />
    </Part>

    <Part Name="HeaderFiles" BentleyBuildMakeFile="terrainModelDgnDb.prewire.mke" >
        <SubPart PartName="Base" PartFile="Bentley" Repository="Bentley" />
        <SubPart PartName="PublicAPI"  PartFile="geomlibs"                            Repository="GeomLibs" />
        <Bindings>
            <PublicAPI Domain="TerrainModel" />
        </Bindings>
    </Part>

    <Part Name="Core" BentleyBuildMakeFile="core\coreDgnDb.mke" ApiNumber="M02">
        <SubPart PartName="HeaderFiles"/>
        <SubPart PartName="GeomDlls" PartFile="geomlibs" Repository="GeomLibs" />
        <Bindings>
            <Assemblies>Delivery/$(shlibprefix)TerrainModelCore$(ApiNumber)$(shlibext)</Assemblies>
            <Libs> Delivery/$(libprefix)TerrainModelCore$(libext)</Libs>
        </Bindings>
    </Part>

    <Part Name="CoreStatic" BentleyBuildMakeFile="Core/coreDgnDb.mke" ApiNumber="M02" BentleyBuildMakeOptions="-dUSE_STATIC_LIBRARIES=1 -dCREATE_STATIC_LIBRARIES=1">
        <SubPart PartName="HeaderFiles" LibType="Static"/>
        <SubPart PartName="GeomDlls" PartFile="geomlibs" Repository="GeomLibs" LibType="Static"/>
        <Bindings>
            <Libs ProductDirectoryName="TerrainModelNativeCoreLibs" Required="false"> Delivery/$(stlibprefix)TerrainModelCore$(stlibext)</Libs>
        </Bindings>
    </Part>

    <Part Name="inroadstmDgnDb" BentleyBuildMakeFile="formats\inroadstm\inroadstmDgnDb.mke" BentleyBuildMakeOptions="-dCreate_Static_Libraries=1">
        <SubPart PartName="Core" />
    </Part>

    <Part Name="Formats" BentleyBuildMakeFile="formats\formatsDgnDb.mke" ApiNumber="M02">
        <!--<SubPart PartName="InRoadsTM" LibType="Static" />-->
        <SubPart PartName="Core" />
        <SubPart PartName="inroadstmDgnDb" />
		<SubPart PartName="BeSQLite" PartFile="BeSQLite" Repository="BeSQLite" />
        <SubPart PartName="BeXml" PartFile="Bentley" Repository="Bentley"/>
        <SubPart PartName="GeoCoord"   PartFile="GeoCoord"   Repository="GeoCoord" />	
        <SubPart PartName="ImagePPDll"  PartFile="ImagePP" Repository="ImagePP" />
        <Bindings>
            <Assemblies>Delivery\$(shlibprefix)TerrainModelFormats$(ApiNumber)$(shlibext)</Assemblies>
            <Libs>Delivery\$(libprefix)TerrainModelFormats$(libext)</Libs>
        </Bindings>
    </Part>

    <Part Name="AutomaticGroundDetection" BentleyBuildMakeFile="AutomaticGroundDetection\AutomaticGroundDetectionDgnDb.mke" ApiNumber="M02">      
      <SubPart PartName="Core" />
      <SubPart PartName="Formats" />      
      <SubPart PartName="GeoCoord"   PartFile="GeoCoord"   Repository="GeoCoord" />
      <!--<SubPart PartName="CGALHeaders" PartFile="CGAL" Repository="Libsrc-CGAL" />-->
      <Bindings>
        <Assemblies>Delivery/$(shlibprefix)AutomaticGroundDetection$(ApiNumber)$(shlibext)</Assemblies>
        <Libs>Delivery\$(libprefix)AutomaticGroundDetection$(libext)</Libs>
      </Bindings>
    </Part>

</BuildContext>
