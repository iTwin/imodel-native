#*--------------------------------------------------------------------------------------+
#
#     $Source: PointoolsLibs/PointoolsLibsIO/GNU/IConv/GNU_IConv_1_1_4.mke $
#
#  $Copyright: (c) 2015 Bentley Systems, Incorporated. All rights reserved. $
#
#--------------------------------------------------------------------------------------*/

PolicyFile=$(SrcRoot)Pointools/PointoolsCommon/mki/AssertPolicy.mki
%include mdl.mki

DeliveryDir=$(OutBuildContexts)PointoolsLibs/Delivery/

VendorAPIDir = $(OutBuildContexts)PointoolsLibs/VendorAPI/LIBXML_Iconv



#---------------------------------------------------------------------------------------------------------
# Libs required
#---------------------------------------------------------------------------------------------------------

							# Note: IConv has DLL but no libs
%if $(TARGET_PROCESSOR_ARCHITECTURE) == "x86" && defined(POINTOOLS_BUILD_USING_VS2005)
always:
    @CreateSymLinks.py   -f"$(DeliveryDir)T.lib"=${PointoolsLibs}\Vendor\T\T32.lib"

%elif $(TARGET_PROCESSOR_ARCHITECTURE) == "x64" && defined(POINTOOLS_BUILD_USING_VS2005)
always:
    @CreateSymLinks.py   -f"$(DeliveryDir)T.lib"=${PointoolsLibs}\Vendor\T\T64.lib"

%elif $(TARGET_PROCESSOR_ARCHITECTURE) == "x64"

always:
    @CreateSymLinks.py   -m"$(VendorAPIDir)=$(PointoolsLibs)\GNU\iconv\1.14\vc11\x64\include"
    @CreateSymLinks.py   -m"$(DeliveryDir)=$(PointoolsLibs)\GNU\iconv\1.14\vc11\x64\bin\libiconv.dll"

%else

%error Target architecture unknown!

%endif

