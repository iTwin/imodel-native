#*--------------------------------------------------------------------------------------+
#
#     $Source: PointoolsLibs/PointoolsLibsIO/LIBTIFF/LibTIFF_3_9_4.mke $
#
#  $Copyright: (c) 2015 Bentley Systems, Incorporated. All rights reserved. $
#
#--------------------------------------------------------------------------------------*/

PolicyFile=$(SrcRoot)Pointools/PointoolsCommon/mki/AssertPolicy.mki
%include mdl.mki

DeliveryDir=$(OutBuildContexts)PointoolsLibs/Delivery/

VendorAPIDir = $(OutBuildContexts)PointoolsLibs/VendorAPI/LibTiff

always:
    @CreateSymLinks.py   -d"$(VendorAPIDir)=$(PointoolsLibs)\libtiff\tiff-3.9.4\libtiff"

#---------------------------------------------------------------------------------------------------------
# Libs required
#---------------------------------------------------------------------------------------------------------

%if $(TARGET_PROCESSOR_ARCHITECTURE) == "x86" && defined(POINTOOLS_BUILD_USING_VS2005)
always:
    @CreateSymLinks.py   -f"$(DeliveryDir)libtiff.lib=${PointoolsLibs}\libtiff\tiff-3.9.4\lib\libtiff.lib"

%elif $(TARGET_PROCESSOR_ARCHITECTURE) == "x64" && defined(POINTOOLS_BUILD_USING_VS2005)

%elif $(TARGET_PROCESSOR_ARCHITECTURE) == "x64"

always:
    @CreateSymLinks.py   -f"$(DeliveryDir)libtiff.lib=${PointoolsLibs}\libtiff\tiff-3.9.4\lib\x64\libtiff.lib"

%else

%error Target architecture unknown!

%endif

