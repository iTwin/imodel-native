<?xml version="1.0" encoding="utf-8"?>

<!-- 
********************************************************************************************************
* Copyright: (c) 2013 Bentley Systems, Incorporated. All rights reserved.
*
* Main PointoolsLibs Build (VS2012)
*
* Author: Lee Bull
*
******************************************************************************************************** 
-->

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../build/PartFile.xsd">

  <Part Name="PointoolsLibs_VS2012" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">

    <SubPart PartName="PointoolsLibsVortex_2_VS2012" Repository="PointoolsLibs"/>

    <SubPart PartName="PointoolsLibsIO_2_VS2012" Repository="PointoolsLibs"/>

  </Part>

  <!--
  ********************************************************************************************************
  * Pointools Common VS2012 Parts
  ********************************************************************************************************
-->

  <Part Name="PointoolsLibsCommon_2_VS2012" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">

    <SubPart PartName="Boost_1_4_3_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="GL_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="GLEW_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="TTL_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="WildMagic4_VS2012" Repository="PointoolsLibs"/>

  </Part>

  <Part Name="BoostHeaders_1_4_3_VS2012" BMakeFile="PointoolsLibsCommon/VS2012/Boost_1_4_3/BoostHeaders_1_4_3.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">

  </Part>

                                                                                                  <!-- This boost headers places includes in subfolder Boost_1_4_3 to avoid clashes with other versions -->
  <Part Name="Boost_1_4_3_VS2012" BMakeFile="PointoolsLibsCommon/VS2012/Boost_1_4_3/Boost_1_4_3.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
                                                                                                  <!-- Specify this PartFile to force Repository Checkout (otherwise it doesn't happen!)-->
    <SubPart PartName="BoostHeaders_1_4_3_VS2012" PartFile="${SrcRoot}Pointools/PointoolsCommon/PointoolsLibs/PointoolsLibs_VS2012" Repository="Bsibin-Boostheaders"/>
    
  </Part>

  <Part Name="GL_VS2012" BMakeFile="PointoolsLibsCommon/VS2012/GL/GL.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="GLEW_VS2012" BMakeFile="PointoolsLibsCommon/VS2012/GLEW/GLEW.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="TTL_VS2012" BMakeFile="PointoolsLibsCommon/VS2012/TTL/TTL.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="WildMagic4_VS2012" BMakeFile="PointoolsLibsCommon/VS2012/WildMagic4/WildMagic4.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  
  <!--
  ********************************************************************************************************
  * Pointools Libs VS2012 Parts
  ********************************************************************************************************
-->

  <Part Name="PointoolsLibsVortex_2_VS2012" BMakeFile="PointoolsLibsVortex_VS2012.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">

    <SubPart PartName="PointoolsLibsCommon_2_VS2012" Repository="PointoolsLibs"/>

    <!-- SubPart PartName="FreeGlut_VS2012" Repository="PointoolsLibs"/ -->

    <SubPart PartName="GLUI_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="FastDelegate_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="Loki_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="SCZ_Compress_VS2012" Repository="PointoolsLibs"/>

  </Part>

  <Part Name="FreeGlut_VS2012" BMakeFile="PointoolsLibsVortex/VS2012/FreeGlut/FreeGlut.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="GLUI_VS2012" BMakeFile="PointoolsLibsVortex/VS2012/GLUI/GLUI.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="FastDelegate_VS2012" BMakeFile="PointoolsLibsVortex/VS2012/FastDelegate/FastDelegate.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="Loki_VS2012" BMakeFile="PointoolsLibsVortex/VS2012/Loki/Loki.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="SCZ_Compress_VS2012" BMakeFile="PointoolsLibsVortex/VS2012/SCZ_Compress/SCZ_Compress.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <!--
  ********************************************************************************************************
  * PointoolsIO Parts
  ********************************************************************************************************
-->

  <!--  
  <Part Name="PointoolsLibsIO_2_VS2012" BMakeFile="PointoolsLibsIO_2_VS2012.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
-->

  <Part Name="PointoolsLibsIO_2_VS2012" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">

    <SubPart PartName="PointoolsLibsCommon_2_VS2012" Repository="PointoolsLibs"/>

    <SubPart PartName="Xerces_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="GNOME_LIBXML2_2_9_1_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="GNU_IConv_1_1_4_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="GDAL_1_7_2_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="LibTIFF_3_9_4_VS2012" Repository="PointoolsLibs"/>
    
    <SubPart PartName="LibGeoTIFF_1_3_0_VS2012" Repository="PointoolsLibs"/>

    <SubPart PartName="Format_Leica_PTZ_6_0_0_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="Format_LibLAS_1_7_0_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="Format_LASZip_2_1_0_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="Format_TopconCodec_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="Format_LibE57_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="Format_ZF_8_5_0_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="Format_Riegl_RivLib_1_3_2_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="Format_Riegl_RiscanLib_3_5_VS2012" Repository="PointoolsLibs"/>
    <SubPart PartName="Format_Faro_5_2_0_VS2012" Repository="PointoolsLibs"/>

  </Part>

  
  <Part Name="Xerces_VS2012" OnlyPlatforms="x86,x64" BMakeFile="PointoolsLibsIO/VS2012/Apache/Xerces/Xerces.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>
    
  <Part Name="GDAL_1_7_2_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO/VS2012/GDAL/GDAL_1_7_2.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="GNOME_LIBXML2_2_9_1_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO/VS2012/GNOME/LIBXML2/GNOME_LIBXML2_2_9_1.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
    <Bindings>
      <Assemblies ProductDirectoryName="PointoolsAssemblies">
        Delivery\libxml2.dll
      </Assemblies>
    </Bindings>
  </Part>


  <Part Name="GNU_IConv_1_1_4_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO/VS2012/GNU/IConv/GNU_IConv_1_1_4.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
    <Bindings>
      <Assemblies ProductDirectoryName="PointoolsAssemblies">
        Delivery\libiconv.dll
      </Assemblies>
    </Bindings>
  </Part>

  <Part Name="LibTIFF_3_9_4_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO/VS2012/LibTIFF/LibTIFF_3_9_4.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="LibGeoTIFF_1_3_0_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO/VS2012/OsGeo/LibGeoTIFF/LibGeoTIFF_1_3_0.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="Format_Faro_5_2_0_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO/VS2012/Formats/Faro/Format_Faro_5_2_0.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
    <Bindings>

      <Assemblies ProductDirectoryName="PointoolsAssemblies" ExtractReg="include">
        Delivery\IQOpen.dll
      </Assemblies>

      <Assemblies ProductDirectoryName="PointoolsAssemblies" ExtractReg="include">
        Delivery\FARO.LS.SDK.dll
      </Assemblies>

      <Assemblies ProductDirectoryName="PointoolsAssemblies" >
        Delivery\IQBase.dll
        Delivery\geotifflib.dll
        Delivery\hasp_act_windows_x64.dll
        Delivery\hasp_windows_x64_79264.dll
        Delivery\IQLib.dll
        Delivery\jsoncpp.dll
        Delivery\LSBase.dll
        Delivery\MSPCoordinateConversionService.dll
        Delivery\opencv_calib3d242.dll
        Delivery\opencv_core242.dll
        Delivery\opencv_features2d242.dll
        Delivery\opencv_flann242.dll
        Delivery\opencv_imgproc242.dll
        Delivery\xerces-c_3_1.dll
      </Assemblies>
      <Files SubPartDirectory="PointoolsLibs_Faro_5_2_0">
        Delivery\_tbb.dll
      </Files>

        <Files BindToWixBuild="true">
            ComRegistry\IQOpen.dll.wxi
            ComRegistry\FARO.LS.SDK.dll.wxi
        </Files>

    </Bindings>
  </Part>

  <Part Name="Format_LASZip_2_1_0_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO/VS2012/Formats/LASZip/Format_LASZip_2_1_0.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
    <Bindings>
      <Assemblies ProductDirectoryName="PointoolsAssemblies">
        Delivery\laszip.dll
      </Assemblies>
    </Bindings>
  </Part>

  <Part Name="Format_Leica_PTZ_6_0_0_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO\VS2012\Formats\Leica\Format_Leica_PTZ_6_0_0.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
    <Bindings>
      <Assemblies ProductDirectoryName="PointoolsAssemblies">
        Delivery\ptzreader80x64.dll
      </Assemblies>
    </Bindings>
  </Part>

  <Part Name="Format_LibE57_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO/VS2012/Formats/LibE57/Format_LibE57.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
  </Part>

  <Part Name="Format_LibLAS_1_7_0_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO\VS2012\Formats\LibLAS\Format_LibLAS_1_7_0.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
                                                                                                  <!-- Specify this PartFile to force Repository Checkout (otherwise it doesn't happen!)-->
    <SubPart PartName="BoostHeaders_1_4_3_VS2012" PartFile="${SrcRoot}Pointools/PointoolsCommon/PointoolsLibs/PointoolsLibs_VS2012" Repository="Bsibin-Boostheaders"/>

  </Part>

  <Part Name="Format_Riegl_RivLib_1_3_2_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO\VS2012\Formats\Riegl\Format_Riegl_RivLib_1_3_2.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
    <Bindings>
      <Assemblies ProductDirectoryName="PointoolsAssemblies">
        Delivery\scanifc-mt.dll
      </Assemblies>
    </Bindings>
  </Part>

  <Part Name="Format_Riegl_RiscanLib_3_5_VS2012" OnlyPlatforms="x86" BMakeFile="PointoolsLibsIO/VS2012/Formats/Riegl/Format_Riegl_RiscanLib_3_5.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
    <Bindings>
      <Assemblies ProductDirectoryName="PointoolsAssemblies">
        Delivery\scannermod.dll
      </Assemblies>
    </Bindings>
  </Part>

  <Part Name="Format_TopconCodec_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO/VS2012/Formats/Topcon/Format_TopconCodec.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
    <Bindings>
      <Assemblies ProductDirectoryName="PointoolsAssemblies">
        Delivery\TopconCodec.dll       
      </Assemblies>
    </Bindings>
  </Part>

  <Part Name="Format_ZF_8_5_0_VS2012" OnlyPlatforms="x64" BMakeFile="PointoolsLibsIO\VS2012\Formats\ZF\Format_ZF_8_5_0.mke" BMakeOptions="+dPOINTOOLS_BUILD_USING_VS2012=1">
    <Bindings>
      <Assemblies ProductDirectoryName="PointoolsAssemblies">
        Delivery\zfs.dll
      </Assemblies>
    </Bindings>
  </Part>

</BuildContext>
