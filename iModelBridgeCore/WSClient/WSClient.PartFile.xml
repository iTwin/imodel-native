<?xml version="1.0" encoding="utf-8"?>

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../bsicommon/build/PartFile.xsd">

    
    <Part Name="WebServiceClientComponents" Sequential="true">
        <SubPart PartName="WebServicesClient"/>
        <SubPart PartName="ConnectWebServicesClientC" />
    </Part>
            
    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <!-- // WebServicesClient lib                                                  // -->
    <!-- //////////////////////////////////////////////////////////////////////////// -->
    
    <Part Name="WebServicesClient">
        <SubPart PartName="WebServicesClient-PC"/>
        
        <!-- N.B. Do NOT add LibType="Static" here. See comments on WebServicesClient-Android-Shim as to why. -->
        <SubPart PartName="WebServicesClient-iOS"/>
        <SubPart PartName="WebServicesClient-Android-Shim"/>
    </Part>
    
    <Part Name="WebServicesClient-PC" ExcludePlatforms="iOS*, Android*">
        <SubPart PartName="WebServicesClient-PublicAPI"/>
        <SubPart PartName="WebServicesClient-Library"/>
        <SubPart PartName="WebServicesClient-Library-Android"/>
        <SubPart PartName="WSClient-Xliffs"/>
    </Part>

    <Part Name="WebServicesClient-iOS" OnlyPlatforms="iOS*">
        <SubPart PartName="WebServicesClient-PublicAPI" LibType="Static"/>
        <SubPart PartName="WebServicesClient-Library" LibType="Static"/>
        <SubPart PartName="WSClient-Xliffs" LibType="Static"/>
    </Part>

    <!--
        Cannot directly add a SubPart in WebServicesClient to
        WebServicesClient-Android/LibType=Static due to LKGs. The issue arises
        on Windows, for example, which does not build anything in wsclient
        statically, and thus will not post anything in the static LKG for
        wsclient (good). Because there is no static LKG at all,
        WebServicesClient cannot go searching for the static partfile to see
        that this is Android-only. The workaround is to add a "shim" dynamic
        part in the middle with the platform filter first.
    -->
    <Part Name="WebServicesClient-Android-Shim" OnlyPlatforms="Android*">
        <SubPart PartName="WebServicesClient-Android" LibType="Static"/>
    </Part>

    <Part Name="WebServicesClient-Android" OnlyPlatforms="Android*">
        <SubPart PartName="WebServicesClient-Library-Android" />
    </Part>

    <Part Name="WebServicesClient-PublicAPI" BentleyBuildMakeFile="ClientPrewire.mke">
        <Bindings>
            <PublicAPI Domain="WebServices" />
        </Bindings>
    </Part>

    <Part Name="WSClient-PublishedAPI" BentleyBuildMakeFile="${SrcRoot}bsicommon/sharedmki/PublishApi.mke"
     BMakeOptions="+dPUBLISHAPI_DELIVERY_DIR=Delivery/PublishedApi +dPUBLISHAPI_VENDORAPI=json +dPUBLISHAPI_VENDORAPI2=rapidjson +dPUBLISHAPI_VENDORAPI3=libxml +dPUBLISHAPI_VENDORAPI4=folly">
        <SubPart PartName="PublishedApi" PartFile="DgnClientFx" Repository="DgnClientFx"/>
        <SubPart PartName="WebServicesClient-PublicAPI"/>
        <SubPart PartName="WebServicesCache-PublicAPI"/>
        <SubPart PartName="DgnDbServerClient-PublicAPI"/>
        <SubPart PartName="ConnectWebServicesClientC-PublicAPI"/>
        <Bindings>
            <Directory SourceName="Delivery/PublishedApi" SubPartDirectory="PublishedApi/WSClient" />
        </Bindings>
    </Part>

    <Part Name="WebServicesClient-Library" BentleyBuildMakeFile="ClientLib.mke" ExcludePlatforms="Android*" ApiNumber="B02">
        <SubPart PartName="WebServicesClient-PublicAPI" />
        <SubPart PartName="BeHttpLibrary"                 PartFile="BeHttp"      Repository="BeHttp" />
        <SubPart PartName="BeSecurityLibrary"             PartFile="BeSecurity"  Repository="BeSecurity" />
        <SubPart PartName="DgnClientFxLibrary"            PartFile="DgnClientFx" Repository="DgnClientFx" />
        <SubPart PartName="DgnClientFxLibrary-WinRT"      PartFile="DgnClientFx" Repository="DgnClientFx" />
        <Bindings>
            <Libs>Delivery/$(libprefix)WebServicesClient$(libext)</Libs>
            <Assemblies>Delivery/$(libprefix)WebServicesClient$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="WebServicesClient-Library-Android" BentleyBuildMakeFile="ClientLib.mke" OnlyPlatforms="Android*">
        <SubPart PartName="WebServicesClient-PublicAPI" />
        <SubPart PartName="DgnClientFxLibrary-Android"    PartFile="DgnClientFx" Repository="DgnClientFx" />
        <Bindings>
            <Libs>Delivery/$(libprefix)WebServicesClient.so</Libs>
            <Assemblies>Delivery/$(libprefix)WebServicesClient.so</Assemblies>
        </Bindings>
    </Part>

    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <!-- // WebServicesCache lib                                                   // -->
    <!-- //////////////////////////////////////////////////////////////////////////// -->

    <Part Name="WebServicesCache">
        <SubPart PartName="WebServicesCache-PublicAPI" />
        <SubPart PartName="WebServicesCache-Library" />
        <SubPart PartName="WebServicesCache-Library-Android" />
        <SubPart PartName="WebServicesCache-Schemas" />
        <SubPart PartName="WSClient-Xliffs" />
    </Part>

    <Part Name="WebServicesCache-PublicAPI" BentleyBuildMakeFile="CachePrewire.mke">
        <SubPart PartName="WebServicesClient-PublicAPI"/>
        <Bindings>
            <PublicAPI Domain="WebServices" />
        </Bindings>
    </Part>

    <Part Name="WebServicesCache-Library" BentleyBuildMakeFile="CacheLib.mke" ExcludePlatforms="Android*" ApiNumber="B02">
        <SubPart PartName="WebServicesClient" />
        <SubPart PartName="DgnClientFxLibrary"            PartFile="DgnClientFx" Repository="DgnClientFx" />
        <SubPart PartName="DgnClientFxLibrary-WinRT"      PartFile="DgnClientFx" Repository="DgnClientFx" />
        <Bindings>
            <Libs>Delivery/$(libprefix)WebServicesCache$(libext)</Libs>
            <Assemblies>Delivery/$(libprefix)WebServicesCache$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="WebServicesCache-Library-Android" BentleyBuildMakeFile="CacheLib.mke" OnlyPlatforms="Android*">
        <SubPart PartName="WebServicesClient" />
        <SubPart PartName="DgnClientFxLibrary-Android"    PartFile="DgnClientFx" Repository="DgnClientFx" />
        <Bindings>
            <Libs>Delivery/$(libprefix)WebServicesCache.so</Libs>
            <Assemblies>Delivery/$(libprefix)WebServicesCache.so</Assemblies>
        </Bindings>
    </Part>

    <Part Name="WebServicesCache-Schemas" BentleyBuildMakeFile="CacheSchemasDelivery.mke">
        <Bindings>
            <Directory
                SourceName="Delivery/ECSchemas/WSClient/Cache"
                SubPartDirectory="ECSchemas/WSClient/Cache"
                ProductDirectoryName="Assets"
                ProductSubDirectory="ECSchemas/WSClient/Cache" />
        </Bindings>
    </Part>
    
    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <!-- // DgnDbServerClient lib                                                  // -->
    <!-- //////////////////////////////////////////////////////////////////////////// -->

    <Part Name="DgnDbServerClient">
        <SubPart PartName="DgnDbServerClient-PublicAPI" />
        <SubPart PartName="DgnDbServerClient-Library" />
        <SubPart PartName="DgnDbServerClient-Library-Android" />
        <SubPart PartName="WSClient-Xliffs" />
    </Part>

    <Part Name="DgnDbServerClient-PublicAPI" BentleyBuildMakeFile="DgnDbServerClientPrewire.mke">
        <Bindings>
            <PublicAPI Domain="DgnDbServer" />
        </Bindings>
    </Part>

    <Part Name="DgnDbServerClient-Library" BentleyBuildMakeFile="DgnDbServerClientLib.mke"  ApiNumber="B02" ExcludePlatforms="Android*">
        <SubPart PartName="WebServicesClient" />
        <SubPart PartName="WebServicesCache" />
        <SubPart PartName="DgnClientFxLibrary"            PartFile="DgnClientFx" Repository="DgnClientFx" />
        <SubPart PartName="DgnClientFxLibrary-WinRT"      PartFile="DgnClientFx" Repository="DgnClientFx" />
        <Bindings>
            <Libs>Delivery/$(libprefix)DgnDbServerClient$(libext)</Libs>
            <Assemblies>Delivery/$(libprefix)DgnDbServerClient$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>


    <Part Name="DgnDbServerClient-Library-Android" BentleyBuildMakeFile="DgnDbServerClientLib.mke" OnlyPlatforms="Android*">
        <SubPart PartName="WebServicesClient" />
        <SubPart PartName="DgnClientFxLibrary-Android"    PartFile="DgnClientFx" Repository="DgnClientFx" />
        <Bindings>
            <Libs>Delivery/$(libprefix)DgnDbServerClient.so</Libs>
            <Assemblies>Delivery/$(libprefix)DgnDbServerClient.so</Assemblies>
        </Bindings>
    </Part>

    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <!-- // ConnectWebServicesClientC lib                                          // -->
    <!-- //////////////////////////////////////////////////////////////////////////// -->

    <Part Name="ConnectWebServicesClientC">
        <SubPart PartName="ConnectWebServicesClientC-PC" />
        <SubPart PartName="ConnectWebServicesClientC-iOS" LibType="Static"/>
        <SubPart PartName="ConnectWebServicesClientC-Android" LibType="Static"/>
    </Part>
    
    <Part Name="ConnectWebServicesClientC-PC" ExcludePlatforms="iOS*, Android*">
        <SubPart PartName="ConnectWebServicesClientC-PublicAPI" />
        <SubPart PartName="ConnectWebServicesClientC-Library" />
    </Part>
    
    <Part Name="ConnectWebServicesClientC-iOS" OnlyPlatforms="iOS*">
        <SubPart PartName="ConnectWebServicesClientC-PublicAPI" />
        <SubPart PartName="ConnectWebServicesClientC-Library" />        
    </Part>

    <Part Name="ConnectWebServicesClientC-Android" OnlyPlatforms="Android*">
        <SubPart PartName="ConnectWebServicesClientC-PublicAPI" />
        <SubPart PartName="ConnectWebServicesClientC-Library-Android" />
    </Part>

    <Part Name="ConnectWebServicesClientC-PublicAPI" BentleyBuildMakeFile="CWSClientCPrewire.mke">
        <Bindings>
            <PublicAPI Domain="WebServices" />
        </Bindings>
    </Part>

    <Part Name="ConnectWebServicesClientC-Library" BentleyBuildMakeFile="CWSClientCLib.mke" ExcludePlatforms="Android*" ApiNumber="B02">
        <SubPart PartName="WebServicesClient" />
        <SubPart PartName="DgnClientFxLibrary"            PartFile="DgnClientFx" Repository="DgnClientFx" />
        <SubPart PartName="DgnClientFxLibrary-WinRT"      PartFile="DgnClientFx" Repository="DgnClientFx" />
        <Bindings>
            <Libs>Delivery/$(libprefix)ConnectWebServicesClientC$(libext)</Libs>
            <Assemblies>Delivery/$(libprefix)ConnectWebServicesClientC$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    <Part Name="ConnectWebServicesClientC-Library-Android" BentleyBuildMakeFile="CWSClientCLib.mke" OnlyPlatforms="Android*">
        <SubPart PartName="WebServicesClient" />
        <SubPart PartName="DgnClientFxLibrary-Android"    PartFile="DgnClientFx" Repository="DgnClientFx" />
        <Bindings>
            <Libs>Delivery/$(libprefix)ConnectWebServicesClientC.so</Libs>
            <Assemblies>Delivery/$(libprefix)ConnectWebServicesClientC.so</Assemblies>
        </Bindings>
    </Part>

    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <!-- // L10N                                                                   // -->
    <!-- //////////////////////////////////////////////////////////////////////////// -->

    <Part Name="WSClient-Xliffs" BentleyBuildMakeFile="xliffs.mke">
        <Bindings>
            <Files ProductDirectoryName="WSClientXliffs" Required="false" SubPartDirectory="xliffs">
                Delivery/xliffs/WebServicesCache_en.xliff
                Delivery/xliffs/WebServicesClient_en.xliff
            </Files>
        </Bindings>
    </Part>

    <!-- English Xliffs generated during the build are pushed (by PRG only) to Mercurial next to translations for L10N vendor convenience -->
    <Part Name="L10N-WSClientXliffs-en" OnlyPlatforms="x64"
        BentleyBuildMakeFile="${SrcRoot}bsicommon/sqlang/mki/PushXliffsFromBuild.mke"
        BentleyBuildMakeOptions="-dBUILD_XLIFF_DIRECTORY=$(OutputRootDir)BuildContexts/WSClient/Delivery/xliffs/ -dL10N_XLIFF_DIRECTORY=$(SrcRoot)l10n/l10n-WSClient/ -dL10N_XLIFF_LANG_DIRECTORY=en">
        <SubPart PartName="WSClient-Xliffs" />
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-cs" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=cs">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="cs" SubPartDirectory="l10n/cs">Delivery/l10n/cs/WebServicesCache_cs.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="cs" SubPartDirectory="l10n/cs">Delivery/l10n/cs/WebServicesClient_cs.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-de" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=de">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="de" SubPartDirectory="l10n/de">Delivery/l10n/de/WebServicesCache_de.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="de" SubPartDirectory="l10n/de">Delivery/l10n/de/WebServicesClient_de.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-es" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=es">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="es" SubPartDirectory="l10n/es">Delivery/l10n/es/WebServicesCache_es.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="es" SubPartDirectory="l10n/es">Delivery/l10n/es/WebServicesClient_es.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-fi" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=fi">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="fi" SubPartDirectory="l10n/fi">Delivery/l10n/fi/WebServicesCache_fi.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="fi" SubPartDirectory="l10n/fi">Delivery/l10n/fi/WebServicesClient_fi.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-fr" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=fr">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="fr" SubPartDirectory="l10n/fr">Delivery/l10n/fr/WebServicesCache_fr.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="fr" SubPartDirectory="l10n/fr">Delivery/l10n/fr/WebServicesClient_fr.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-it" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=it">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="it" SubPartDirectory="l10n/it">Delivery/l10n/it/WebServicesCache_it.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="it" SubPartDirectory="l10n/it">Delivery/l10n/it/WebServicesClient_it.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-ja" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=ja">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="ja" SubPartDirectory="l10n/ja">Delivery/l10n/ja/WebServicesCache_ja.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="ja" SubPartDirectory="l10n/ja">Delivery/l10n/ja/WebServicesClient_ja.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-ko" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=ko">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="ko" SubPartDirectory="l10n/ko">Delivery/l10n/ko/WebServicesCache_ko.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="ko" SubPartDirectory="l10n/ko">Delivery/l10n/ko/WebServicesClient_ko.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-nl" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=nl">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="nl" SubPartDirectory="l10n/nl">Delivery/l10n/nl/WebServicesCache_nl.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="nl" SubPartDirectory="l10n/nl">Delivery/l10n/nl/WebServicesClient_nl.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-pl" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=pl">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="pl" SubPartDirectory="l10n/pl">Delivery/l10n/pl/WebServicesCache_pl.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="pl" SubPartDirectory="l10n/pl">Delivery/l10n/pl/WebServicesClient_pl.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-pt" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=pt">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="pt" SubPartDirectory="l10n/pt">Delivery/l10n/pt/WebServicesCache_pt.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="pt" SubPartDirectory="l10n/pt">Delivery/l10n/pt/WebServicesClient_pt.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-ru" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=ru">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="ru" SubPartDirectory="l10n/ru">Delivery/l10n/ru/WebServicesCache_ru.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="ru" SubPartDirectory="l10n/ru">Delivery/l10n/ru/WebServicesClient_ru.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-sv" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=sv">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="sv" SubPartDirectory="l10n/sv">Delivery/l10n/sv/WebServicesCache_sv.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="sv" SubPartDirectory="l10n/sv">Delivery/l10n/sv/WebServicesClient_sv.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-tr" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=tr">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="tr" SubPartDirectory="l10n/tr">Delivery/l10n/tr/WebServicesCache_tr.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="tr" SubPartDirectory="l10n/tr">Delivery/l10n/tr/WebServicesClient_tr.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-zh-cn" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=zh-cn">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="zh-cn" SubPartDirectory="l10n/zh-cn">Delivery/l10n/zh-cn/WebServicesCache_zh-cn.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="zh-cn" SubPartDirectory="l10n/zh-cn">Delivery/l10n/zh-cn/WebServicesClient_zh-cn.xliff</Files>
        </Bindings>
    </Part>

    <!-- Translated Xliffs are linked into the BuildContext here -->
    <Part Name="L10N-WSClientXliffs-zh-tw" BentleyBuildMakeFile="l10n-WSClient.mke" BentleyBuildMakeOptions="-dL10N_LANGUAGE_TAG=zh-tw">
        <RequiredRepository>l10n-WSClient</RequiredRepository>
        <Bindings>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="zh-tw" SubPartDirectory="l10n/zh-tw">Delivery/l10n/zh-tw/WebServicesClient_zh-tw.xliff</Files>
            <Files ProductDirectoryName="L10N-WSClientXliffs" Required="false" ProductSubDirectory="zh-tw" SubPartDirectory="l10n/zh-tw">Delivery/l10n/zh-tw/WebServicesCache_zh-tw.xliff</Files>
        </Bindings>
    </Part>

    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <!-- // Unit Tests                                                             // -->
    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <Part Name="PrewireForUnitTests" DeferType="BuildUnitTests" BentleyBuildMakeFile="Tests/UnitTests/Prewire.mke">
        <SubPart PartName="WebServicesCache" />
        <SubPart PartName="WebServicesClient"/>
        <SubPart PartName="WSClientTestAssets" />
        <Bindings>
            <Files ProductDirectoryName="UnitTests-IgnoreList" ProductSubDirectory="WebServices" SubPartDirectory="UnitTests/WebServices">
                Delivery/UnitTests/ignore_list.txt
             </Files>
            <Directory ProductDirectoryName="WSClientTestAssets" SourceName="WSClientTestAssets"/>
        </Bindings>
    </Part>

    <Part Name="WSClientTestAssets" DeferType="BuildUnitTests" BentleyBuildMakeFile="Tests/UnitTests/AssetsDelivery.mke" />

    <Part Name="UnitTests-Published" DeferType="BuildUnitTests" 
        BentleyBuildMakeFile="Tests/UnitTests/BuildTests.mke" 
        BentleyBuildMakeOptions="-dTestDir=Published -dUsePublishedApi -dENABLE_DGNDBSERVER_UNIT_TESTS"
        >
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="WSClient-PublishedAPI" />
        <SubPart PartName="DgnDbServerClient-Library" />
        <SubPart PartName="DgnDbServerClient-Library-Android" />
        
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects" ProductSubDirectory="WebServices/Published" SourceName="Delivery/UnitTests/Objects/Published"/>
        </Bindings>
    </Part>

    <!-- Define a test collection part. This is included in DgnClientFx's TestsAggregate -->
    <Part Name="Tests">
        <SubPart PartName="UnitTests-Published"/>

        <!-- Ensure that builds, run manually if needed -->
      <!-- 
        <SubPart PartName="WSClientIntegrationTests"/>
      -->
      </Part>

    <!-- Define a gtest program to run the tests. 
        The Gtest and RunGtest parts are included in DgnClientFx's Gtest-Aggregator and RunGtest-DgnClientFxTests parts -->
    <Product Name="WSClient-Tests">
    <SubPart Repository="BeGTest" PartFile="BeGTest" PartName="Base" />
        <SubPart PartName="Tests"/>
        <Directories DirectoryListName="CollectionProduct" Repository="BeGTest"  PartFile="BeGTest"/>
    </Product>

    <Part Name="Gtest" DeferType="BuildUnitTests" 
        BentleyBuildMakeFile="${SrcRoot}BeGTest/gtest/buildGTest.mke" 
        BentleyBuildMakeOptions="-dTEST_NAME=WSClientTest -dTEST_COLLECTION_PRODUCT=WSClient-Tests" 
        OnlyPlatforms="x86,x64,Linux*,MacOS*"
        >
        <SubProduct ProductName="WSClient-Tests"/>
        <SubPart PartName="Gtest-Tools" Repository="BeGTest" PartFile="BeGTest"/>
        <Bindings>
            <Files ProductDirectoryName="Gtest-NativeAssemblies">Delivery/Gtest/WSClientTest/Assemblies/*</Files>
            <Directory ProductDirectoryName="Gtest-Assets" SourceName="Delivery/Gtest/WSClientTest/Assets" />
        </Bindings>
    </Part>

    <Product Name="WSClient-Gtest" >
        <SubPart PartName="Gtest"/>
        <Directories DirectoryListName="GtestProduct" Repository="BeGTest" PartFile="BeGTest"/>
    </Product>

    <Part Name="RunGtest" DeferType="RunUnitTests" 
        BentleyBuildMakeFile="${SrcRoot}BeGTest/gtest/RunGTest.mke" 
        BentleyBuildMakeOptions="-dGTEST_EXE=$(OutputRootDir)Product/WSClient-Gtest/WSClientTest" 
        OnlyPlatforms="x86,x64,MacOs*,Linux*"
        >
        <SubProduct ProductName="WSClient-Gtest" />
        <SubPart PartName="Gtest-Tools" Repository="BeGTest" PartFile="BeGTest"/>
        <Bindings>
          <Files Required="false" SubPartDirectory="Gtest/Logs">Delivery/Gtest/Logs/WSClientTest.log</Files>
        </Bindings>
    </Part>

    <!-- Part for Visual Studio based builds on G0505 -->
    <Part Name="WSClientUnitTests-VS" >
        <SubPart PartName="WSClientUnitTests" />
        <SubPart PartName="BeGTestExe" PartFile="BeGTest" Repository="BeGTest" />
    </Part>

    <!-- ********************** -->
    <!-- **** AndroidJUnit **** -->
    <!-- ********************** -->
    <Part Name="AndroidJUnit" DeferType="BuildUnitTests" BentleyBuildMakeFile="${SrcRoot}BeGTest/Android/MakeJUnitTestProject.mke" BentleyBuildMakeOptions="-dTEST_COLLECTION_PRODUCT=WSClient-Tests -dSHARED_LIBRARIES=DgnClientFx,WebServicesClient,WebServicesCache,DgnDbServerClient -dTEST_ANDROID_MIN_SDK_VERSION=19" OnlyPlatforms="Android*">
        <SubProduct ProductName="WSClient-Tests"/>
        <SubPart PartName="AndroidJUnitTest-Tools" Repository="BeGTest" PartFile="BeGTest"/>
        <Bindings>
            <Directory ProductDirectoryName="AndroidJUnit-Project" SourceName="Delivery/ANJUP" />
        </Bindings>
    </Part>

    <Product Name="WSClient-AndroidJUnit" >
        <SubPart PartName="AndroidJUnit" LibType="Static"/>
        <Directories DirectoryListName="AndroidJUnitProduct" Repository="BeGTest" PartFile="BeGTest"/>
    </Product>

    <Part Name="RunAndroidJUnitTest" DeferType="RunUnitTests" BentleyBuildMakeFile="${SrcRoot}BeGTest/Android/RunAndroidJUnitTest.mke" BentleyBuildMakeOptions="-dANDROIDJUNIT_PRODUCT=WSClient-AndroidJUnit" OnlyPlatforms="Android*">
        <SubProduct ProductName="WSClient-AndroidJUnit"/>
        <Bindings>
          <Files Required="false" SubPartDirectory="ANJU/Logs">Delivery/ANJU/Logs/WSClient-AndroidJUnit.log</Files>
        </Bindings>
    </Part>

    <!-- ********************** -->
    <!-- **** iOSXCTest **** -->
    <!-- ********************** -->
    <Part Name="iOSXCTest" DeferType="BuildUnitTests" BentleyBuildMakeFile="${SrcRoot}BeGTest/iOS/MakeXCTestProject.mke" BentleyBuildMakeOptions="-dTEST_NAME=WSClient -dTEST_COLLECTION_PRODUCT=WSClient-Tests -dUSE_STATIC_LIBRARIES=1" OnlyPlatforms="iOS*">
        <SubProduct ProductName="WSClient-Tests"/>
        <SubPart PartName="iOSXCTest-Tools" Repository="BeGTest" PartFile="BeGTest"/>
        <Bindings>
            <Directory ProductDirectoryName="iOSXCTestProject" SourceName="Delivery/iOSXCTest/WSClient/Project" />
        </Bindings>
    </Part>

    <Product Name="WSClient-iOSXCTest" >
        <SubPart PartName="iOSXCTest" LibType="Static"/>
        <Directories DirectoryListName="iOSXCTestProduct" Repository="BeGTest" PartFile="BeGTest"/>
    </Product>

    <Part Name="RuniOSXCTest" DeferType="RunUnitTests" BentleyBuildMakeFile="${SrcRoot}BeGTest/iOS/RunXCTestProject.mke" BentleyBuildMakeOptions="-dXCTEST_PRODUCT=WSClient-iOSXCTest" OnlyPlatforms="iOS*">
        <SubProduct ProductName="WSClient-iOSXCTest"/>
        <Bindings>
            <Files Required="false" SubPartDirectory="XCTest/Logs">Delivery/XCTest/Logs/WSClient-iOSXCTest.log</Files>
        </Bindings>
    </Part>

    <!-- *********************************************************** -->
    <!-- **** UWP Microsoft::VisualStudio::CppUnitTestFramework **** -->
    <!-- *********************************************************** -->
    <!-- N.B. ApiNumber is important here because we must manually reference some DLLs, and thus need an accruate suffix to find them. -->
    <Part
        Name="UwpTest" DeferType="BuildUnitTests"
        BentleyBuildMakeFile="${SrcRoot}BeGTest/uwp/MakeUwpTestProject.mke"
        BentleyBuildMakeOptions="-dTEST_NAME=WSClient -dTEST_COLLECTION_PRODUCT=WSClient-Tests"
        OnlyPlatforms="WinRT*"
        ApiNumber="B02"
        >
        <SubProduct ProductName="WSClient-Tests"/>
        <SubPart PartName="UwpTest-Tools" Repository="BeGTest" PartFile="BeGTest"/>
        <Bindings>
            <Directory ProductDirectoryName="UwpTestProject" SourceName="Delivery/WSClientUwpTest"/>
        </Bindings>
    </Part>

    <Product Name="WSClient-UwpTest">
        <SubPart PartName="UwpTest"/>
        <Directories DirectoryListName="UwpTestProduct" Repository="BeGTest" PartFile="BeGTest"/>
    </Product>

    <Part
        Name="RunUwpTest"
        BentleyBuildMakeFile="${SrcRoot}BeGTest/uwp/RunUwpTestProject.mke"
        BentleyBuildMakeOptions="-dUWPTEST_PRODUCT=WSClient-UwpTest"
        OnlyPlatforms="WinRT*"
        >
        <SubProduct ProductName="WSClient-UwpTest"/>
        <Bindings>
            <Files Required="false" SubPartDirectory="UwpTest/Logs">Delivery/UwpTest/Logs/WSClient-UwpTest.log</Files>
        </Bindings>
    </Part>

    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <!-- // Integration Tests - used for debugging                                 // -->
    <!-- //////////////////////////////////////////////////////////////////////////// -->

  <Product Name="WSClient-IntegrationGTest" OnlyPlatforms="x64">
    <SubPart PartName="WSClientIntegrationTests"/>
    <Directories DirectoryListName="IntegrationGTestDirectories"/>
  </Product>
  
  <ProductDirectoryList ListName="IntegrationGTestDirectories">
    <ProductDirectory Name="Gtest-NativeAssemblies" Path=""/>
    <ProductDirectory Name="Assemblies" Path=""/>
    <ProductDirectory Name="Assets" Path="Assets"/>
    <ProductDirectory Name="Assets" Path="Assets" LibType="static"/>
    <ProductDirectory Name="Gtest-Assets" Path="Assets"/>
    <ProductDirectory Name="VendorNotices" Deliver="false" />
    <ProductDirectory Name="VendorNotices" Deliver="false" LibType="static" />
  </ProductDirectoryList>
  
    <Part Name="WSClientIntegrationTests" DeferType="BuildUnitTests" BentleyBuildMakeFile="Tests/IntegrationTests/IntegrationTests.mke" OnlyPlatforms="x64">
        <SubPart PartName="DgnClientFxLibrary" PartFile="DgnClientFx" Repository="DgnClientFx"/>        
        <SubPart PartName="WebServicesClient" />
        <SubPart PartName="WebServicesCache" />
        <SubPart PartName="ConnectWebServicesClientC" />
        <SubPart PartName="WSClient-PublishedAPI" />
        <SubPart PartName="google_gtest_lib" PartFile="gtest" Repository="util-gtest" />
        <SubPart PartName="google_gmock_lib" PartFile="gmock" Repository="util-gmock" />
        <SubPart PartName="Gtest-Tools" Repository="BeGTest" PartFile="BeGTest"/>
        <Bindings>
          <Files ProductDirectoryName="Gtest-NativeAssemblies">
                Delivery/WSClientIntegrationTests.exe
             </Files>
        </Bindings>
    </Part>

    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <!-- // Compatibility Tests - tool for WSG server developers                   // -->
    <!-- //////////////////////////////////////////////////////////////////////////// -->

    <Part Name="WSClientCompatibilityTests" BentleyBuildMakeFile="Tests/CompatibilityTests/CompatibilityTests.mke" OnlyPlatforms="x86,x64">
        <SubPart PartName="WebServicesClient" />
        <SubPart PartName="WebServicesCache" />
        <SubPart PartName="google_gtest_lib" PartFile="gtest" Repository="util-gtest" />
        <SubPart PartName="google_gmock_lib" PartFile="gmock" Repository="util-gmock" />
    </Part>

</BuildContext>
