#----------------------------------------------------------------------------------------
#
#     $Source: RealityPlatform/Example/DataHandlerTool.mke $
#
#  $Copyright: (c) 2016 Bentley Systems, Incorporated. All rights reserved. $
#
#----------------------------------------------------------------------------------------
%include mdl.mki

appName = DataHandlerTool
baseDir = $(_MakeFilePath)

%include $(SrcRoot)RealityModFramework/mki/RealityModFrameworkCommon.mki


#----------------------------------------------------------------------
#       Create output directories
#----------------------------------------------------------------------
always:
    !~@mkdir $(o)


#----------------------------------------------------------------------
#       Compile C++/CLI source files for the DLM
#----------------------------------------------------------------------
%include CompileForCLRStart.mki

$(o)DataHandlerTool$(oext) : $(baseDir)DataHandlerTool.cpp

%include compileForCLRStop.mki


#----------------------------------------------------------------------
#       EXE creation
#----------------------------------------------------------------------
EXE_DEST = $(o)
EXE_NAME = $(appName)
EXE_OBJS = $(o)DataHandlerTool$(oext)

LINKER_LIBRARIES = $(ContextSubpartsLibs)Bentley.lib \
				   $(ContextDeliveryDir)RealityPlatform.lib
                   
                   #Gdi32.lib

# remove console options; let the system determine the entry point
# NOTE: Consequently prevents linking errors when using \entry linker
# option with managed c++ code.
%undef consoleOpts

%include $(SharedMki)linktool.mki
    