<?xml version="1.0" encoding="utf-8"?>

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../bsicommon/build/PartFile.xsd">

    <Part Name="PublicAPI" BentleyBuildMakeFile="RealityModFramework.prewire.mke">
        <Bindings>
            <PublicAPI Domain="RealityPlatform" />
            <PublicAPI Domain="RealityPackage" />
            <PublicAPI Domain="RealityAdmin" />
        </Bindings>
    </Part>
    
    <Part Name="RealityPlatform" BentleyBuildMakeFile="RealityPlatform\RealityPlatform.mke" OnlyPlatforms="x64">
        <SubPart PartName="RealityPackage" />
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="ImagePPDll"                 PartFile="ImagePP"                   Repository="ImagePP" />
        <SubPart PartName="BeCurl"                     PartFile="BeCurl"                    Repository="Libsrc-Curl"/>
        <SubPart PartName="BeHttp"                     PartFile="BeHttp"                    Repository="BeHttp"/>
        <SubPart PartName="BeJsonCpp"                  PartFile="BeJsonCpp"                 Repository="Libsrc-JsonCpp"/> 
        <SubPart PartName="CCAPI"                      PartFile="BentleyDesktopClient"      Repository="BentleyDesktopClient" />
        <Bindings>
            <Libs>Delivery/$(stlibprefix)RealityPlatform$(stlibext)</Libs>
            <Assemblies>delivery/$(shlibprefix)RealityPlatform$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityAdmin" BentleyBuildMakeFile="RealityAdmin\RealityAdmin.mke">
        <SubPart PartName="PublicAPI"/>
        <SubPart PartName="ImagePPDll"                 PartFile="ImagePP"                   Repository="ImagePP" />
        <SubPart PartName="PointoolsVortexAPI_DLL"     PartFile="PointoolsVortexAPI"        Repository="PointoolsVortexAPI" />
        <SubPart PartName="BeCurl"                     PartFile="BeCurl"                    Repository="Libsrc-Curl"/>
        <SubPart PartName="BeHttp"                     PartFile="BeHttp"                    Repository="BeHttp"/>
        <SubPart PartName="BeJsonCpp"                  PartFile="BeJsonCpp"                 Repository="Libsrc-JsonCpp"/>        
        <SubPart PartName="CCAPI"                      PartFile="BentleyDesktopClient"      Repository="BentleyDesktopClient" />
        <SubPart PartName="RealityPackage"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Libs>Delivery/$(stlibprefix)RealityAdmin$(stlibext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)RealityAdmin$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="WebTraverser" BentleyBuildMakeFile="RealityAdmin\WebTraverser\WebTraverser.mke">
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/WebTraverser.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="AwsTraverser" BentleyBuildMakeFile="RealityAdmin\AwsTraverser\AwsTraverser.mke">
        <SubPart PartName="BeCurl"                     PartFile="BeCurl"                    Repository="Libsrc-Curl"/>
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/AwsTraverser.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServicePerformanceTests" BentleyBuildMakeFile="Tests\PerformanceTests\RealityDataServicePerformanceTests.mke">
        <SubPart PartName="BeCurl"                     PartFile="BeCurl"                    Repository="Libsrc-Curl"/>
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServicePerformanceTests.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="LoadTestBase" BentleyBuildMakeFile="RealityAdmin\LoadTesters\LoadTestBase.mke">
        <SubPart PartName="BeCurl"                     PartFile="BeCurl"                    Repository="Libsrc-Curl"/>
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityAdmin"/>
        <SubPart PartName="BentleyDesktopClient-Api"/>
        <Bindings>
            <Libs>Delivery/$(stlibprefix)LoadTestBase$(stlibext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)LoadTestBase$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="GCSLoadTest" BentleyBuildMakeFile="RealityAdmin\LoadTesters\GCSLoadTester\GCSLoadTest.mke">
        <SubPart PartName="BeCurl"                     PartFile="BeCurl"                    Repository="Libsrc-Curl"/>
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityAdmin"/>
        <SubPart PartName="CCAPI"                      PartFile="BentleyDesktopClient"      Repository="BentleyDesktopClient" />
        <SubPart PartName="LoadTestBase"/>
        <Bindings>
            <Assemblies>Delivery/GCSLoadTest.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RDSLoadTest" BentleyBuildMakeFile="RealityAdmin\LoadTesters\RDSLoadTester\RDSLoadTest.mke">
        <SubPart PartName="BeCurl"                     PartFile="BeCurl"                    Repository="Libsrc-Curl"/>
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityAdmin"/>
        <SubPart PartName="BentleyDesktopClient-Api"/>
        <SubPart PartName="LoadTestBase"/>
        <Bindings>
            <Assemblies>Delivery/RDSLoadTest.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="3CSLoadTest" BentleyBuildMakeFile="RealityAdmin\LoadTesters\3CSLoadTester\3CSLoadTest.mke">
        <SubPart PartName="BeCurl"                     PartFile="BeCurl"                    Repository="Libsrc-Curl"/>
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityAdmin"/>
        <SubPart PartName="BentleyDesktopClient-Api"/>
        <SubPart PartName="LoadTestBase"/>
        <Bindings>
            <Assemblies>Delivery/3CSLoadTest.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityCrawler" BMakeFile="RealityCrawler\RealityCrawler.mke">
        <SubPart PartName="BentleyCrawlerLibNet"/>
        <SubPart PartName="WMSCapabilitiesNET"/>
        <SubPart PartName="CrawlerLib"/>
        <SubPart PartName="CrawlerLibExample"/>
    </Part>

    <Part Name="RealityPackage" BentleyBuildMakeFile="RealityPackage\RealityPackage.mke" OnlyPlatforms="x86,x64, androidarm7a">
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="BentleyDll"  PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="BeXml"    PartFile="BeLibxml2"    Repository="libsrc-libxml2" />
        <SubPart PartName="GeomDlls"    PartFile="geomlibs"     Repository="GeomLibs" />        
        <Bindings>
            <Libs>Delivery/$(libprefix)RealityPackage$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)RealityPackage$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityServicesNet" BMakeFile="RealityServicesNet\RealityServicesNet.mke">
        <SubPart PartName="RealityPackage" />
        <Bindings>
            <Assemblies>Delivery/RealityServicesNet$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="CrawlerLib" BentleyBuildMakeFile="CrawlerLib\CrawlerLib.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BeXml"            PartFile="BeLibxml2"    Repository="libsrc-libxml2" />
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <Bindings>
            <PublicAPI Domain="CrawlerLib" />
            <Libs>Delivery/$(stlibprefix)CrawlerLib$(stlibext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)CrawlerLib$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="CrawlerLibExample" BMakeFile="CrawlerLib/Example/CrawlerLibExample.mke">
        <SubPart PartName="CrawlerLib" />
        <Bindings>
            <Assemblies>Delivery/CrawlerLibExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="DownloadEngineExample" BentleyBuildMakeFile="RealityPlatform\Example\DownloadEngineExample.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Assemblies>Delivery/DownloadEngineExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceExample" BentleyBuildMakeFile="RealityPlatform\Example\RealityDataServiceExample.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceErrorReportingExample" BentleyBuildMakeFile="RealityPlatform\Example\RealityDataServiceErrorReportingExample.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceErrorReportingExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceUploader" BentleyBuildMakeFile="RealityPlatform\Example\RealityDataServiceUploader.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceUploader.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityDataServiceDownloader" BentleyBuildMakeFile="RealityPlatform\Example\RealityDataServiceDownloader.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceDownloader.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceToolsExample" BentleyBuildMakeFile="RealityPlatform\Example\RealityDataServiceToolsExample.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceToolsExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceConsole" BentleyBuildMakeFile="RealityAdmin\RealityDataServiceConsole\RealityDataServiceConsole.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceConsole.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="WSGServicesExample" BentleyBuildMakeFile="RealityPlatform\Example\WSGServicesExample.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Assemblies>Delivery/WSGServicesExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="GeoCoordinationServiceExample" BentleyBuildMakeFile="RealityPlatform\Example\GeoCoordinationServiceExample.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Assemblies>Delivery/GeoCoordinationServiceExample.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="ConversionToolsTester" BentleyBuildMakeFile="RealityAdmin\Example\ConversionToolsTester.mke">
        <SubPart PartName="BeCurl"              PartFile="BeCurl"       Repository="Libsrc-Curl"/>
        <SubPart PartName="BentleyDll"          PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/ConversionToolsTester.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="DataHandlerTool" BentleyBuildMakeFile="RealityAdmin\Example\DataHandlerTool.mke">
        <SubPart PartName="BentleyDll"  PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="RealityPlatform" />
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/DataHandlerTool.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="Reality-Examples">
        <SubPart PartName="DownloadEngineExample"/>
        <SubPart PartName="WSGServicesExample"/>
        <SubPart PartName="GeoCoordinationServiceExample"/>
        <SubPart PartName="RealityDataServiceExample"/>
        <SubPart PartName="RealityDataServiceErrorReportingExample"/>
        <SubPart PartName="RealityDataServiceToolsExample"/>
        <SubPart PartName="RealityDataServiceUploader"/>
        <SubPart PartName="RealityDataServiceDownloader"/>
        <SubPart PartName="RealityDataServiceConsole"/>
        <SubPart PartName="RealityDbECPlugin"/>
        <SubPart PartName="RealityDbECPluginC"/>
        <SubPart PartName="UsageDataExtractor"/>
        <SubPart PartName="CrawlerLibExample"/>
        <SubPart PartName="RealityDbECPluginInstaller" />
        <!--<SubPart PartName="DataHandlerTool" />-->
        <SubPart PartName="RealityServicesNet"/>
    </Part>
    
    <Part Name="RealityAdmin-Applications">
        <SubPart PartName="ConversionToolsTester"/>
        <SubPart PartName="WebTraverser"/>
        <SubPart PartName="AwsTraverser"/>
        <SubPart PartName="GCSLoadTest"/>
        <SubPart PartName="RDSLoadTest"/>
        <SubPart PartName="3CSLoadTest"/>
        <SubPart PartName="RealityDataServicePerformanceTests"/>
    </Part>

    <Part Name="RealityDbECPlugin" BMakeFile="RealityDbECPlugin\RealityDbECPlugin.mke" OnlyPlatforms="x86,x64">
        <SubPart PartName="RealityServicesNet"/>
        <SubPart PartName="ECServices"          PartFile="ecf"            Repository="ecf" />
        <SubPart PartName="JsonNet45"           PartFile="${SrcRoot}bsicommon/CvsPartFiles\bin"    Repository="Bin-JsonNet" />
        <Bindings>
            <Assemblies>Delivery/Bentley.RealityDbECPlugin.dll</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityDbECPluginC" BMakeFile="RealityDbECPlugin\RealityDbECPlugin.mke" BMakeOptions="-dIMSOFF=1 -dCONNECTENV=1" OnlyPlatforms="x86,x64">
    <!--<Part Name="RealityDbECPluginC" BMakeFile="RealityDbECPlugin\RealityDbECPlugin.mke" BMakeOptions="-dIMSOFF=1" OnlyPlatforms="x86,x64">-->
        <SubPart PartName="RealityDbECPluginNuGetPackages"/>
        <SubPart PartName="RealityServicesNet"/>
        <SubPart PartName="ECServices"          PartFile="ecf"            Repository="ecf" />
        <SubPart PartName="JsonNet45"           PartFile="${SrcRoot}bsicommon/CvsPartFiles\bin"    Repository="Bin-JsonNet" />
        <Bindings>
            <Assemblies>Delivery/Bentley.RealityDbECPluginC.dll</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="UsageDataExtractor" BMakeFile="RealityDbECPlugin\UsageDataExtractor\UsageDataExtractor.mke" OnlyPlatforms="x64">
        <RequiredRepository>BCC-IdentityModel</RequiredRepository>
        <SubPart PartName="ConnectClientAPI" PartFile="BentleyDesktopClient" Repository="BentleyDesktopClient"/>
        <SubPart PartName="RequiredNugets" />
        <!--<SubPart PartName="JsonNet45"           PartFile="${SrcRoot}bsicommon/CvsPartFiles\bin"    Repository="Bin-JsonNet" />-->
        <Bindings>
            <Assemblies>Delivery/UsageDataExtractor.exe</Assemblies>    
            <Files ProductDirectoryName="Assemblies">Delivery/UsageDataExtractor.exe.config</Files>
        </Bindings>
    </Part>
    
    <Part Name="RealityDbECPluginNuGetPackages">
        <RequiredRepository>Bsitools-NuGet</RequiredRepository>       
        
        <!--<NuGetPackage targetFramework=".NETFramework4.5.2">Bentley.ECAbstractUI</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5.2">Bentley.ECF</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5.2">Bentley.ECObjects</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5.2">Bentley.ECPersistence</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5.2">Bentley.ECPluginBuilder</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5.2">Bentley.ECPresentation</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5.2">Bentley.ECSystem</NuGetPackage>-->
        
        <NuGetPackage targetFramework=".NETFramework4.0">Microsoft.WindowsAzure.ConfigurationManager</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">WindowsAzure.ServiceBus</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">Bentley.SelectServer.SaaS.Client</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">Bentley.Discovery.Buddi.Client</NuGetPackage>
        <!--<NuGetPackage targetFramework=".NETFramework4.0">Common.Logging</NuGetPackage>-->
        <!--<NuGetPackage targetFramework=".NETFramework4.0">Common.Logging.Core</NuGetPackage>-->

        <!--<SubPart PartName="LoggingManaged"  PartFile="LoggingSDK"   Repository="loggingsdk" />
        <SubPart PartName="Exceptions"           PartFile="platformtech"       Repository="platformtech" />
        <SubPart PartName="ExtensionDiscovery"   PartFile="platformtech"       Repository="platformtech" />
        <SubPart PartName="Platform"             PartFile="platformtech"       Repository="platformtech" />
        <SubPart PartName="General"              PartFile="platformtech"       Repository="platformtech" />
        <SubPart PartName="GeometryStructsNET"   PartFile="BentleyGeometryNet" Repository="BentleyGeometryNet" />
        <SubPart PartName="BentleyGeometryNETFB" PartFile="BentleyGeometryNet" Repository="BentleyGeometryNet" />
        <SubPart PartName="GeometryCommon"       PartFile="BentleyGeometryNet" Repository="BentleyGeometryNet" />
        <SubPart PartName="UI"                   PartFile="platformtech"       Repository="platformtech" />-->
        
        <!-- The following subparts have been added because BentleyDesktopClient already has a part for it. We have to get 
        this dll from that particular subpart, or else we have a conflict when building with RealityModFramework BuildStrategy 
        when using the commented lines below instead. If we do not get it from any source, we have a problem building 
        RealityContextServices BuildStrategy. If we ever get rid of BentleyDesktopClient from our other parts, 
        we'll be able to remove these subparts below and use the commented lines instead.-->
        
        <SubPart PartName="Common.Logging"          PartFile="BentleyDesktopClient" Repository="BentleyDesktopClient" />
        <SubPart PartName="Common.Logging.core"     PartFile="BentleyDesktopClient" Repository="BentleyDesktopClient" />
        
        <Bindings>
            <Assemblies>NuGet\net40\Microsoft.WindowsAzure.Configuration.dll</Assemblies> 
            <Assemblies>NuGet\net45\Bentley.SelectServer.SaaS.Client.dll</Assemblies> 
            <Assemblies>NuGet\net45-full\Microsoft.ServiceBus.dll</Assemblies> 
            <Assemblies>NuGet\net45\Bentley.Discovery.Buddi.Client.dll</Assemblies> 
            <!--<Assemblies>NuGet\net452\Bentley.EC.AbstractUI3.dll</Assemblies>
            <Assemblies>NuGet\net452\Bentley.EC.Persistence3.dll</Assemblies>
            <Assemblies>NuGet\net452\Bentley.EC.PluginBuilder3.dll</Assemblies>
            <Assemblies>NuGet\net452\Bentley.EC.Presentation3.dll</Assemblies>
            <Assemblies>NuGet\net452\Bentley.ECObjects3.dll</Assemblies>
            <Assemblies>NuGet\net452\Bentley.ECSystem3.dll</Assemblies>-->
            <!--<Assemblies>NuGet\net40\Common.Logging.dll</Assemblies>-->
            <!--<Assemblies>NuGet\net40\Common.Logging.Core.dll</Assemblies>-->
        </Bindings>
    </Part>
    
    <Part Name="RequiredNugets" BentleyBuildMakeFile="RequiredNugets.prewire.mke">
    
        <NuGetPackage targetFramework=".NETFramework4.5">Microsoft.Azure.KeyVault.Core</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">Microsoft.Data.Edm</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">Microsoft.Data.OData</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">Microsoft.Data.Services.Client</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">System.Spatial</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">WindowsAzure.Storage</NuGetPackage>
        <Bindings>
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.Azure.KeyVault.Core.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.Data.Edm.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.Data.OData.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.Data.Services.Client.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.WindowsAzure.Storage.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/System.Spatial.*</Files>  
        </Bindings>
    </Part>
    
    <Part Name="RealityDbECPluginCNuGet" BMakeFile="RealityDbECPlugin\NuGet\RealityDbECPluginC.NuGetPackage.mke">
        <RequiredRepository>Bsitools-NuGet</RequiredRepository>
        <SubPart PartName="RealityDbECPluginC" />
        <Bindings>
            <Files ProductDirectoryName="RealityDbECPluginNuGetPackages" Required="false">Install\Bentley.RealityDbECPluginC.*.nupkg</Files>
        </Bindings>
    </Part>
    
    <Part Name="BentleyWMSPackageNet" BMakeFile="BentleyWMSPackageNet\BentleyWMSPackageNet.mke" BMakeOptions="-dTranskitLink=1">
        <SubPart PartName="TranskitTools"    PartFile="TransKitTools" Repository="TransKitTools" />
        <SubPart PartName="RealityPackage"/>
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="BentleyDll"  PartFile="Bentley"      Repository="Bentley" />
        <SubPart PartName="GeomDlls"    PartFile="geomlibs"     Repository="GeomLibs" />
        <Bindings>
            <Assemblies>Delivery/BentleyWMSPackageNet$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDbECPluginInstaller" BMakeFile="RealityDbECPlugin/Install/Install.mke">
      <RequiredRepository>bsitools-wix_3.10.2103.0</RequiredRepository>
      <RequiredRepository>Miscdev-Eula</RequiredRepository>
      <RequiredRepository>Mergemodule-Microsoft_VC_14.0</RequiredRepository>
      <SubPart PartName="RealityDbECPlugin"/>
      <Bindings>
        <Files ProductDirectoryName="ApplicationInstallRoot" Required="true" IfNotPresent="Warn">Delivery/Setup_RealityDbECPlugin.msi</Files>
      </Bindings>
    </Part>

    <Part Name="WMSCapabilitiesNET" BentleyBuildMakeFile="WMSCapabilitiesNET\WMSCapabilitiesNET.mke">
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="BentleyDll"  PartFile="Bentley"      Repository="Bentley" />
        <Bindings>
            <Assemblies>Delivery/WMSCapabilitiesNET$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="BentleyCrawlerLibNet" BentleyBuildMakeFile="BentleyCrawlerLibNet\BentleyCrawlerLibNet.mke">
        <SubPart PartName="CrawlerLib"/>
        <Bindings>
            <Assemblies>Delivery/BentleyCrawlerLibNet$(shlibext)</Assemblies>
        </Bindings>
    </Part>

  
    <!-- ///////////////////////////////////////////////////////////////////////////////////// -->
    <!-- ////////////////////////////////// Products ///////////////////////////////////////// -->
    <!-- ///////////////////////////////////////////////////////////////////////////////////// -->
    
    <ProductDirectoryList ListName="RealityModFrameworkDirList" >
        <ProductDirectory Name="applicationroot"            Path=""/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot" LibType="static"/>
        <ProductDirectory Name="Assemblies"                 RelativeTo="applicationroot"/>

        <!--notices/ review if notices need to be delivered--> 
        <ProductDirectory Name="VendorNotices"   Deliver="false"    LibType="dynamic"   Path="notices"/>
        <ProductDirectory Name="VendorNotices"   Deliver="false"    LibType="static"    Path="notices"/>
        <!--<ProductDirectory Name="WSClientAssemblies" Deliver="false" LibType="static"/>-->

        <!--needed for the moment from LkgsVancouver -->
        <ProductDirectory Name="JsonNetAssemblies"              Path=""/>
        <ProductDirectory Name="IdentityModelAssemblies"        Path=""/>
        <ProductDirectory Name="BentleyGeometryNetAssemblies"   Path=""/>
        <ProductDirectory Name="BentleyNativeAssemblies"        Path=""/>
        <ProductDirectory Name="GeomNativeAssemblies"           Path=""/>
        <ProductDirectory Name="PlatformTechAssemblies"         Path=""/>
        <ProductDirectory Name="RmgrToolsNativeAssemblies"      Path=""/>
        <ProductDirectory Name="PPNativeAssemblies"             Path=""/>
        <ProductDirectory Name="ECObjectsNativeAssemblies"      Path=""/>
        <ProductDirectory Name="ECObjectsManagedAssemblies"     Path=""/>
        <ProductDirectory Name="ECServicesManagedAssemblies"    Path=""/>
        <ProductDirectory Name="ECSchemas"                      Path="ECSchemas" />
        <ProductDirectory Name="LoggingManagedAssemblies"       Path=""/>
        <ProductDirectory Name="LoggingNativeAssemblies"        Path=""/>
        <ProductDirectory Name="managedtests"                   Path=""/>
        
        <ProductDirectory Name="BentleyClientSharedAssemblies"  Path=""/>
        <ProductDirectory Name="BentleyDesktopClientApi"        Path=""/>
        <ProductDirectory Name="BentleyDesktopClientApi_Native" Path=""/>

        <ProductDirectory Name="ApplicationInstallRoot"         Path="InstallRealityDbECPlugin"      RelativeTo="applicationroot"/>
        <ProductDirectory Name="RealityDbECPluginNuGetPackages" Path="Install" />
    </ProductDirectoryList>
    
    <Product Name="RealityModFramework">
        <SubPart PartName="Reality-Examples"/>
        <SubPart PartName="RealityAdmin-Applications"/>
        <SubPart PartName="RealityDbECPluginCNuGet"/>
        <SubPart PartName="RealityModFrameworkTested"/>
        <Directories DirectoryListName="RealityModFrameworkDirList" />
    </Product>

    <Product Name="RealityContextServices" PrgOutputDir="RealityContextServices">
        <SubPart PartName="RealityDbECPluginCNuGet"/>
        <!--<SubPart PartName="UsageDataExtractor"/>-->
        <!--<SubPart PartName="RealityModelingFramework-Minimal-WinX64-Only"/>-->
        <Directories DirectoryListName="RealityModFrameworkDirList" />
    </Product>


    <!-- ///////////////////////////////////////////////////////////////////////////////////// -->
    <!-- // "RealityModelingFramework-Minimal Section                                       // -->

    <Part Name="RealityModelingFramework-Minimal-WinX64-Only" OnlyPlatforms="x64">
        <SubProduct ProductName="RealityModelingFramework-Minimal-WinX64"/>
        <Bindings>
            <PublicAPI Domain="RealityModFramework" />
        </Bindings>
    </Part>

    <Product Name="RealityModelingFramework-Minimal-WinX64" SaveProduct="true">
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <SubPart PartName="IncludeApi" />

        <!-- This must be listed last so that it can delivery=false items defined in preceding directory list(s). -->
        <Directories DirectoryListName="RealityModelingFramework-Minimal"/>
    </Product>

    <Part Name ="IncludeApi">
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Directory SourceName="PublicAPI" ProductDirectoryName="RealityModFrameworkIncludeDirectory" Required="false"/>
        </Bindings>
    </Part>

    <ProductDirectoryList ListName="RealityModelingFramework-Minimal">
        <ProductDirectory Name="applicationroot"            Path=""/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot" LibType="static"/>
        <ProductDirectory Name="Assemblies"                 Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Libs"                       Path="lib" RelativeTo="applicationroot"/>

        <ProductDirectory Name="VendorNotices"                      Deliver="true"  LibType="dynamic" Path="notices"/>
        <ProductDirectory Name="VendorNotices"                      Deliver="false" LibType="Static"/>

        <!-- include/ -->
        <ProductDirectory Name="RealityModFrameworkIncludeDirectory"       Deliver="true" Path="include"/>
        <ProductDirectory Name="RealityModFrameworkIncludeDirectory"       Deliver="true" Path="include" LibType="Static"/>

        <!--needed for the moment from LkgsVancouver -->
        <ProductDirectory Name="JsonNetAssemblies"              Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="IdentityModelAssemblies"        Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="BentleyGeometryNetAssemblies"   Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="PlatformTechAssemblies"         Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="ECObjectsManagedAssemblies"     Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="ECServicesManagedAssemblies"    Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="LoggingManagedAssemblies"       Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="ECSchemas"                      RelativeTo="applicationroot"/>
    </ProductDirectoryList>




    <!-- ********************************************************************************************** -->
    <!-- Nunit tests -->
    <!-- ********************************************************************************************** -->
    <ProductDirectoryList ListName="RealityDbECPluginTestsDirList" >
        <ProductDirectory Name="applicationroot"            Path=""/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot" LibType="static"/>
        <ProductDirectory Name="Assemblies"                 RelativeTo="applicationroot"/>

        <!--notices/ review if notices need to be delivered--> 
        <ProductDirectory Name="VendorNotices"   Deliver="false"    LibType="dynamic"   Path="notices"/>
        <ProductDirectory Name="VendorNotices"   Deliver="false"    LibType="static"    Path="notices"/>

        <!--needed for the moment from LkgsVancouver -->
        <ProductDirectory Name="LoggingNativeAssemblies"        Deliver="false"/>
        <ProductDirectory Name="LoggingManagedAssemblies"       Deliver="false"/>
        <ProductDirectory Name="managedtests"                   Deliver="false"/>
        <ProductDirectory Name="JsonNetAssemblies"              Path=""/>
        <ProductDirectory Name="IdentityModelAssemblies"        Path=""/>
        <ProductDirectory Name="BentleyGeometryNetAssemblies"   Path=""/>
        <ProductDirectory Name="PlatformTechAssemblies"         Path=""/>
        <ProductDirectory Name="RmgrToolsNativeAssemblies"      Path=""/>
        <ProductDirectory Name="PPNativeAssemblies"             Path="" />
        <ProductDirectory Name="ECObjectsNativeAssemblies"      Path="" />
        <ProductDirectory Name="ECObjectsManagedAssemblies"     Path="" />
        <ProductDirectory Name="ECServicesManagedAssemblies"    Path=""/>
        <ProductDirectory Name="ECSchemas"                      Path="ECSchemas" />
        <ProductDirectory Name="BentleyClientSharedAssemblies"  Path=""/>

        <ProductDirectory Name="NUnit 2.6.4 binaries"           Path=""/>
        <ProductDirectory Name="NUnit 2.6.4 core references"    Path=""/>
        <ProductDirectory Name="managedtests"                   Path=""/>
        <ProductDirectory Name="LoggingManagedAssemblies"       Path=""/>
        <ProductDirectory Name="RhinoMockAssemblies"            Path=""/>
    </ProductDirectoryList>


    <Part Name="RealityDbECPluginUnitTests" BMakeFile="Tests/RealityDbECPlugin/RealityDbECPluginTests.mke">
        <SubPart PartName="RealityDbECPluginC" />
        <SubPart PartName="nunit_2.6.4" PartFile="${SrcRoot}bsicommon/CvsPartFiles\bsitools" Repository="Bsitools-Nunit_2.6.4" />
        <SubPart PartName="rhinomocks_3.5" PartFile="${SrcRoot}bsicommon/CvsPartFiles\bsitools" Repository="Bsitools-Rhinomocks_3.5" />
        <Bindings>
            <Assemblies ProductDirectoryName="managedtests">
                Delivery\Bentley.RealityDbECPlugin.Tests.dll
            </Assemblies>
        </Bindings>
    </Part>

    <Part Name="RunRealityDbECPluginTests" BMakeFile="Tests\RealityDbECPlugin\RunRealityDbECPluginTests.mke">
        <SubPart PartName="RealityDbECPluginUnitTests"/>
    </Part>

    <Product Name="RealityContextServicesTests">
        <SubProduct ProductName="RealityContextServices"/>
        <SubPart PartName="RealityDbECPluginUnitTests"/>
        <Directories DirectoryListName="RealityDbECPluginTestsDirList" />
    </Product>

    <ProductDirectoryList ListName="RealityDbECPluginUnitTested">
        <ProductDirectory Name="applicationroot"            Path=""/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot" LibType="static"/>
        <ProductDirectory Name="Assemblies"                 RelativeTo="applicationroot"/>

        <!--notices/ review if notices need to be delivered--> 
        <ProductDirectory Name="VendorNotices"   Deliver="false"    LibType="dynamic"   Path="notices"/>
        <ProductDirectory Name="VendorNotices"   Deliver="false"    LibType="static"    Path="notices"/>
        
        <!--needed for the moment from LkgsVancouver -->
        <ProductDirectory Name="JsonNetAssemblies"              Path=""/>
        <ProductDirectory Name="IdentityModelAssemblies"        Path=""/>
        <ProductDirectory Name="BentleyGeometryNetAssemblies"   Path=""/>
        <ProductDirectory Name="PlatformTechAssemblies"         Path=""/>
        <ProductDirectory Name="RmgrToolsNativeAssemblies"      Path=""/>
        <ProductDirectory Name="ECObjectsManagedAssemblies"     Path="" />
        <ProductDirectory Name="ECServicesManagedAssemblies"    Path=""/>
        <ProductDirectory Name="ECSchemas"                      Path="ECSchemas" />
        <ProductDirectory Name="LoggingManagedAssemblies"       Path=""/>
        <ProductDirectory Name="LoggingNativeAssemblies"        Path="" Deliver="false"/>
        <ProductDirectory Name="managedtests"                   Path=""/>
        
        <ProductDirectory Name="BentleyClientSharedAssemblies"  Path=""/>
    </ProductDirectoryList>

    <Product Name="RealityContextServicesTested" PrgOutputDir="RealityContextServices">
        <SubProduct ProductName="RealityContextServicesTests" />
        <SubPart PartName="RunRealityDbECPluginTests" />
        <Directories DirectoryListName="RealityDbECPluginUnitTested" />
    </Product>

    <!-- ********************************************************************************************** -->
    <!-- Unit tests -->
    <!-- ********************************************************************************************** -->
    <Part Name="PrewireForUnitTests" BentleyBuildMakeFile="Tests/Prewire.mke">
        <Bindings>
            <Files ProductDirectoryName="UnitTests-IgnoreList" ProductSubDirectory="RealityMod" SubPartDirectory="UnitTests/RealityMod"> Delivery/UnitTests/ignore_list.txt</Files>
            <Files ProductDirectoryName="UnitTests-Assets" ProductSubDirectory="xsd">Delivery/UnitTests/RealityPackage.1.0.xsd</Files>
            <Files ProductDirectoryName="UnitTests-Assets" ProductSubDirectory="xsd">Delivery/UnitTests/RealityPackage.2.0.xsd</Files>
			<Files ProductDirectoryName="UnitTests-Assets" ProductSubDirectory="xsd">Delivery/UnitTests/RealityPackage.2.1.xsd</Files>
        </Bindings>
    </Part>

    <Part Name="RealityPackageUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BMakeOptions="-dTestDir=RealityPackage">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="RealityPackage"/>
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="RealityPackage" SourceName="Delivery/UnitTests/Objects/RealityPackage"/>
        </Bindings>
    </Part>

    <Part Name="RealityPlatformUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BMakeOptions="-dTestDir=RealityPlatform">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="RealityPlatform" SourceName="Delivery/UnitTests/Objects/RealityPlatform"/>
        </Bindings>
    </Part>

    <Part Name="RealityAdminUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BMakeOptions="-dTestDir=RealityAdmin">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="RealityAdmin" />
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"     ProductSubDirectory="RealityAdmin" SourceName="Delivery/UnitTests/Objects/RealityAdmin"/>
        </Bindings>
    </Part>
    
    <Part Name="CrawlerLibUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BMakeOptions="-dTestDir=CrawlerLib">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="CrawlerLib"/>
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="CrawlerLib" SourceName="Delivery/UnitTests/Objects/CrawlerLib"/>
        </Bindings>
    </Part>

    <!-- Define a test collection product -->
    <Part Name="Tests">
        <SubPart PartName="RealityPackageUnitTests"/>
        <SubPart PartName="RealityPlatformUnitTests"/>
        <SubPart PartName="RealityAdminUnitTests"/>
        <SubPart PartName="CrawlerLibUnitTests"/>
    </Part>

    <!-- Put the unit tests into the form of a product. This product will be consumed by a platform-specific "runner" product. -->
    <!-- Lay out the test product according to the standard BeGTest layout. -->
    <ProductDirectoryList ListName="RealityModFrameworkTestsDir" >
        <ProductDirectory Name="applicationroot"                Path=""/>
        <ProductDirectory Name="Assets"                         Path="Assets" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Assets"                         Path="Assets" RelativeTo="applicationroot" LibType="static"/>
        <ProductDirectory Name="Assemblies"                     RelativeTo="applicationroot"/>
        <ProductDirectory Name="BentleyClientSharedAssemblies"  RelativeTo="applicationroot"/>
        <ProductDirectory Name="BentleyDesktopClientApi"        RelativeTo="applicationroot"/>
        <ProductDirectory Name="BentleyDesktopClientApi_Native" RelativeTo="applicationroot"/>

        <!--needed for the moment from LkgsVancouver -->
        <ProductDirectory Name="ECObjectsManagedAssemblies"     Path="" />
        <ProductDirectory Name="ECServicesManagedAssemblies"    Path=""/>
        <ProductDirectory Name="ECSchemas"                      Path="ECSchemas" />
        <ProductDirectory Name="LoggingManagedAssemblies"       Path=""/>
        <ProductDirectory Name="managedtests"                   Path=""/>
    </ProductDirectoryList>
    
    <Product Name="RealityModFramework-Tests">
        <SubPart Repository="BeGTest" PartFile="BeGTest" PartName="Base" />
        <SubPart PartName="Tests"/>
        <!-- Lay out the Tests test product according to the standard BeGTest layout: -->
        <Directories DirectoryListName="CollectionProduct" Repository="BeGTest"  PartFile="BeGTest"/>
        <Directories DirectoryListName="RealityModFrameworkTestsDir"/>
    </Product>

   <!-- Create this part only to be able ccapi.dll in the product RealityModFramework-Gtest -->
   <!-- Don't understand the reason.                                                        -->
    <Part Name="BentleyDesktopClient-Api" BentleyBuildMakeFile="RealityModFrameworkBentleyDesktopClient.prewire.mke" OnlyPlatforms="x64">
        <SubPart PartName="CCAPI"                      PartFile="BentleyDesktopClient"      Repository="BentleyDesktopClient" />
        <Bindings>
            <Assemblies>Delivery/*.dll</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityFrameworkTestsData" BentleyBuildMakeFile="Tests/prewire.mke">
        <Bindings>
            <Files SubPartDirectory="TestData/RealityPlatform" ProductDirectoryName="RealityFrameworkTestDataRealityPlatform">Delivery/TestData/RealityPlatform/*</Files>
            <Files SubPartDirectory="TestData/RealityPackage" ProductDirectoryName="RealityFrameworkTestDataRealityPackage">Delivery/TestData/RealityPackage/*</Files>
        </Bindings>
    </Part>
    
    <!-- Define a gtest program to run the tests -->
    <Part Name="Gtest" BentleyBuildMakeFile="${SrcRoot}BeGTest/gtest/buildGTest.mke" BentleyBuildMakeOptions="-dTEST_NAME=RealityModFrameworkTest -dTEST_COLLECTION_PRODUCT=RealityModFramework-Tests" OnlyPlatforms="x86,x64,Linux*,MacOS*">
        <SubProduct ProductName="RealityModFramework-Tests"/>
        <SubPart PartName="Gtest-Tools" Repository="BeGTest" PartFile="BeGTest"/>
        <SubPart PartName="BentleyDesktopClient-Api" />
        <SubPart PartName="RealityFrameworkTestsData"/>
        <Bindings>
            <Files ProductDirectoryName="Gtest-NativeAssemblies">Delivery/Gtest/RealityModFrameworkTest/Assemblies/*</Files>
            <Directory ProductDirectoryName="Gtest-Assets" SourceName="Delivery/Gtest/RealityModFrameworkTest/Assets" />
        </Bindings>
    </Part>

    <ProductDirectoryList ListName="RealityModFramework-GtestDir" >
        <ProductDirectory Name="LoggingNativeAssemblies"        Path=""/>
        <ProductDirectory Name="BentleyClientSharedAssemblies"  Path=""/>
        <ProductDirectory Name="BentleyDesktopClientApi"        Path=""/>
        <ProductDirectory Name="BentleyDesktopClientApi_Native" Path=""/>
        <ProductDirectory Name="RealityFrameworkTestDataRealityPlatform"          Path="TestData/RealityPlatform"/>
        <ProductDirectory Name="RealityFrameworkTestDataRealityPackage"          Path="TestData/RealityPackage"/>
    </ProductDirectoryList>

    <Product Name="RealityModFramework-Gtest" >
        <SubPart PartName="Gtest"/>
        <Directories DirectoryListName="GtestProduct" Repository="BeGTest" PartFile="BeGTest"/>
        <Directories DirectoryListName="RealityModFramework-GtestDir"/>
    </Product>

    <Part Name="RunGtest" BentleyBuildMakeFile="${SrcRoot}BeGTest/gtest/RunGTest.mke" BentleyBuildMakeOptions="-dGTEST_PRODUCT=RealityModFramework-Gtest -dGTEST_NAME=RealityModFrameworkTest  -dGTEST_OUTPUT_DIR=$(OutputRootDir)build/RealityModFramework" OnlyPlatforms="x86,x64,MacOs*,Linux*">
        <SubProduct ProductName="RealityModFramework-Gtest" />
        <SubPart PartName="Gtest-Tools" Repository="BeGTest" PartFile="BeGTest"/>
    </Part>

    <!-- This part runs RealityModFrameworkTests on platforms that support it. -->
    <Part Name="RealityModFrameworkTested">
        <SubPart PartName="RunGtest" />
        <SubPart PartName="RealityDbECPluginUnitTests" />
    </Part>

</BuildContext>
