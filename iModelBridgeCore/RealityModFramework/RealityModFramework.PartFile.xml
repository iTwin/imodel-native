<?xml version="1.0" encoding="utf-8"?>

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../bsicommon/build/PartFile.xsd">

    <Part Name="PublicAPI" BentleyBuildMakeFile="RealityModFramework.prewire.mke">
        <Bindings>
            <PublicAPI Domain="RealityPlatform" />
            <PublicAPI Domain="RealityPlatformTools" />
            <PublicAPI Domain="RealityAdmin" />
            <PublicAPI Domain="SpatioTemporalSelector" />
        </Bindings>
    </Part>

    <Part Name="RealityPlatform" BentleyBuildMakeFile="RealityPlatform/RealityPlatform.mke" OnlyPlatforms="x86,x64, androidarm7a, AndroidArm64, iOSArm64" ApiNumber="M02">
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="BentleyDll"  PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="BeXml" PartFile="iModelCore/Bentley/Bentley" Repository="imodel02"/>
        <SubPart PartName="GeomDlls"    PartFile="iModelCore/GeomLibs/geomlibs"     Repository="imodel02" />
        <SubPart PartName="BeJsonCpp"                  PartFile="iModelCore/libsrc/jsoncpp/BeJsonCpp"                 Repository="imodel02"/> 
        <Bindings>
            <Libs>Delivery/$(libprefix)RealityPlatform$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)RealityPlatform$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityPlatformTools" BentleyBuildMakeFile="RealityPlatformToolsComplete/RealityPlatformTools.mke" OnlyPlatforms="x64" ApiNumber="M02">
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="RealityPlatform" />
        <SubPart PartName="Curl"                       PartFile="Libsrc-Nugets"             Repository="bsicommon"/>
        <SubPart PartName="BeHttp"                     PartFile="iModelCore/BeHttp/BeHttp"                    Repository="imodel02"/>
        <SubPart PartName="BeJsonCpp"                  PartFile="iModelCore/libsrc/jsoncpp/BeJsonCpp"                 Repository="imodel02"/>
        <SubPart PartName="BentleyDesktopClientCCApi"  PartFile="SdkSources"                Repository="bsicommon" />
        <Bindings>
            <Libs>Delivery/$(stlibprefix)RealityPlatformTools$(stlibext)</Libs>
            <Assemblies>delivery/$(shlibprefix)RealityPlatformTools$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <!-- depending on the target platform, use either the RealityPlatformTools definition above or below, comment out the other -->
    <Part Name="RealityPlatformToolsLight" BentleyBuildMakeFile="RealityPlatformToolsLight/RealityPlatformToolsLight.mke" OnlyPlatforms="x64, androidarm7a, AndroidArm64" ApiNumber="M02">
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="RealityPlatform" />
        <SubPart PartName="BeJsonCpp"                  PartFile="iModelCore/libsrc/jsoncpp/BeJsonCpp"                 Repository="imodel02"/>
        <SubPart PartName="ImagePPDll"                 PartFile="iModelBridgeCore/Imagepp/ImagePP"                   Repository="imodel02" />
        <Bindings>
            <Libs>Delivery/$(stlibprefix)RealityPlatformToolsLight$(stlibext)</Libs>
            <Assemblies>delivery/$(shlibprefix)RealityPlatformToolsLight$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityPlatformToolsNoCC" BentleyBuildMakeFile="RealityPlatformToolsNoCC/RealityPlatformToolsNoCC.mke" OnlyPlatforms="x64, androidarm7a, AndroidArm64, iOSArm64" ApiNumber="M02">
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="RealityPlatform" />
        <SubPart PartName="Curl"                       PartFile="Libsrc-Nugets"             Repository="bsicommon"/>
        <SubPart PartName="BeHttp"                     PartFile="iModelCore/BeHttp/BeHttp"                    Repository="imodel02"/>
        <SubPart PartName="BeJsonCpp"                  PartFile="iModelCore/libsrc/jsoncpp/BeJsonCpp"                 Repository="imodel02"/>
        <Bindings>
            <Libs>Delivery/$(stlibprefix)RealityPlatformToolsNoCC$(stlibext)</Libs>
            <Assemblies>delivery/$(shlibprefix)RealityPlatformToolsNoCC$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityAdmin" BentleyBuildMakeFile="RealityAdmin\RealityAdmin.mke" ApiNumber="M02">
        <SubPart PartName="PublicAPI"/>
        <SubPart PartName="ImagePPDll"                 PartFile="iModelBridgeCore/Imagepp/ImagePP"                   Repository="imodel02" />
        <SubPart PartName="PointoolsVortexAPI_DLL"     PartFile="iModelBridgeCore/Pointools/PointoolsVortexAPI/PointoolsVortexAPI"        Repository="imodel02" />
        <SubPart PartName="Curl"                       PartFile="Libsrc-Nugets"             Repository="bsicommon"/>
        <SubPart PartName="BeHttp"                     PartFile="iModelCore/BeHttp/BeHttp"                    Repository="imodel02"/>
        <SubPart PartName="BeJsonCpp"                  PartFile="iModelCore/libsrc/jsoncpp/BeJsonCpp"                 Repository="imodel02"/>
        <SubPart PartName="BentleyDesktopClientCCApi"  PartFile="SdkSources"                Repository="bsicommon" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="SpatioTemporalSelector"/>
        <Bindings>
            <Libs>Delivery/$(stlibprefix)RealityAdmin$(stlibext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)RealityAdmin$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="SpatioTemporalSelector" BentleyBuildMakeFile="SpatioTemporalSelector\SpatioTemporalSelector.mke" OnlyPlatforms="x64" ApiNumber="M02">
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="RealityPlatform" />
        <SubPart PartName="RealityPlatformTools" />
        <SubPart PartName="ImagePPDll"                 PartFile="iModelBridgeCore/Imagepp/ImagePP"                   Repository="imodel02" />
        <Bindings>
            <Libs>Delivery/$(stlibprefix)SpatioTemporalSelector$(stlibext)</Libs>
            <Assemblies>delivery/$(shlibprefix)SpatioTemporalSelector$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="WebTraverser" BentleyBuildMakeFile="RealityAdmin\WebTraverser\WebTraverser.mke">
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/WebTraverser.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="AwsTraverser" BentleyBuildMakeFile="RealityAdmin\AwsTraverser\AwsTraverser.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/AwsTraverser.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServicePerformanceTests" BentleyBuildMakeFile="Tests\PerformanceTests\RealityDataServicePerformanceTests.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServicePerformanceTests.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="LoadTestBase" BentleyBuildMakeFile="RealityAdmin\LoadTesters\LoadTestBase.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityAdmin"/>
        <SubPart PartName="BentleyDesktopClientCCApi"         PartFile="SdkSources"                Repository="bsicommon" />
        <Bindings>
            <Libs>Delivery/$(stlibprefix)LoadTestBase$(stlibext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)LoadTestBase$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="GCSLoadTest" BentleyBuildMakeFile="RealityAdmin\LoadTesters\GCSLoadTester\GCSLoadTest.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityAdmin"/>
        <SubPart PartName="LoadTestBase"/>
        <Bindings>
            <Assemblies>Delivery/GCSLoadTest.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RDSLoadTest" BentleyBuildMakeFile="RealityAdmin\LoadTesters\RDSLoadTester\RDSLoadTest.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityAdmin"/>
        <SubPart PartName="LoadTestBase"/>
        <Bindings>
            <Assemblies>Delivery/RDSLoadTest.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="3CSLoadTest" BentleyBuildMakeFile="RealityAdmin\LoadTesters\3CSLoadTester\3CSLoadTest.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityAdmin"/>
        <SubPart PartName="LoadTestBase"/>
        <Bindings>
            <Assemblies>Delivery/3CSLoadTest.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityCrawler" BMakeFile="RealityCrawler\RealityCrawler.mke">
        <SubPart PartName="BentleyCrawlerLibNet"/>
        <SubPart PartName="WMSCapabilitiesNET"/>
        <SubPart PartName="CrawlerLib"/>
        <SubPart PartName="CrawlerLibExample"/>
    </Part>
    
    <Part Name="RealityServicesNet" BMakeFile="RealityServicesNet\RealityServicesNet.mke">
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="RealityPlatform" />
        <SubPart PartName="BeJsonCpp"                  PartFile="iModelCore/libsrc/jsoncpp/BeJsonCpp"                 Repository="imodel02"/>         
        <Bindings>
            <Assemblies>Delivery/RealityServicesNet$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="CrawlerLib" BentleyBuildMakeFile="CrawlerLib\CrawlerLib.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BeXml" PartFile="iModelCore/Bentley/Bentley" Repository="imodel02"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <Bindings>
            <PublicAPI Domain="CrawlerLib" />
            <Libs>Delivery/$(stlibprefix)CrawlerLib$(stlibext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)CrawlerLib$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="CrawlerLibExample" BMakeFile="CrawlerLib/Example/CrawlerLibExample.mke">
        <SubPart PartName="CrawlerLib" />
        <Bindings>
            <Assemblies>Delivery/CrawlerLibExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="DownloadEngineExample" BentleyBuildMakeFile="RealityPlatformTools\Example\DownloadEngineExample.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Assemblies>Delivery/DownloadEngineExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceExample" BentleyBuildMakeFile="RealityPlatformTools\Example\RealityDataServiceExample.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceErrorReportingExample" BentleyBuildMakeFile="RealityPlatformTools\Example\RealityDataServiceErrorReportingExample.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceErrorReportingExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="SimpleRDSApiExample" BentleyBuildMakeFile="RealityPlatformTools\Example\SimpleRDSApiExample.mke">
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Assemblies>Delivery/SimpleRDSApiExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="SimpleGCSApiExample" BentleyBuildMakeFile="RealityPlatformTools\Example\SimpleGCSApiExample.mke">
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="SpatioTemporalSelector"/>
        <Bindings>
            <Assemblies>Delivery/SimpleGCSApiExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceUploader" BentleyBuildMakeFile="RealityPlatformTools\Example\RealityDataServiceUploader.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceUploader.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="RealityDataServiceDownloader" BentleyBuildMakeFile="RealityPlatformTools\Example\RealityDataServiceDownloader.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceDownloader.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceToolsExample" BentleyBuildMakeFile="RealityPlatformTools\Example\RealityDataServiceToolsExample.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceToolsExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="RealityDataServiceConsole" BentleyBuildMakeFile="RealityAdmin\RealityDataServiceConsole\RealityDataServiceConsole.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/RealityDataServiceConsole.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="WSGServicesExample" BentleyBuildMakeFile="RealityPlatformTools\Example\WSGServicesExample.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Assemblies>Delivery/WSGServicesExample.exe</Assemblies>
        </Bindings>
    </Part>

    <Part Name="GeoCoordinationServiceExample" BentleyBuildMakeFile="RealityPlatformTools\Example\GeoCoordinationServiceExample.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="SpatioTemporalSelector"/>
        <Bindings>
            <Assemblies>Delivery/GeoCoordinationServiceExample.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="ConversionToolsTester" BentleyBuildMakeFile="RealityAdmin\Example\ConversionToolsTester.mke">
        <SubPart PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/ConversionToolsTester.exe</Assemblies>
        </Bindings>
    </Part>

  <Part Name="AustraliaUploader" BentleyBuildMakeFile="RealityAdmin\AustraliaUploader\AustraliaUploader.mke">
    <SubPart PartName="BentleyDll"          PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
    <SubPart PartName="RealityPlatform"/>
    <SubPart PartName="RealityAdmin"/>
    <Bindings>
      <Assemblies>Delivery/AustraliaUploader.exe</Assemblies>
    </Bindings>
  </Part>
    
    <Part Name="DataHandlerTool" BentleyBuildMakeFile="RealityAdmin\Example\DataHandlerTool.mke">
        <SubPart PartName="BentleyDll"  PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="RealityPlatformTools" />
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
            <Assemblies>Delivery/DataHandlerTool.exe</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="Reality-Examples">
        <SubPart PartName="DownloadEngineExample"/>
        <SubPart PartName="WSGServicesExample"/>
        <SubPart PartName="GeoCoordinationServiceExample"/>
        <SubPart PartName="RealityDataServiceExample"/>
        <SubPart PartName="RealityDataServiceErrorReportingExample"/>
        <SubPart PartName="RealityDataServiceToolsExample"/>
        <SubPart PartName="SimpleRDSApiExample"/>
        <SubPart PartName="SimpleGCSApiExample"/>
        <SubPart PartName="RealityDataServiceUploader"/>
        <SubPart PartName="RealityDataServiceDownloader"/>
        <SubPart PartName="RealityDataServiceConsole"/>
        <SubPart PartName="CrawlerLibExample"/>
        <SubPart PartName="RealityServicesNet"/>
    </Part>
    
    <Part Name="RealityAdmin-Applications">
        <SubPart PartName="ConversionToolsTester"/>
        <SubPart PartName="AustraliaUploader"/>
        <SubPart PartName="WebTraverser"/>
        <SubPart PartName="AwsTraverser"/>
        <SubPart PartName="GCSLoadTest"/>
        <SubPart PartName="RDSLoadTest"/>
        <SubPart PartName="3CSLoadTest"/>
        <SubPart PartName="RealityDataServicePerformanceTests"/>
    </Part>


    <Part Name="RealityServicesNetNuGetPackages">     
        <RequiredRepository>Bsitools-NuGet</RequiredRepository>  
    <!--    <Bindings>
            <Assemblies>NuGet\net40\Common.Logging.dll</Assemblies>
            <Assemblies>NuGet\net40\Common.Logging.Core.dll</Assemblies>
        </Bindings> -->
    </Part>

    <Part Name="RealityServicesNetNuGet" BMakeFile="RealityServicesNet\NuGet\Bentley.RealityServicesNet.NuGetPackage.mke" OnlyPlatforms="x86,x64">
        <RequiredRepository>Bsitools-NuGet</RequiredRepository>
        <SubPart PartName="RealityServicesNet" />
        <SubPart PartName="RealityServicesNetNuGetPackages"/>
        <Bindings>
            <Files ProductDirectoryName="RealityServicesNetNuGetPackages" Required="false">Install\Bentley.RealityServicesNet\Bentley.RealityServicesNet.*.nupkg</Files>
        </Bindings>
    </Part>
    
    <Part Name="RequiredNugets" BentleyBuildMakeFile="RequiredNugets.prewire.mke">
    
        <NuGetPackage targetFramework=".NETFramework4.5">Microsoft.Azure.KeyVault.Core</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">Microsoft.Data.Edm</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">Microsoft.Data.OData</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">Microsoft.Data.Services.Client</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">System.Spatial</NuGetPackage>
        <NuGetPackage targetFramework=".NETFramework4.5">WindowsAzure.Storage</NuGetPackage>
        <Bindings>
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.Azure.KeyVault.Core.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.Data.Edm.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.Data.OData.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.Data.Services.Client.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/Microsoft.WindowsAzure.Storage.*</Files> 
            <Files ProductDirectoryName="Assemblies">Delivery/System.Spatial.*</Files>  
        </Bindings>
    </Part>
    
    <Part Name="BentleyWMSPackageNet" BMakeFile="BentleyWMSPackageNet\BentleyWMSPackageNet.mke" BMakeOptions="-dTranskitLink=1">
        <SubPart PartName="TranskitTools"    PartFile="TransKitTools" Repository="TransKitTools" />
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="BentleyDll"  PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <SubPart PartName="GeomDlls"    PartFile="iModelCore/GeomLibs/geomlibs"     Repository="imodel02" />
        <Bindings>
            <Assemblies>Delivery/BentleyWMSPackageNet$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="WMSCapabilitiesNET" BentleyBuildMakeFile="WMSCapabilitiesNET\WMSCapabilitiesNET.mke">
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="PublicAPI" />
        <SubPart PartName="BentleyDll"  PartFile="iModelCore/Bentley/Bentley"      Repository="imodel02" />
        <Bindings>
            <Assemblies>Delivery/WMSCapabilitiesNET$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="BentleyCrawlerLibNet" BentleyBuildMakeFile="BentleyCrawlerLibNet\BentleyCrawlerLibNet.mke">
        <SubPart PartName="CrawlerLib"/>
        <Bindings>
            <Assemblies>Delivery/BentleyCrawlerLibNet$(shlibext)</Assemblies>
        </Bindings>
    </Part>

  
    <!-- ///////////////////////////////////////////////////////////////////////////////////// -->
    <!-- ////////////////////////////////// Products ///////////////////////////////////////// -->
    <!-- ///////////////////////////////////////////////////////////////////////////////////// -->
    
    <ProductDirectoryList ListName="RealityModFrameworkDirList" >
        <ProductDirectory Name="applicationroot"            Path=""/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot" LibType="static"/>
        <ProductDirectory Name="Assemblies"                 RelativeTo="applicationroot"/>
		<ProductDirectory Name="Assemblies"                 RelativeTo="applicationroot" LibType="static"/>

        <!--notices/ review if notices need to be delivered--> 
        <ProductDirectory Name="VendorNotices"   Deliver="false"    LibType="dynamic"   Path="notices"/>
        <ProductDirectory Name="VendorNotices"   Deliver="false"    LibType="static"    Path="notices"/>
        <!--<ProductDirectory Name="WSClientAssemblies" Deliver="false" LibType="static"/>-->

        <!--needed for the moment from LkgsVancouver -->
        <ProductDirectory Name="JsonNetAssemblies"              Path=""/>
        <ProductDirectory Name="IdentityModelAssemblies"        Path=""/>
        <ProductDirectory Name="BentleyGeometryNetAssemblies"   Path=""/>
        <ProductDirectory Name="BentleyNativeAssemblies"        Path=""/>
        <ProductDirectory Name="GeomNativeAssemblies"           Path=""/>
        <ProductDirectory Name="PlatformTechAssemblies"         Path=""/>
        <ProductDirectory Name="RmgrToolsNativeAssemblies"      Path=""/>
        <ProductDirectory Name="PPNativeAssemblies"             Path=""/>
        <ProductDirectory Name="ECObjectsNativeAssemblies"      Path=""/>
        <ProductDirectory Name="ECObjectsManagedAssemblies"     Path=""/>
        <ProductDirectory Name="ECServicesManagedAssemblies"    Path=""/>
        <ProductDirectory Name="ECSchemas"                      Path="ECSchemas" />
        <ProductDirectory Name="LoggingManagedAssemblies"       Path=""/>
        <ProductDirectory Name="LoggingNativeAssemblies"        Path=""/>
        <ProductDirectory Name="managedtests"                   Path=""/>
        
        <ProductDirectory Name="BentleyClientSharedAssemblies"  Path=""/>
        <ProductDirectory Name="BentleyDesktopClientApi"        Path=""/>
        <ProductDirectory Name="BentleyDesktopClientApi_Native" Path=""/>
    </ProductDirectoryList>
    
    <Product Name="RealityModFramework">
        <RequiredRepository>Bsitools-NuGet</RequiredRepository>

        <SubPart PartName="Reality-Examples"/>
        <SubPart PartName="RealityAdmin-Applications"/>
        <SubPart PartName="RealityModFrameworkTested"/>
        <SubPart PartName="RealityPlatformToolsLight"/>
        <SubPart PartName="RealityServicesNetNuGet" />
        <SubPart PartName="RealityPlatformToolsNoCC"/>
      <Directories DirectoryListName="RealityModFrameworkDirList" />
    </Product>

    <Product Name="RealityContextServices" PrgOutputDir="RealityContextServices">
        <SubPart PartName="RealityServicesNetNuGet" />
        <Directories DirectoryListName="RealityModFrameworkDirList" />
    </Product>


    <!-- ///////////////////////////////////////////////////////////////////////////////////// -->
    <!-- // "RealityModelingFramework-Minimal Section                                       // -->

    <Part Name="RealityModelingFramework-Minimal-WinX64-Only" OnlyPlatforms="x64">
        <SubProduct ProductName="RealityModelingFramework-Minimal-WinX64"/>
        <Bindings>
            <PublicAPI Domain="RealityModFramework" />
        </Bindings>
    </Part>

    <Product Name="RealityModelingFramework-Minimal-WinX64" SaveProduct="true">
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <SubPart PartName="IncludeApi" />

        <!-- This must be listed last so that it can delivery=false items defined in preceding directory list(s). -->
        <Directories DirectoryListName="RealityModelingFramework-Minimal"/>
    </Product>

    <Part Name ="IncludeApi">
        <SubPart PartName="RealityPlatformTools"/>
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Directory SourceName="PublicAPI" ProductDirectoryName="RealityModFrameworkIncludeDirectory" Required="false"/>
        </Bindings>
    </Part>

    <ProductDirectoryList ListName="RealityModelingFramework-Minimal">
        <ProductDirectory Name="applicationroot"            Path=""/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Assets"                     Path="Assets" RelativeTo="applicationroot" LibType="static"/>
        <ProductDirectory Name="Assemblies"                 Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Libs"                       Path="lib" RelativeTo="applicationroot"/>

        <ProductDirectory Name="VendorNotices"                      Deliver="true"  LibType="dynamic" Path="notices"/>
        <ProductDirectory Name="VendorNotices"                      Deliver="false" LibType="Static"/>

        <!-- include/ -->
        <ProductDirectory Name="RealityModFrameworkIncludeDirectory"       Deliver="true" Path="include"/>
        <ProductDirectory Name="RealityModFrameworkIncludeDirectory"       Deliver="true" Path="include" LibType="Static"/>

        <!--needed for the moment from LkgsVancouver -->
        <ProductDirectory Name="JsonNetAssemblies"              Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="IdentityModelAssemblies"        Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="BentleyGeometryNetAssemblies"   Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="PlatformTechAssemblies"         Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="ECObjectsManagedAssemblies"     Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="ECServicesManagedAssemblies"    Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="LoggingManagedAssemblies"       Path="lib" RelativeTo="applicationroot"/>
        <ProductDirectory Name="ECSchemas"                      RelativeTo="applicationroot"/>
    </ProductDirectoryList>




    <!-- ********************************************************************************************** -->
    <!-- Nunit tests -->
    <!-- ********************************************************************************************** -->
    <Product Name="RealityContextServicesTests">
        <SubProduct ProductName="RealityContextServices"/>
    </Product>

    <Product Name="RealityContextServicesTested" PrgOutputDir="RealityContextServices">
        <SubProduct ProductName="RealityContextServicesTests" />
    </Product>

    <!-- ********************************************************************************************** -->
    <!-- Unit tests -->
    <!-- ********************************************************************************************** -->
    <Part Name="PrewireForUnitTests" BentleyBuildMakeFile="Tests/Prewire.mke">
        <Bindings>
            <Files ProductDirectoryName="UnitTests-IgnoreList" ProductSubDirectory="RealityMod" SubPartDirectory="UnitTests/RealityMod"> Delivery/UnitTests/ignore_list.txt</Files>
            <Files ProductDirectoryName="UnitTests-Assets" ProductSubDirectory="xsd">Delivery/UnitTests/RealityPackage.1.0.xsd</Files>
            <Files ProductDirectoryName="UnitTests-Assets" ProductSubDirectory="xsd">Delivery/UnitTests/RealityPackage.2.0.xsd</Files>
			<Files ProductDirectoryName="UnitTests-Assets" ProductSubDirectory="xsd">Delivery/UnitTests/RealityPackage.2.1.xsd</Files>
        </Bindings>
    </Part>

    <Part Name="RealityPlatformUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BentleyBuildMakeOptions="-dTestDir=RealityPlatform">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="RealityPlatform"/>
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="RealityPlatform" SourceName="Delivery/UnitTests/Objects/RealityPlatform"/>
        </Bindings>
    </Part>

    <Part Name="RealityPlatformToolsUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BentleyBuildMakeOptions="-dTestDir=RealityPlatformTools">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="RealityPlatformTools"/>
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="RealityPlatformTools" SourceName="Delivery/UnitTests/Objects/RealityPlatformTools"/>
        </Bindings>
    </Part>

    <Part Name="RealityAdminUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BentleyBuildMakeOptions="-dTestDir=RealityAdmin">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="RealityAdmin" />
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"     ProductSubDirectory="RealityAdmin" SourceName="Delivery/UnitTests/Objects/RealityAdmin"/>
        </Bindings>
    </Part>
    
    <Part Name="CrawlerLibUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BentleyBuildMakeOptions="-dTestDir=CrawlerLib">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="CrawlerLib"/>
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="CrawlerLib" SourceName="Delivery/UnitTests/Objects/CrawlerLib"/>
        </Bindings>
    </Part>
    
    <Part Name="SpatioTemporalSelectorTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BentleyBuildMakeOptions="-dTestDir=SpatioTemporalSelector">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="SpatioTemporalSelector"/>
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="SpatioTemporalSelector" SourceName="Delivery/UnitTests/Objects/SpatioTemporalSelector"/>
        </Bindings>
    </Part>
  
    <Part Name="RealityPlatformToolsIntegrationTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BentleyBuildMakeOptions="-dTestDir=RealityPlatformToolsIntegration">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="RealityPlatformTools"/>
        <Bindings>
          <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="RealityPlatformToolsIntegration" SourceName="Delivery/UnitTests/Objects/RealityPlatformToolsIntegration"/>
        </Bindings>
    </Part>
  
    <Part Name="RealityAdminIntegrationTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BentleyBuildMakeOptions="-dTestDir=RealityAdminIntegration">
        <SubPart PartName="PrewireForUnitTests" />
        <SubPart PartName="RealityAdmin"/>
        <Bindings>
          <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="RealityAdminIntegration" SourceName="Delivery/UnitTests/Objects/RealityAdminIntegration"/>
        </Bindings>
    </Part>
  
    <!-- Define a test collection product -->
    <Part Name="Tests">
        <SubPart PartName="RealityPlatformUnitTests"/>
        <SubPart PartName="RealityPlatformToolsUnitTests"/>
        <SubPart PartName="RealityAdminUnitTests"/>
        <SubPart PartName="CrawlerLibUnitTests"/>
        <SubPart PartName="SpatioTemporalSelectorTests"/>
        <!--<SubPart PartName="IntegrationTests"/>--> <!--Uncomment this SubPart to build & run integration tests-->
    </Part>
    
    <Part Name="IntegrationTests">
        <SubPart PartName="RealityAdminIntegrationTests"/>
        <SubPart PartName="RealityPlatformToolsIntegrationTests"/>
    </Part>

    <!-- Put the unit tests into the form of a product. This product will be consumed by a platform-specific "runner" product. -->
    <!-- Lay out the test product according to the standard BeGTest layout. -->
    <ProductDirectoryList ListName="RealityModFrameworkTestsDir" >
        <ProductDirectory Name="applicationroot"                Path=""/>
        <ProductDirectory Name="Assets"                         Path="Assets" RelativeTo="applicationroot"/>
        <ProductDirectory Name="Assets"                         Path="Assets" RelativeTo="applicationroot" LibType="static"/>
        <ProductDirectory Name="Assemblies"                     RelativeTo="applicationroot"/>
        <ProductDirectory Name="BentleyClientSharedAssemblies"  RelativeTo="applicationroot"/>
        <ProductDirectory Name="BentleyDesktopClientApi"        RelativeTo="applicationroot"/>
        <ProductDirectory Name="BentleyDesktopClientApi_Native" RelativeTo="applicationroot"/>

        <!--needed for the moment from LkgsVancouver -->
        <ProductDirectory Name="ECObjectsManagedAssemblies"     Path="" />
        <ProductDirectory Name="ECServicesManagedAssemblies"    Path=""/>
        <ProductDirectory Name="ECSchemas"                      Path="ECSchemas" />
        <ProductDirectory Name="LoggingManagedAssemblies"       Path=""/>
        <ProductDirectory Name="managedtests"                   Path=""/>
    </ProductDirectoryList>
    
    <Product Name="RealityModFramework-Tests">
        <SubPart Repository="imodel02" PartFile="iModelCore/BeGTest/BeGTest" PartName="Base" />
        <SubPart PartName="Tests"/>
        <!-- Lay out the Tests test product according to the standard BeGTest layout: -->
        <Directories DirectoryListName="CollectionProduct" Repository="imodel02"  PartFile="iModelCore/BeGTest/BeGTest"/>
        <Directories DirectoryListName="RealityModFrameworkTestsDir"/>
    </Product>

    <Part Name="RealityFrameworkTestsData" BentleyBuildMakeFile="Tests/prewire.mke">
        <Bindings>
            <Files SubPartDirectory="TestData/RealityPlatformTools" ProductDirectoryName="RealityFrameworkTestDataRealityPlatformTools">Delivery/TestData/RealityPlatformTools/*</Files>
            <Files SubPartDirectory="TestData/RealityPlatform" ProductDirectoryName="RealityFrameworkTestDataRealityPlatform">Delivery/TestData/RealityPlatform/*</Files>
        </Bindings>
    </Part>
    
    <!-- Define a gtest program to run the tests -->
    <Part Name="Gtest" BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/gtest/buildGTest.mke" BentleyBuildMakeOptions="-dTEST_NAME=RealityModFrameworkTest -dTEST_COLLECTION_PRODUCT=RealityModFramework-Tests" OnlyPlatforms="x86,x64,Linux*,MacOS*">
        <SubProduct ProductName="RealityModFramework-Tests"/>
        <SubPart PartName="Gtest-Tools" Repository="imodel02"  PartFile="iModelCore/BeGTest/BeGTest"/>
        <SubPart PartName="BentleyDesktopClientCCApi"         PartFile="SdkSources"                Repository="bsicommon" />
        <SubPart PartName="RealityFrameworkTestsData"/>
        <Bindings>
            <Files ProductDirectoryName="Gtest-NativeAssemblies">Delivery/Gtest/RealityModFrameworkTest/Assemblies/*</Files>
            <Directory ProductDirectoryName="Gtest-Assets" SourceName="Delivery/Gtest/RealityModFrameworkTest/Assets" />
        </Bindings>
    </Part>

    <ProductDirectoryList ListName="RealityModFramework-GtestDir" >
        <ProductDirectory Name="LoggingNativeAssemblies"        Path=""/>
        <ProductDirectory Name="BentleyClientSharedAssemblies"  Path=""/>
        <ProductDirectory Name="BentleyDesktopClientApi"        Path=""/>
        <ProductDirectory Name="BentleyDesktopClientApi_Native" Path=""/>
        <ProductDirectory Name="RealityFrameworkTestDataRealityPlatformTools"          Path="TestData/RealityPlatformTools"/>
        <ProductDirectory Name="RealityFrameworkTestDataRealityPlatform"          Path="TestData/RealityPlatform"/>
    </ProductDirectoryList>

    <Product Name="RealityModFramework-Gtest" >
        <SubPart PartName="Gtest"/>
        <Directories DirectoryListName="GtestProduct" Repository="imodel02" PartFile="iModelCore/BeGTest/BeGTest"/>
        <Directories DirectoryListName="RealityModFramework-GtestDir"/>
    </Product>

    <Part Name="RunGtest" BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/gtest/RunGTest.mke" BentleyBuildMakeOptions="-dGTEST_PRODUCT=RealityModFramework-Gtest -dGTEST_NAME=RealityModFrameworkTest  -dGTEST_OUTPUT_DIR=$(OutputRootDir)build/RealityModFramework" OnlyPlatforms="x86,x64,MacOs*,Linux*">
        <SubProduct ProductName="RealityModFramework-Gtest" />
        <SubPart PartName="Gtest-Tools" Repository="imodel02" PartFile="iModelCore/BeGTest/BeGTest"/>
    </Part>

    <!-- This part runs RealityModFrameworkTests on platforms that support it. -->
    <Part Name="RealityModFrameworkTested">
        <SubPart PartName="RunGtest" />
    </Part>

</BuildContext>
