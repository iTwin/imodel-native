<?xml version="1.0" encoding="utf-8"?>

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../bsicommon/build/PartFile.xsd">

    <Part Name="BuildingDomains" PrgOutputDir="DesignModelingDomainsSDK">
        <SubPart PartName="RunBuildingDomainTests"/>
        <SubPart PartName="DesignModelingDomainsSDK-Only"/>
        <SubProduct ProductName="StructuralDomainsTested" PartFile="StructuralDomains"    Repository="DgnDomains-Structural"/>
        <SubProduct ProductName="AecUnitsTests"           PartFile="AecUnits"             Repository="DgnDomains-DesignModelingUnits"/>
    </Part>


    <!-- A convenience to platform developers that want to build platform and use Gist as their testbed. -->
    <Part Name="BuildingDomainsWithGist" PrgOutputDir="DgnClientSdk" Sequential="true">
        <SubPart PartName="DgnClientSdk-Tested" PartFile="DgnClientFx" Repository="DgnClientFx"/>
        <SubPart PartName="Gist" PartFile="Gist" Repository="Gist"/>
        <SubPart PartName="BuildingDomains"/>
    </Part>


    <Part Name="BuildingDomain" BentleyBuildMakeFile="Building.mke" ApiNumber="B02">
        <SubPart PartName="BuildingPhysicalPublicAPI"/>
        <SubPart PartName="AecUnitsDomain"             PartFile="AecUnits"              Repository="DgnDomains-DesignModelingUnits"/>
        <!--SubPart PartName="ConstraintModelSchema"      PartFile="ConstraintSystem"      Repository="DgnDomains-ConstraintSystem"/-->
        <SubPart PartName="Grids"                      PartFile="Grids"                 Repository="DgnDomains-Grids"/>
        <SubPart PartName="StructuralDomainDLL"        PartFile="StructuralDomains"     Repository="DgnDomains-Structural"/>
        <SubPart PartName="ProfilesDomainDLL"          PartFile="ProfilesDomain"        Repository="DgnDomains-Profiles"/>
        <SubPart PartName="FormsDomainDLL"             PartFile="FormsDomain"           Repository="DgnDomains-Forms"/>
        <SubPart PartName="DgnPlatformDLL"             PartFile="DgnPlatform"           Repository="DgnPlatform" />
        <Bindings>
            <Libs>Delivery/$(libprefix)BuildingDomain$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)BuildingDomain$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>   


    <Part Name="BuildingPhysicalPublicAPI" BentleyBuildMakeFile="Building.prewire.mke" ApiNumber="B02">
        <Bindings>
            <PublicAPI Domain="BuildingDomain"/>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
                ECSchemas/Domain/ArchitecturalPhysical.ecschema.xml
                ECSchemas/Domain/BuildingPhysical.ecschema.xml
            </Files>

            <Directory SourceName="PublicApi/BuildingDomain" ProductDirectoryName="BuildingDomainIncludes" />

          <!--  <Directory SourceName="Dox/Pages/Building"  SubPartDirectory="Dox/Pages/Building"/>
            <Directory SourceName="Dox/Images/Building" SubPartDirectory="Dox/Images/Building"/> -->
        </Bindings>
    </Part>

  <Part Name="ProfilesPublicAPI" BentleyBuildMakeFile="Profiles.prewire.mke" ApiNumber="B02">
    <Bindings>
      <PublicAPI Domain="ProfilesDomain"/>
      <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
        ECSchemas/Domain/Profiles.ecschema.xml
      </Files>

      <Directory SourceName="PublicApi/ProfilesDomain" ProductDirectoryName="ProfilesDomainIncludes" />
    </Bindings>
  </Part>
  
    <Part Name="BuildingDomainTestsExe" DeferType="BuildingDomainTests" BentleyBuildMakeFile="Tests/Tests.mke" OnlyPlatforms="x64">
        <SubPart PartName="google_gtest_lib"           PartFile="gtest"                 Repository="util-gtest"  />
        <SubPart PartName="DgnView"                    PartFile="DgnDisplay"            Repository="DgnDisplay"  />
        <SubPart PartName="DgnPlatformSqlang"          PartFile="DgnPlatform"           Repository="DgnPlatform" />
        <SubPart PartName="BuildingDomain"/>
        <SubPart PartName="StructuralDomainDLL"        PartFile="StructuralDomains"     Repository="DgnDomains-Structural"/>
        <SubPart PartName="ProfilesDomainDLL"          PartFile="ProfilesDomain"        Repository="DgnDomains-Profiles"/>
        <SubPart PartName="FormsDomainDLL"             PartFile="FormsDomain"           Repository="DgnDomains-Forms"/>
        <!--SubPart PartName="ConstraintModelSchema"      PartFile="ConstraintSystem"      Repository="DgnDomains-ConstraintSystem"/-->
        <SubPart PartName="Grids"                      PartFile="Grids"                 Repository="DgnDomains-Grids"/>
        <SubPart PartName="AecUnitsDomain"             PartFile="AecUnits"              Repository="DgnDomains-DesignModelingUnits"/>
        <Bindings>
              <Assemblies>Delivery/$(shlibprefix)BuildingDomainTests.exe</Assemblies>
              <Files ProductDirectoryName="Assets"> Delivery/BuildingDomainTests.logging.config.xml</Files>
              <Files ProductDirectoryName="Assets" ProductSubDirectory="sqlang">Delivery/BuildingDomainTests_en-US.sqlang.db3</Files>
        </Bindings>
    </Part>

    <ProductDirectoryList ListName="Tests">
        <ProductDirectory Name="VendorNotices"                  Path="VendorNotices"/>
        <ProductDirectory Name="Assemblies"                     Path="Assemblies"/>
        <ProductDirectory Name="Libs"                           Path="Libs"/>
        <ProductDirectory Name="Assets"                         Path="Assemblies/Assets"/>
        <ProductDirectory Name="IgnoreList"                     Path="Ignore"/>
        <ProductDirectory Name="DgnPlatformSqlang"              Path="sqlang"/>
        <ProductDirectory Name="UnitTests-Assets"               Deliver="false"/>
        <ProductDirectory Name="UnitTests-IgnoreList"           Deliver="false"/>
        <ProductDirectory Name="UnitTests-Objects"              Deliver="false"/>
    </ProductDirectoryList>

    <Product Name="BuildingDomainTests" OnlyPlatforms="x64">
        <SubPart PartName="BuildingDomainTestsExe"/>
        <Directories DirectoryListName="Tests"/>
    </Product>


    <Part Name="RunBuildingDomainTests" DeferType="RunUnitTests" BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/gtest/RunGtest.mke" BentleyBuildMakeOptions="-dGTEST_PRODUCT=BuildingDomainTests\Assemblies\  -dGTEST_NAME=BuildingDomainTests" OnlyPlatforms="x64" ExcludeLibType="Static">
        <SubProduct ProductName="BuildingDomainTests" />
        <SubPart PartName="Base"    PartFile="BeGTest"   Repository="BeGTest" />
        <Bindings>
            <Files Required="false" SubPartDirectory="Gtest/Logs">Delivery/Gtest/Logs/BuildingDomainTests.log</Files>
        </Bindings>
    </Part>


    <Part Name="DesignModelingDomainsSDK-Only" OnlyPlatforms="x64">
        <SubProduct ProductName="DesignModelingDomainsSDK"/>
    </Part>



    <Product Name="DesignModelingDomainsSDK"  SaveProduct="true">
    <!--
        <SubPart PartName="ConstraintModelSchema"           PartFile="ConstraintSystem"         Repository="DgnDomains-ConstraintSystem"/>
        <SubPart PartName="ConstraintModel"                 PartFile="ConstraintSystem"         Repository="DgnDomains-ConstraintSystem"/>
        -->
        <SubPart PartName="Grids"                           PartFile="Grids"                    Repository="DgnDomains-Grids"/>
        <SubPart PartName="SpacePlanningDomain"             PartFile="BuildingSpacePlanning"    Repository="DgnDomains-BuildingSpacePlanning"/>
        <SubPart PartName="StructuralDomainDLL"             PartFile="StructuralDomains"        Repository="DgnDomains-Structural"/>
        <SubPart PartName="ProfilesDomainDLL"               PartFile="ProfilesDomain"           Repository="DgnDomains-Profiles"/>
        <SubPart PartName="FormsDomainDLL"                  PartFile="FormsDomain"              Repository="DgnDomains-Forms"/>
        <SubPart PartName="ElectricalDomains"               PartFile="ElectricalDomains"        Repository="DgnDomains-Electrical"/>
        <SubPart PartName="PlantPrototypeDomainHandler"     PartFile="PlantPrototypeDomain"     Repository="DgnDomain-PlantPrototype"/>
        <SubPart PartName="PlantDomainEverything"           PartFile="PlantDomain"              Repository="DgnDomains-Plant"/>
        <SubPart PartName="AecUnitsDomain"                  PartFile="AecUnits"                 Repository="DgnDomains-DesignModelingUnits"/>
        <SubPart PartName="BuildingDomain"/>
        <Directories DirectoryListName="DesignModelingDomainsSDK"/>
    </Product>

    <ProductDirectoryList ListName="DesignModelingDomainsSDK">
        <ProductDirectory Name="PublicAPI"                               Deliver="true" Path="PublicAPI"/>
        <ProductDirectory Name="VendorAPI"                               Deliver="true" Path="VendorAPI"/>
        <ProductDirectory Name="VendorNotices"                           Deliver="true" Path="VendorNotices"/>
        <ProductDirectory Name="Assets"                                  Deliver="true" Path="Assets"/>
        <ProductDirectory Name="ComponentAssets"                         Deliver="true" Path="Assets"/>
        <ProductDirectory Name="Assets"                                  Deliver="true" Path="Assets" LibType="static"/>
        <ProductDirectory Name="Assemblies"                              Deliver="true" Path="Assemblies"/>
        <ProductDirectory Name="sqlang"                                  Deliver="true" Path="sqlang" RelativeTo="Assets"/>
        <ProductDirectory Name="sqlang"                                  Deliver="true" Path="sqlang" RelativeTo="Assets" LibType="static"/>
        <ProductDirectory Name="Libs"                                    Deliver="true" Path="lib/x64"/>
        <ProductDirectory Name="BuildingDomainIncludes"                  Deliver="true" Path="Include/BuildingDomain"/>
        <ProductDirectory Name="PlantPrototypeIncludes"                  Deliver="true" Path="Include/PlantPrototype"/>
        <ProductDirectory Name="SpacePlanningDomainIncludes"             Deliver="true" Path="Include/SpacePlanningDomain"/>
        <ProductDirectory Name="SpacePlanningIncludes"                   Deliver="true" Path="Include/SpacePlanningDomain"/>
        <ProductDirectory Name="StructuralDomainIncludes"                Deliver="true" Path="Include/StructuralDomain"/>
        <ProductDirectory Name="ProfilesDomainIncludes"                  Deliver="true" Path="Include/ProfilesDomain"/>
        <ProductDirectory Name="FormsDomainIncludes"                     Deliver="true" Path="Include/FormsDomain"/>
        <ProductDirectory Name="BuildingSpacePlanningDomainIncludes"     Deliver="true" Path="Include/BuildingSpacePlanningDomain"/>
        <ProductDirectory Name="GridsIncludes"                           Deliver="true" Path="Include/Grids"/>
        <ProductDirectory Name="ConstraintSystemIncludes"                Deliver="true" Path="Include/ConstraintSystem"/>
        <ProductDirectory Name="PlantDomainSchemasDir"                   Deliver="true" Path="Assets/ECSchemas/Domain"/>
        <ProductDirectory Name="PlantDomainAssembliesDir"                Deliver="true" Path="Assemblies"/>
        
    </ProductDirectoryList>


<!--

    <Part Name="ArchitecturalPhysical" BentleyBuildMakeFile="ArchitecturalPhysicalSchema\ArchitecturalPhysicalSchema.mke" ApiNumber="B02">
        <SubPart PartName="ArchPhysPublicAPI"/>
        <SubPart PartName="BuildingCommon"/>
        <SubPart PartName="BuildingPhysical"/>
        <SubPart PartName="DgnPlatformDLL"  PartFile="DgnPlatform"  Repository="DgnPlatform" />

        <Bindings>
            <Libs>Delivery/$(libprefix)ArchitecturalPhysical$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)ArchitecturalPhysical$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="ArchPhysPublicAPI" BentleyBuildMakeFile="ArchitecturalPhysicalSchema\ArchitecturalPhysicalSchema.prewire.mke">
        <Bindings>
            <PublicAPI Domain="ArchitecturalPhysical"/>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
                ECSchemas/Domain/ArchitecturalPhysical.ecschema.xml
            </Files>
        </Bindings>
    </Part>


    <Part Name="BuildingCommon" BentleyBuildMakeFile="BuildingCommonSchema\BuildingCommonSchema.mke" ApiNumber="B02">
        <SubPart PartName="BuildingCommonPublicAPI"/>
        <SubPart PartName="DgnPlatformDLL"  PartFile="DgnPlatform"  Repository="DgnPlatform" />
        <Bindings>
            <Libs>Delivery/$(libprefix)BuildingCommon$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)BuildingCommon$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="BuildingCommonPublicAPI" BentleyBuildMakeFile="BuildingCommonSchema\BuildingCommonSchema.prewire.mke">
        <Bindings>
            <PublicAPI Domain="BuildingCommon"/>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
                ECSchemas/Domain/BuildingCommon.ecschema.xml
            </Files>
        </Bindings>
    </Part>


    <Part Name="BuildingPhysical" BentleyBuildMakeFile="BuildingPhysicalSchema\BuildingPhysicalSchema.mke" ApiNumber="B02">
        <SubPart PartName="BuildingPhysicalPublicAPI"/>
        <SubPart PartName="DgnPlatformDLL"  PartFile="DgnPlatform"  Repository="DgnPlatform" />
        <Bindings>
            <Libs>Delivery/$(libprefix)BuildingPhysical$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)BuildingPhysical$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="BuildingPhysicalPublicAPI" BentleyBuildMakeFile="BuildingPhysicalSchema\BuildingPhysicalSchema.prewire.mke">
        <Bindings>
            <PublicAPI Domain="BuildingPhysical"/>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
                ECSchemas/Domain/BuildingPhysical.ecschema.xml
            </Files>
        </Bindings>
    </Part>


    <Part Name="ArchitecturalPhysicalTestsExe" DeferType="ArchitecturalPhysicalTests" BentleyBuildMakeFile="ArchitecturalPhysicalSchema/Tests/Tests.mke" OnlyPlatforms="x64">
        <SubPart PartName="google_gtest_lib"     PartFile="gtest"         Repository="util-gtest"  />
        <SubPart PartName="DgnView"              PartFile="DgnDisplay"    Repository="DgnDisplay"  />
        <SubPart PartName="DgnDbTestUtils"       PartFile="DgnPlatform"   Repository="DgnPlatform" />
        <SubPart PartName="DgnPlatformSqlang"    PartFile="DgnPlatform"   Repository="DgnPlatform" />
        <SubPart PartName="ArchitecturalPhysical"/>
        <Bindings>
              <Assemblies>Delivery/$(shlibprefix)ArchitecturalPhysicalTests.exe</Assemblies>
              <Files ProductDirectoryName="Assets">Delivery/ArchitecturalPhysicalTests.logging.config.xml</Files>
              <Files ProductDirectoryName="Assets" ProductSubDirectory="sqlang">Delivery/ArchitecturalPhysicalTests_en-US.sqlang.db3</Files>
        </Bindings>
    </Part>

    <ProductDirectoryList ListName="Tests">
        <ProductDirectory Name="VendorNotices"                  Path="VendorNotices"/>
        <ProductDirectory Name="Assemblies"                     Path="Assemblies"/>
        <ProductDirectory Name="Assets"                         Path="Assemblies/Assets"/>
        <ProductDirectory Name="IgnoreList"                     Path="Ignore"/>
        <ProductDirectory Name="DgnPlatformSqlang"              Path="sqlang"/>
        <ProductDirectory Name="UnitTests-Assets"               Deliver="false"/>
        <ProductDirectory Name="UnitTests-IgnoreList"           Deliver="false"/>
        <ProductDirectory Name="UnitTests-Objects"              Deliver="false"/>
    </ProductDirectoryList>

    <Product Name="ArchitecturalPhysicalTests" OnlyPlatforms="x64">
        <SubPart PartName="ArchitecturalPhysicalTestsExe"/>
        <Directories DirectoryListName="Tests"/>
    </Product>


    <Part Name="RunArchitecturalPhysicalTests" DeferType="RunUnitTests" BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/gtest/RunGtest.mke" BentleyBuildMakeOptions="-dGTEST_EXE=$(OutputRootDir)Product/ArchitecturalPhysicalTests/ArchitecturalPhysicalTests" OnlyPlatforms="x64" ExcludeLibType="Static">
        <SubProduct ProductName="ArchitecturalPhysicalTests" />
        <Bindings>
            <Files Required="false" SubPartDirectory="Gtest/Logs">Delivery/Gtest/Logs/ArchitecturalPhysicalTests.log</Files>
        </Bindings>
    </Part>

-->
    <!-- NOT YET

    BentleyBuildMakeFile="Building.mke" ApiNumber="B02"
        <SubPart PartName="ArchPhysPublishedApi"/>

    <Part Name="ArchPhysPublishedApi" BentleyBuildMakeFile="${SrcRoot}bsicommon/sharedmki/PublishApi.mke" BMakeOptions="+dPUBLISHAPI_DELIVERY_DIR=Delivery/PublishedApi +dPUBLISHAPI_VENDORAPI=json  +dPUBLISHAPI_VENDORAPI2=rapidjson +dPUBLISHAPI_VENDORAPI3=libxml +dPUBLISHAPI_VENDORAPI4=folly">
    <!-    <SubPart PartName="BuildingView"/> ->
        <Bindings>
            <Directory SourceName="Delivery/PublishedApi" SubPartDirectory="PublishedApi/ArchitecturalPhysical"/>
        </Bindings>
    </Part>

    <Part Name="BuildingView" BentleyBuildMakeFile="View/View.mke" ApiNumber="B02">
        <SubPart PartName="BeSQLite"          PartFile="BeSQLite"    Repository="BeSQLite" />
        <SubPart PartName="ECDb"              PartFile="ECDb"        Repository="ECDb" />
        <SubPart PartName="DgnPlatformDll"    PartFile="DgnPlatform" Repository="DgnPlatform" />
        <SubPart PartName="DgnView"           PartFile="DgnDisplay"  Repository="DgnDisplay" />
        <SubPart PartName="Building"/>
        <Bindings>
            <Libs>Delivery/$(libprefix)BuildingView$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)BuildingView$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
-->

<!-- NOT YET

    <Part Name="BuildingDocs" DeferType="BuildDocs">
        <SubPart PartName="BuildingPublishedApi" />
        <SubPart PartName="BuildingDocsBuildCodeSamples" />
    </Part>

    <Part Name="BuildingDocsBuildCodeSamples" DeferType="BuildDocs" BentleyBuildMakeFile="${SrcRoot}bsicommon/build/BuildSampleCode.mke" BMakeOptions="-dBUILD_SAMPLE_CODE_SOURCE_DIR=$(SrcRoot)DgnDomains/Building/docs/samplecode -dBUILD_SAMPLE_CODE_SUB_DIR=Buildingsamplecode -dPolicyFile=$(SrcRoot)DgnDomains/Building/BuildingPolicy.mki">
        <SubPart PartName="BuildingDocsExtractCodeSamples" />
    </Part>

    <Part Name="BuildingDocsExtractCodeSamples" DeferType="BuildDocs" BentleyBuildMakeFile="${SrcRoot}bsicommon/build/Extractions.mke" BMakeOptions="-dEXTRACTIONS_SOURCE_DIR=$(SrcRoot)DgnDomains/Building/docs/samplecode -dEXTRACTIONS_OUTPUT_BUILD_SUBDIR=Building/docs/extractedsamplecode -dEXTRACTIONS_NO_PROVENANCE -dEXTRACTIONS_OUTPUT_BUILDCONTEXT_SUBDIR=Dox/Extractions/Building">
        <SubPart PartName="BuildingPublishedApi" />
        <Bindings>
            <Directory SourceName="Dox/Extractions/Building" SubPartDirectory="Dox/Extractions/Building"/>
        </Bindings>
    </Part>
-->
<!-- NOT YET

    <!- ========================================================================================================
      Build Unit Tests
     ======================================================================================================== ->
    <Part Name="PrewireForUnitTests" DeferType="BuildUnitTests" BentleyBuildMakeFile="Tests/prewire.mke">
        <Bindings>
            <Files     ProductDirectoryName="UnitTests-IgnoreList"   ProductSubDirectory="Building" SubPartDirectory="UnitTests/Building">Delivery/UnitTests/ignore_list.txt</Files>
            <Files     ProductDirectoryName="UnitTests-Assets"       ProductSubDirectory="ECSchemas">Delivery/UnitTests/ECSchemas/*.xml</Files>
        </Bindings>
    </Part>

    <Part Name="BackdoorForUnitTests" DeferType="BuildUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BentleyBuildMakeOptions="-dTestDir=Backdoor">
        <SubPart PartName="Building" />
        <SubPart PartName="PrewireForUnitTests" />
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="Building/Backdoor" SourceName="Delivery/UnitTests/Objects/Backdoor"/>
        </Bindings>
    </Part>

    <Part Name="UnitTests-Published" DeferType="BuildUnitTests" BentleyBuildMakeFile="Tests/BuildTests.mke" BentleyBuildMakeOptions="-dTestDir=Published -dUsePublishedApi">
        <SubPart PartName="BackdoorForUnitTests" />
        <SubPart PartName="BuildingPublishedApi"/>
        <SubPart PartName="DgnDbTestUtils" PartFile="DgnPlatform" Repository="DgnPlatform" />
        <Bindings>
            <Directory ProductDirectoryName="UnitTests-Objects"    ProductSubDirectory="Building/Published" SourceName="Delivery/UnitTests/Objects/Published"/>
        </Bindings>
    </Part>

    <!- Define a test collection part. This is included in DgnClientFx's TestsAggregate ->
    <Part Name="Tests">
        <SubPart PartName="UnitTests-Published"/>
    </Part>

    <!- Define a gtest program to run the tests. The Gtest and RunGtest parts are included in DgnClientFx's Gtest-Aggregator and RunGtest-DgnClientFxTests parts ->

    <Product Name="Building-Tests">
        <SubPart PartName="Base" Repository="BeGTest" PartFile="BeGTest"/>
        <SubPart PartName="DgnPlatformSqlang" Repository="DgnPlatform" PartFile="DgnPlatform"/>
        <SubPart PartName="Tests"/>
        <Directories DirectoryListName="CollectionProduct" Repository="BeGTest" PartFile="BeGTest"/>
    </Product>

    <Part Name="Gtest" DeferType="BuildUnitTests" BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/gtest/buildGTest.mke"
    BentleyBuildMakeOptions="-dTEST_NAME=BuildingTests -dTEST_COLLECTION_PRODUCT=Building-Tests -dTEST_FRAMEWORK_SQLANG=DgnPlatform_en.sqlang.db3" OnlyPlatforms="x86,x64,MacOs*,Linux*">
        <SubProduct ProductName="Building-Tests"/>
        <SubPart PartName="Gtest-Tools" Repository="BeGTest" PartFile="BeGTest"/>
        <Bindings>
            <Files ProductDirectoryName="Gtest-NativeAssemblies">Delivery/Gtest/BuildingTests/Assemblies/*</Files>
            <Directory ProductDirectoryName="Gtest-Assets" SourceName="Delivery/Gtest/BuildingTests/Assets" />
        </Bindings>
    </Part>

    <Product Name="Building-Gtest">
        <SubPart PartName="Gtest"/>
        <Directories DirectoryListName="GtestProduct" Repository="BeGTest" PartFile="BeGTest"/>
    </Product>

    <Part Name="RunGtest" DeferType="RunUnitTests" BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/gtest/RunGTest.mke" BentleyBuildMakeOptions="-dGTEST_EXE=$(OutputRootDir)Product/Building-Gtest/BuildingTests" OnlyPlatforms="x86,x64,MacOs*,Linux*">
        <SubProduct ProductName="Building-Gtest" />
        <!- <SubPart PartName="Gtest-Tools" Repository="BeGTest" PartFile="BeGTest"/> ->
        <Bindings>
          <Files Required="false" SubPartDirectory="Gtest/Logs">Delivery/Gtest/Logs/BuildingTests.log</Files>
        </Bindings>
    </Part>
-->

</BuildContext>
