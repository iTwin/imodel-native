<?xml version="1.0" encoding="utf-8"?>

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../bsicommon/build/PartFile.xsd">

    <Part Name="LinearReferencing" BentleyBuildMakeFile="LinearReferencing.mke">
        <SubPart PartName="PublicAPI"/>
        <!-- Not sure exactly what this needs on imodel02, but we cannot consume the iModelBridgeFwk nuget here; iModelBridgeFwkExe-Windows is the closest drop-in Part we can use. -->
        <SubPart PartName="iModelBridgeFwkExe-Windows" PartFile="iModelBridgeCore/DgnDbSync/iModelBridge" Repository="imodel02"/>
        <Bindings>
            <Libs Required="false">Delivery/$(libprefix)LinearReferencing$(libext)</Libs>
            <Assemblies Required="false">Delivery/$(shlibprefix)LinearReferencing$(shlibext)</Assemblies>
        </Bindings>
    </Part>

    <Part Name="PublicAPI" BentleyBuildMakeFile="LinearReferencing.prewire.mke">
        <Bindings>
            <PublicAPI Domain="LinearReferencing"/>
        </Bindings>
    </Part>

    <Part Name="LinearReferencingPublishedApi" BentleyBuildMakeFile="${SrcRoot}bsicommon/sharedmki/PublishApi.mke"
          BMakeOptions="+dPUBLISHAPI_DELIVERY_DIR=Delivery/PublishedApi +dPUBLISHAPI_VENDORAPI2=rapidjson">
        <SubPart PartName="LinearReferencing"/>
        <Bindings>
            <Directory SourceName="Delivery/PublishedApi" SubPartDirectory="PublishedApi/LinearReferencing"/>
        </Bindings>
    </Part>

</BuildContext>