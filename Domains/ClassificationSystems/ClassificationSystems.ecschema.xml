<?xml version="1.0" encoding="UTF-8"?>
<!-- =====================================================================================
|
|     $Source: ClassificationSystems.ecschema.xml $
|
|  $Copyright: (c) 2018 Bentley Systems, Incorporated. All rights reserved. $
|
======================================================================================= -->
<ECSchema schemaName="ClassificationSystems" alias="clsf" version="01.00.00" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.1">
    <ECSchemaReference name="BisCore" version="01.00.01" alias="bis" />

    <ECEntityClass typeName="IClassified" modifier="Abstract" displayTitle="IClassifiedElement" Description="An interface that indicates that an element could be classified by classification(s)">
        <ECCustomAttributes>
            <IsMixin xmlns="CoreCustomAttributes.1.0">
                <AppliesToEntityClass>bis:Element</AppliesToEntityClass>
            </IsMixin>
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="ClassificationSystem" modifier="Sealed" displayLabel="ClassificationSystem">
        <BaseClass>bis:DefinitionElement</BaseClass>
        <BaseClass>bis:ISubModeledElement</BaseClass>
        <ECCustomAttributes>
          <ClassHasHandler xmlns="BisCore.1.0"/>
        </ECCustomAttributes>
    </ECEntityClass>
  
    <ECEntityClass typeName="Classification" modifier="Sealed" displayLabel="ClassificationSystem ClassDefinition" description="The ClassDefinition used to store classificationSystem data.">
        <BaseClass>bis:DefinitionElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0"/>
        </ECCustomAttributes>
        <ECProperty propertyName="Description" typeName="string" displayLabel="Description"/>
    </ECEntityClass>
    
    <ECEntityClass typeName="ClassificationGroup" modifier="Sealed" displayLabel="ClassificationSystem ClassDefinition group" description="The ClassDefinition group element">
        <BaseClass>bis:GroupInformationElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0"/>
        </ECCustomAttributes>
    </ECEntityClass>
        
    <ECRelationshipClass typeName="IClassifiedIsClassifiedAs" modifier="None" strength="referencing" description="a relationship to map IClassified to Classifications">
        <BaseClass>bis:ElementRefersToElements</BaseClass>
        <Source multiplicity="(0..*)" roleLabel="is classified as" polymorphic="true">
            <Class class="IClassified"/>
        </Source>
        <Target multiplicity="(0..*)" roleLabel="classifies" polymorphic="false">
            <Class class="Classification"/>
        </Target>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="ClassificationGroupGroupsClassifications" modifier="None" strength="referencing" description="a relationship to map Classification to its group">
        <BaseClass>bis:ElementGroupsMembers</BaseClass>
        <Source multiplicity="(0..*)" roleLabel="groups" polymorphic="false">
            <Class class="ClassificationGroup"/>
        </Source>
        <Target multiplicity="(0..*)" roleLabel="is grouped in" polymorphic="false">
            <Class class="Classification"/>
        </Target>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="ClassificationSpecializesClassification" modifier="None" strength="embedding" description="a relationship">
        <BaseClass>bis:ElementOwnsChildElements</BaseClass>
        <Source multiplicity="(0..1)" roleLabel="specializes" polymorphic="false">
            <Class class="Classification"/>
        </Source>
        <Target multiplicity="(0..*)" roleLabel="is specialized" polymorphic="false">
            <Class class="Classification"/>
         </Target>
    </ECRelationshipClass> 
    
</ECSchema>
