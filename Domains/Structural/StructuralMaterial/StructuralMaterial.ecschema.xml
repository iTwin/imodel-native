<?xml version="1.0" encoding="UTF-8"?>
<ECSchema schemaName="StructuralMaterials" alias="sm" version="01.00.00" description="Aspects and Relationships for Structural Physical Materials" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.1">


    <ECSchemaReference name="BisCore" version="01.00" alias="bis"/>
    <ECSchemaReference name="StructuralPhysical" version="01.00" alias="sp"/>
    <ECStructClass typeName="CompressiveStrengthTestType" description="BritishStandardsCube or standard cylinder test used by ACI" displayLabel="Compressive Strength Test Type">
        <ECProperty propertyName="BritishStandardsCube" typeName="boolean" description="the cube used by British Standards"/>
        <ECProperty propertyName="StandardCylinder" typeName="boolean" description="standard cylinder test used by ACI and EC2 (cylinders are almost exactly the same size)" displayLabel="Standard Cylinder"/>
    </ECStructClass>
    <ECEntityClass typeName="MaterialProperties" displayLabel="Material Properties">
	        <BaseClass>bis:ElementUniqueAspect</BaseClass>
        <ECProperty propertyName="ElasticModulus" typeName="double" description="Modulus of Elasticity" displayLabel="Elastic Modulus" kindOfQuantity="M_PER_L_T2"/>
        <ECProperty propertyName="PoissonsRatio" typeName="double" description="Poisson's Ratio" displayLabel="Poisson's Ratio" kindOfQuantity="NONE"/>
        <ECProperty propertyName="TensileStrength" typeName="double" description="Tensile Strength" displayLabel="Tensile Strength" kindOfQuantity="M_PER_L_T2_PSI"/>
        <ECProperty propertyName="ThermalExpansionCoefficient" typeName="double" description="Thermal Expansion Coefficient (1/deg.F) " displayLabel="Thermal Expansion Coefficient" kindOfQuantity="K"/>
    </ECEntityClass>
    <ECStructClass typeName="ConcretePropertyCalcType" description="Classifies the type of calculation done to determine a property of concrete" displayLabel="Concrete Property Calc Type">
        <ECProperty propertyName="PerCode" typeName="boolean" description="Use a calculation based on the effective building code" displayLabel="Per Code"/>
        <ECProperty propertyName="Specified" typeName="boolean" description="use the specified value in Concrete "/>
    </ECStructClass>
    <ECEntityClass typeName="ConcreteMaterialProperties" displayLabel="Concrete Material Properties">
        <BaseClass>MaterialProperties</BaseClass>
		<!---->
		<ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0"/>
        </ECCustomAttributes>
        <ECProperty propertyName="UnitMass" typeName="double" description="True Unit Mass (kip/in^3)" displayLabel="Unit Mass"/>
        <ECProperty propertyName="CompressiveStrength" typeName="double" description="Compressive strength (typically at 28 days)" displayLabel="Compressive Strength" kindOfQuantity="M_PER_L_T2"/>
        <ECStructProperty propertyName="CompressiveStrengthTestType" typeName="CompressiveStrengthTestType" description="test type for CompressiveStrength value" displayLabel="Compressive Strength Test Type"/>
        <ECStructProperty propertyName="ElasticModulusCalc" typeName="ConcretePropertyCalcType" description="the type of calc to use to determine the elastic modulus" displayLabel="Elastic Modulus Calc"/>
        <ECStructProperty propertyName="TensileStrengthCalc" typeName="ConcretePropertyCalcType" description="the type of calc to use to determine the tensile strength" displayLabel="Tensile Strength Calc"/>
        <ECProperty propertyName="UnitMassForLoads" typeName="double" description="Unit mass of concrete for use in calculating loads. Must be non-negative. " displayLabel="Unit Mass for Loads"/>
    </ECEntityClass>
    <ECEntityClass typeName="FirstLoadProperties" description="Specified properties at first load. Must be non-negative. This is typically used for the case of prestress transfer or form stripping" displayLabel="First Load Properties">
        <ECProperty propertyName="CompressiveStrength" typeName="double" description="compressive strength at first load" displayLabel="Compressive Strength"/>
        <ECProperty propertyName="ElasticModulus" typeName="double" description="specified elastic modulus at first load" displayLabel="Elastic Modulus"/>
        <ECProperty propertyName="TensileStrength" typeName="double" description="specified tensile strength at first load" displayLabel="Tensile Strength"/>
    </ECEntityClass>
    <ECRelationshipClass typeName="ConcreteElementOwnsFirstLoadProperties" description="Properties at First Load" displayLabel="Concrete Element Owns First Load Properties" modifier="None" strength="referencing">
        <Source multiplicity="(0..1)" roleLabel="Concrete Element Owns First Load Properties" polymorphic="true">
            <Class class="ConcreteMaterialProperties"/>
        </Source>
        <Target multiplicity="(0..1)" roleLabel="Concrete Element Owns First Load Properties (Reversed)" polymorphic="true">
            <Class class="FirstLoadProperties"/>
        </Target>
    </ECRelationshipClass>
    <ECEntityClass typeName="SpecifiedProperties" description="User-specified properties, Must be positive" displayLabel="Specified Properties">
        <ECProperty propertyName="ElasticModulus" typeName="double" description="user-specified elastic modulus (typically 28 days), Must be positive" displayLabel="Elastic Modulus"/>
        <ECProperty propertyName="TensileStrength" typeName="double" description="user-specified tensile strength (typically at 28 days), must be non-negative" displayLabel="Tensile Strength"/>
    </ECEntityClass>
    <ECRelationshipClass typeName="ConcreteElementOwnsSpecifiedProperties" displayLabel="Concrete Element Owns Specified Properties" modifier="None" strength="referencing">
        <Source multiplicity="(0..1)" roleLabel="Concrete Element Owns Specified Properties" polymorphic="true">
            <Class class="ConcreteMaterialProperties"/>
        </Source>
        <Target multiplicity="(0..*)" roleLabel="Concrete Element Owns Specified Properties (Reversed)" polymorphic="true">
            <Class class="SpecifiedProperties"/>
        </Target>
    </ECRelationshipClass>
    <ECEntityClass typeName="SteelMaterialProperties" displayLabel="Steel Material Properties">
        <BaseClass>MaterialProperties</BaseClass>
		<ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0"/>
        </ECCustomAttributes>
        <ECProperty propertyName="ElasticModulus" typeName="double"/>
        <ECProperty propertyName="YieldStress" typeName="double" description="Fy in AISC nomenclature" displayLabel="Yield Stress" kindOfQuantity="NONE"/>
    </ECEntityClass>
    <ECEntityClass typeName="StructuralElement" displayLabel="Structural Element"/>
    <ECRelationshipClass typeName="StructuralElementOwnsPhysicalMaterial" displayLabel="Structural Element Owns Physical Material" modifier="None" strength="referencing">
	<BaseClass>bis:ElementRefersToElements</BaseClass>
        <Source multiplicity="(0..1)" roleLabel="Structural Element Owns Physical Material" polymorphic="true">
            <Class class="sp:StructuralElement"/>
        </Source>
        <Target multiplicity="(0..*)" roleLabel="Structural Element Owns Physical Material(Reversed)" polymorphic="true">
            <Class class="bis:PhysicalMaterial"/>
        </Target>
    </ECRelationshipClass>
    <ECRelationshipClass typeName="PhysicalSteelOwnsStructuralSteelProperties" displayLabel="Physical Steel Owns Structural Steel Properties" modifier="None" strength="embedding">
	<BaseClass>bis:ElementOwnsUniqueAspect</BaseClass>
        <Source multiplicity="(1..1)" roleLabel="Physical Steel Owns Structural Steel Properties" polymorphic="true">
            <Class class="bis:PhysicalMaterial"/>
        </Source>
        <Target multiplicity="(0..*)" roleLabel="Physical Steel Owns Structural Steel Properties (Reversed)" polymorphic="true">
            <Class class="SteelMaterialProperties"/>
        </Target>
    </ECRelationshipClass>
	
	    <ECRelationshipClass typeName="PhysicalConcreteOwnsStructuralConcreteProperties" displayLabel="Physical Concrete Owns Structural Concrete Properties" modifier="None" strength="embedding">
	<BaseClass>bis:ElementOwnsUniqueAspect</BaseClass>
        <Source multiplicity="(1..1)" roleLabel="Physical Concrete Owns Structural Concrete Properties" polymorphic="true">
            <Class class="bis:PhysicalMaterial"/>
        </Source>
        <Target multiplicity="(0..*)" roleLabel="Physical Concrete Owns Structural Concrete Properties (Reversed)" polymorphic="true">
            <Class class="ConcreteMaterialProperties"/>
        </Target>
    </ECRelationshipClass>

    <KindOfQuantity typeName="M_PER_L_T2" displayLabel="M_PER_L_T2" persistenceUnit="PA(DefaultReal)" relativeError="0.0001"/>
    <KindOfQuantity typeName="NONE" displayLabel="NONE" persistenceUnit="ONE(DefaultReal)" relativeError="0.0001"/>
    <KindOfQuantity typeName="M_PER_L_T2_PSI" displayLabel="M_PER_L_T2_PSI" persistenceUnit="PSI(DefaultReal)" relativeError="0.0001"/>
    <KindOfQuantity typeName="K" displayLabel="K" persistenceUnit="FAHRENHEIT(DefaultReal)" relativeError="0.0001"/>
</ECSchema>
