<?xml version="1.0" encoding="utf-8"?>

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../bsicommon/build/PartFile.xsd">

    <Part Name="StructuralDomains" >
        <SubProduct ProductName="StructuralMaterialsTests"/>
    </Part>

    
    <!-- A convenience to platform developers that want to build platform and use Gist as their testbed. -->
    <Part Name="StructuralDomainsWithGist" PrgOutputDir="DgnClientSdk" Sequential="true">
        <SubPart PartName="DgnClientSdk-Tested" PartFile="DgnClientFx" Repository="DgnClientFx"/>
        <SubPart PartName="Gist" PartFile="Gist" Repository="Gist"/>
        <SubPart PartName="StructuralDomains"/>
    </Part>
    
    
    <Part Name="StructuralMaterials" BentleyBuildMakeFile="StructuralMaterials\StructuralMaterialsSchema.mke" ApiNumber="B02">
        <SubPart PartName="StructuralMaterialsAPI"/>
        <!--Temp-->
		<SubPart PartName="ArchPhysPublicAPI"/> 
        <!--Temp-->
		<SubPart PartName="BuildingCommon"/>
        <!--Temp-->
		<SubPart PartName="BuildingPhysical"/>
        <SubPart PartName="DgnPlatformDLL"  PartFile="DgnPlatform"  Repository="DgnPlatform" />

        <Bindings>
            <Libs>Delivery/$(libprefix)StructuralMaterials$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)StructuralMaterials$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="StructuralMaterialsAPI" BentleyBuildMakeFile="StructuralMaterials\StructuralMaterialsSchema.prewire.mke">
        <Bindings>
            <PublicAPI Domain="StructuralMaterials"/>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
                ECSchemas/Domain/StructuralMaterials.ecschema.xml
            </Files>
          <!--  <Directory SourceName="Dox/Pages/Building"  SubPartDirectory="Dox/Pages/Building"/>
            <Directory SourceName="Dox/Images/Building" SubPartDirectory="Dox/Images/Building"/> -->
        </Bindings>
    </Part>

    
    <Part Name="StructuralMaterialsTestsExe" DeferType="StructuralMaterialsTests" BentleyBuildMakeFile="StructuralMaterials/Tests/Tests.mke" OnlyPlatforms="x64">
        <SubPart PartName="google_gtest_lib"     PartFile="gtest"         Repository="util-gtest"  />
        <SubPart PartName="DgnView"              PartFile="DgnDisplay"    Repository="DgnDisplay"  />
        <SubPart PartName="DgnDbTestUtils"       PartFile="DgnPlatform"   Repository="DgnPlatform" />
        <SubPart PartName="DgnPlatformSqlang"    PartFile="DgnPlatform"   Repository="DgnPlatform" />
        <SubPart PartName="StructuralMaterials"/>
        <!--Temp-->
		<SubPart PartName="ArchitecturalPhysical"/>
        <Bindings>
              <Assemblies>Delivery/$(shlibprefix)StructuralMaterialsTests.exe</Assemblies>
              <Files ProductDirectoryName="Assets">Delivery/StructuralMaterialsTests.logging.config.xml</Files>
              <Files ProductDirectoryName="Assets" ProductSubDirectory="sqlang">Delivery/StructuralMaterialsTests_en-US.sqlang.db3</Files>
        </Bindings>
    </Part>

    <ProductDirectoryList ListName="Tests">
        <ProductDirectory Name="VendorNotices"                  Path="VendorNotices"/>
        <ProductDirectory Name="Assemblies"                     Path="Assemblies"/>
        <ProductDirectory Name="Assets"                         Path="Assemblies/Assets"/>
        <ProductDirectory Name="IgnoreList"                     Path="Ignore"/>
        <ProductDirectory Name="DgnPlatformSqlang"              Path="sqlang"/>
        <ProductDirectory Name="UnitTests-Assets"               Deliver="false"/>
        <ProductDirectory Name="UnitTests-IgnoreList"           Deliver="false"/>
        <ProductDirectory Name="UnitTests-Objects"              Deliver="false"/>
    </ProductDirectoryList>
    
    <Product Name="StructuralMaterialsTests" OnlyPlatforms="x64">
        <SubPart PartName="StructuralMaterialsTestsExe"/>
<!--        <Directories DirectoryListName="RevitBridgeDirectories" /> -->
        <Directories DirectoryListName="Tests"/>
    </Product>

    
    <Part Name="RunStructuralMaterialsTests" DeferType="RunUnitTests" BentleyBuildMakeFile="${SrcRoot}BeGTest/gtest/RunGtest.mke" BentleyBuildMakeOptions="-dGTEST_EXE=$(OutputRootDir)Product/StructuralMaterialsTests/StructuralMaterialsTests" OnlyPlatforms="x64" ExcludeLibType="Static">
        <SubProduct ProductName="StructuralMaterialsTests" />
        <Bindings>
            <Files Required="false" SubPartDirectory="Gtest/Logs">Delivery/Gtest/Logs/StructuralMaterialsTests.log</Files>
        </Bindings>
    </Part>
	
	<!--Temp-->
	<Part Name="ArchitecturalPhysical" BentleyBuildMakeFile="ArchitecturalPhysicalSchema\ArchitecturalPhysicalSchema.mke" ApiNumber="B02">
        <SubPart PartName="ArchPhysPublicAPI"/>
        <SubPart PartName="BuildingCommon"/>
        <SubPart PartName="BuildingPhysical"/>
        <SubPart PartName="DgnPlatformDLL"  PartFile="DgnPlatform"  Repository="DgnPlatform" />

        <Bindings>
            <Libs>Delivery/$(libprefix)ArchitecturalPhysical$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)ArchitecturalPhysical$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="ArchPhysPublicAPI" BentleyBuildMakeFile="ArchitecturalPhysicalSchema\ArchitecturalPhysicalSchema.prewire.mke">
        <Bindings>
            <PublicAPI Domain="ArchitecturalPhysical"/>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
                ECSchemas/Domain/ArchitecturalPhysical.ecschema.xml
            </Files>
          <!--  <Directory SourceName="Dox/Pages/Building"  SubPartDirectory="Dox/Pages/Building"/>
            <Directory SourceName="Dox/Images/Building" SubPartDirectory="Dox/Images/Building"/> -->
        </Bindings>
    </Part>

    
    <Part Name="BuildingCommon" BentleyBuildMakeFile="BuildingCommonSchema\BuildingCommonSchema.mke" ApiNumber="B02">
        <SubPart PartName="BuildingCommonPublicAPI"/>
        <SubPart PartName="DgnPlatformDLL"  PartFile="DgnPlatform"  Repository="DgnPlatform" />
        <Bindings>
            <Libs>Delivery/$(libprefix)BuildingCommon$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)BuildingCommon$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="BuildingCommonPublicAPI" BentleyBuildMakeFile="BuildingCommonSchema\BuildingCommonSchema.prewire.mke">
        <Bindings>
            <PublicAPI Domain="BuildingCommon"/>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
                ECSchemas/Domain/BuildingCommon.ecschema.xml
            </Files>
          <!--  <Directory SourceName="Dox/Pages/Building"  SubPartDirectory="Dox/Pages/Building"/>
            <Directory SourceName="Dox/Images/Building" SubPartDirectory="Dox/Images/Building"/> -->
        </Bindings>
    </Part>


    <Part Name="BuildingPhysical" BentleyBuildMakeFile="BuildingPhysicalSchema\BuildingPhysicalSchema.mke" ApiNumber="B02">
        <SubPart PartName="BuildingPhysicalPublicAPI"/>
        <SubPart PartName="DgnPlatformDLL"  PartFile="DgnPlatform"  Repository="DgnPlatform" />
        <Bindings>
            <Libs>Delivery/$(libprefix)BuildingPhysical$(libext)</Libs>
            <Assemblies>Delivery/$(shlibprefix)BuildingPhysical$(ApiNumber)$(shlibext)</Assemblies>
        </Bindings>
    </Part>
    
    <Part Name="BuildingPhysicalPublicAPI" BentleyBuildMakeFile="BuildingPhysicalSchema\BuildingPhysicalSchema.prewire.mke">
        <Bindings>
            <PublicAPI Domain="BuildingPhysical"/>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
                ECSchemas/Domain/BuildingPhysical.ecschema.xml
            </Files>
          <!--  <Directory SourceName="Dox/Pages/Building"  SubPartDirectory="Dox/Pages/Building"/>
            <Directory SourceName="Dox/Images/Building" SubPartDirectory="Dox/Images/Building"/> -->
        </Bindings>
    </Part>

</BuildContext>
