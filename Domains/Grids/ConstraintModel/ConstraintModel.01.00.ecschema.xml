<?xml version="1.0" encoding="UTF-8"?>
<!-- =====================================================================================
|
|     $Source: ConstraintModel/ConstraintModel.01.00.ecschema.xml $
|
|  $Copyright: (c) 2017 Bentley Systems, Incorporated. All rights reserved. $
|
======================================================================================= -->
<ECSchema schemaName="ConstraintModel" nameSpacePrefix="cml" version="01.00" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.0">
    <ECSchemaReference name="Bentley_Standard_CustomAttributes" version="01.10" prefix="bsca" />
    <ECSchemaReference name="EditorCustomAttributes" version="01.00" prefix="beca" />
    <ECSchemaReference name="BisCore" version="01.00" prefix="bis" />
    
    <ECRelationshipClass typeName="ElementConstrainsElement" strength="referencing">
      <BaseClass>bis:ElementDrivesElement</BaseClass>
      <ECCustomAttributes>
        <ClassHasHandler xmlns="BisCore.01.00"/>
      </ECCustomAttributes>
      <Source cardinality="(0,N)" polymorphic="true">
        <Class class="bis:Element"/>
      </Source>
      <Target cardinality="(0,N)" polymorphic="true">
        <Class class="bis:Element"/>
      </Target>
      <ECProperty propertyName="geomIdSource" typeName="int" description="The geometry id of the source element"/>
      <ECProperty propertyName="geomIdTarget" typeName="int" description="The geometry id of the target element"/>
    </ECRelationshipClass>
  
    <ECRelationshipClass typeName="ElementOffsetsElement" strength="referencing">
      <BaseClass>ElementConstrainsElement</BaseClass>
      <ECCustomAttributes>
        <ClassHasHandler xmlns="BisCore.01.00"/>
      </ECCustomAttributes>
      <Source cardinality="(0,N)" polymorphic="true">
        <Class class="bis:Element"/>
      </Source>
      <Target cardinality="(0,N)" polymorphic="true">
        <Class class="bis:Element"/>
      </Target>
      <ECProperty propertyName="offsetvalue"    typeName="double"  description="The value element is offset"/>
      <ECProperty propertyName="direction" typeName="point3d" description="The direction element is offset to"/>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="ElementCoincidesElement" strength="referencing">
      <BaseClass>ElementConstrainsElement</BaseClass>
      <ECCustomAttributes>
        <ClassHasHandler xmlns="BisCore.01.00"/>
      </ECCustomAttributes>
      <Source cardinality="(0,N)" polymorphic="true">
        <Class class="bis:Element"/>
      </Source>
      <Target cardinality="(0,N)" polymorphic="true">
        <Class class="bis:Element"/>
      </Target>
    </ECRelationshipClass>

</ECSchema>
