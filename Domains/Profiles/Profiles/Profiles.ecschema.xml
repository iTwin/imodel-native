<?xml version="1.0" encoding="UTF-8"?>
<ECSchema schemaName="Profiles" alias="prf" description="EC Schema for Profiles" version="01.00.00" displayLabel="Profiles" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.1">
    <ECSchemaReference name="BisCore" version="01.00.00" alias="bis" />

    <!-- Enumerations -->
    <ECEnumeration typeName="DoubleLShapeProfileType" backingTypeName="int" isStrict="true">
        <ECEnumerator value="0" displayLabel="LLBB" />
        <ECEnumerator value="1" displayLabel="SLBB" />
    </ECEnumeration>

    <ECEnumeration typeName="MaterialProfileCategoryType" backingTypeName="int" isStrict="true">
        <ECEnumerator value="0" displayLabel="Load Bearing" />
        <ECEnumerator value="1" displayLabel="Insulation" />
        <ECEnumerator value="2" displayLabel="Finish" />
    </ECEnumeration>

  <!-- Mixins -->
    <ECEntityClass typeName="ICenterLineProfile" modifier="Abstract" displayLabel="Center Line Profile Mixin">
        <ECCustomAttributes>
            <IsMixin xmlns="CoreCustomAttributes.1.0">
                <AppliesToEntityClass>Profile</AppliesToEntityClass>
            </IsMixin>
        </ECCustomAttributes>
        <ECProperty propertyName="CenterLine" typeName="Bentley.Geometry.Common.IGeometry" description="" />
        <ECProperty propertyName="WallThickness" typeName="double" description="Constant thickness of profile walls." />
    </ECEntityClass>

    <!-- Aspects -->
    <ECStructClass typeName="CustomCardinalPoint" description="Custom location cardinal point of a profile.">
        <ECProperty propertyName="Name" typeName="string" description="Name of the cardinal point. It is used to reference the custom cardinal point." />
        <ECProperty propertyName="Location" typeName="point2d" description="Coordinates inside the bounding box of a profile defining the cardinal point." />
    </ECStructClass>

    <ECEntityClass typeName="CustomCardinalPointsAspect">
        <BaseClass>bis:ElementUniqueAspect</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECStructArrayProperty propertyName="Points" typeName="CustomCardinalPoint" minOccurs="1" maxOccurs="unbounded" description="" />
    </ECEntityClass>

    <ECRelationshipClass typeName="ProfileOwnsCustomCardinalPointsAspect" modifier="Sealed" strength="embedding">
        <BaseClass>bis:ElementOwnsUniqueAspect</BaseClass>
        <Source multiplicity="(1..1)" roleLabel="owns" polymorphic="true">
            <Class class="Profile" />
        </Source>
        <Target multiplicity="(0..1)" roleLabel="is owned by" polymorphic="false">
            <Class class="CustomCardinalPointsAspect" />
        </Target>
    </ECRelationshipClass>

    <!-- Core Profile classes -->
    <ECEntityClass typeName="Profile" modifier="Abstract" description="A resource defining one or more 2D areas that may have voids.">
        <BaseClass>bis:DefinitionElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Name" typeName="string" description="" />
        <ECProperty propertyName="Shape" typeName="Bentley.Geometry.Common.IGeometry" description="" />
    </ECEntityClass>

    <ECEntityClass typeName="SinglePerimeterProfile" modifier="Abstract" description="A Profile with a single outer perimiter.">
        <BaseClass>Profile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="ParametricProfile" modifier="Abstract" description="A SinglePerimeterProfile that is guaranteed to have the center of the bounding box at (0, 0).">
        <BaseClass>SinglePerimeterProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
    </ECEntityClass>

    <!-- Letter shapes -->
    <ECEntityClass typeName="CShapeProfile" modifier="Sealed" description="A C shaped Profile similar to rolled steel C-shapes.">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="FlangeWidth" typeName="double" description="Extent of the flange, defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the web, defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="FlangeThickness" typeName="double" description="Constant wall thickness of flanges." />
        <ECProperty propertyName="WebThickness" typeName="double" description="Constant wall thickness of the web." />
        <!-- Optional properties -->
        <ECProperty propertyName="FilletRadius" typeName="double" description="The fillet radius between the web and the flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeEdgeRadius" typeName="double" description="Radius of the lower edges of the top flange and the upper edges of the bottom flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeSlope" typeName="double" description="Slope of the lower face of the top flange and of the upper face of the bottom flange. Non-zero in case of tapered flanges, 0 in case of parallel flanges, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="IShapeProfile" modifier="Sealed" description="An I shaped Profile similar to rolled steel I-shapes.">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="FlangeWidth" typeName="double" description="Extent of the width (flange length), defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the depth (web length), defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="FlangeThickness" typeName="double" description="Flange thickness of the I-shape. Both, the upper and the lower flanges have the same thickness and they are centred on the y-axis of the position coordinate system." />
        <ECProperty propertyName="WebThickness" typeName="double" description="Web thickness of the I-shape. The web is centred on the x-axis and the y-axis of the position coordinate system." />
        <!-- Optional properties -->
        <ECProperty propertyName="FilletRadius" typeName="double" description="The fillet radius between the web and the flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeEdgeRadius" typeName="double" description="Radius of the lower edges of the top flange and the upper edges of the bottom flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeSlope" typeName="double" description="Slope of the lower faces of the top flange and of the upper faces of the bottom flange. Non-zero in case of tapered flanges, 0 in case of parallel flanges, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="AsymmetricIShapeProfile" modifier="Sealed" description="An asymmetric (about x-axis) I shaped Profile similar to rolled steel I-shapes.">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="TopFlangeWidth" typeName="double" description="Extent of the top flange, defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="BottomFlangeWidth" typeName="double" description="Extent of the bottom flange, defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the depth (web length), defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="TopFlangeThickness" typeName="double" description="Flange thickness of the top flange." />
        <ECProperty propertyName="BottomFlangeThickness" typeName="double" description="Flange thickness of the bottom flange." />
        <ECProperty propertyName="WebThickness" typeName="double" description="Web thickness of the I-shape. The web is centred on the x-axis and the y-axis of the position coordinate system." />
        <!-- Optional properties -->
        <ECProperty propertyName="TopFlangeFilletRadius" typeName="double" description="The fillet radius between the web and the top flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="TopFlangeEdgeRadius" typeName="double" description="Radius of the lower edges of the top flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="TopFlangeSlope" typeName="double" description="Slope of the lower faces of the top flange. Non-zero in case of of tapered top flange, 0 in case of parallel top flange, default 0 if not specified." />
        <ECProperty propertyName="BottomFlangeFilletRadius" typeName="double" description="The fillet radius between the web and the bottom flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="BottomFlangeEdgeRadius" typeName="double" description="Radius of the upper edges of the bottom flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="BottomFlangeSlope" typeName="double" description="Slope of the upper faces of the bottom flange. Non-zero in case of of tapered bottom flange, 0 in case of parallel bottom flange, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="LShapeProfile" modifier="Sealed" description="An L-shaped Profile (also refered as Angle) similar to rolled steel L-shapes.">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Width" typeName="double" description="Horizontal leg length, defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Vertical leg length, defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="Thickness" typeName="double" description="Constant wall thickness of profile." />
        <!-- Optional properties -->
        <ECProperty propertyName="FilletRadius" typeName="double" description="Fillet radius between legs. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="EdgeRadius" typeName="double" description="Radius of flange edges. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="LegSlope" typeName="double" description="Slope of the inner faces of the legs. Non-zero in case of tapered legs, 0 in case of perpendicular legs, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="SchifflerizedLShapeProfile" modifier="Sealed" description="An L-shaped Profile (also refered as Angle) with legs bent at 15 degree angle, making the angle between the legs equal to 60 degrees.">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="LegLength" typeName="double" description="Leg length. Both vertical and horizontal legs are defined wiht equal length." />
        <ECProperty propertyName="Thickness" typeName="double" description="Constant wall thickness of profile." />
        <!-- Optional properties -->
        <ECProperty propertyName="LegBendOffset" typeName="double" description="Offset defining where legs are bent. Offset is measured from start of the angle where the legs join." />
        <ECProperty propertyName="FilletRadius" typeName="double" description="Fillet radius between legs. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="EdgeRadius" typeName="double" description="Radius of flange edges. 0 if sharp-edged, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="TShapeProfile" modifier="Sealed" description="A T-shaped Profile similar to rolled steel T-shapes.">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="FlangeWidth" typeName="double" description="Extent of the width (top flange), defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the depth (web length), defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="FlangeThickness" typeName="double" description="Constant wall thickness of the flange." />
        <ECProperty propertyName="WebThickness" typeName="double" description="Constant wall thickness of the web." />
        <!-- Optional properties -->
        <ECProperty propertyName="FilletRadius" typeName="double" description="The fillet radius between the web and the flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeEdgeRadius" typeName="double" description="Radius of flange edges. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeSlope" typeName="double" description="Slope of the lower face of the flange. Non-zero in case of tapered flange, 0 in case of non-tapered flange, default 0 if not specified." />
        <ECProperty propertyName="WebEdgeRadius" typeName="double" description="Radius of web edges. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="WebSlope" typeName="double" description="Slope of the web. Non-zero in case of tapered web, 0 in case of non-tapered web, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="TTShapeProfile" modifier="Sealed" description="A TT-shaped Profile similar to double-tee concrete shapes.">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="FlangeWidth" typeName="double" description="Extent of the width (top flange), defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the depth (web length), defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="FlangeThickness" typeName="double" description="Constant wall thickness of the flange." />
        <ECProperty propertyName="WebThickness" typeName="double" description="Constant wall thickness of the web." />
        <ECProperty propertyName="WebSpacing" typeName="double" description="Spacing between the two webs." />
        <!-- Optional properties -->
        <ECProperty propertyName="FilletRadius" typeName="double" description="The fillet radius between the web and the flange. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeEdgeRadius" typeName="double" description="Radius of flange edges. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeSlope" typeName="double" description="Slope of the lower face of the flange. Non-zero in case of tapered flange, 0 in case of non-tapered flange, default 0 if not specified." />
        <ECProperty propertyName="WebEdgeRadius" typeName="double" description="Radius of web edges. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="WebSlope" typeName="double" description="Slope of the web. Non-zero in case of tapered web, 0 in case of non-tapered web, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="ZShapeProfile" modifier="Sealed" description="A Z-shaped Profile similar to rolled steel Z-shapes.">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="FlangeWidth" typeName="double" description="Extent of single flange, defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the depth (web length), defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="FlangeThickness" typeName="double" description="Constant wall thickness of flanges." />
        <ECProperty propertyName="WebThickness" typeName="double" description="Constant wall thickness of the web." />
        <!-- Optional properties -->
        <ECProperty propertyName="FilletRadius" typeName="double" description="The fillet radius between the web and the flanges. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeEdgeRadius" typeName="double" description="Radius of flange edges. 0 if sharp-edged, default 0 if not specified." />
        <ECProperty propertyName="FlangeSlope" typeName="double" description="Slope of the lower face of the top flange and of the upper face of the bottom flange. Non-zero in case of tapered flanges, 0 in case of parallel flanges, default 0 if not specified." />
    </ECEntityClass>

    <!-- Center line shapes -->
    <ECEntityClass typeName="CenterLineCShapeProfile" modifier="Sealed" description="A C shaped Profile with rounded corners, similar to cold-formed steel C-shapes.">
        <BaseClass>ParametricProfile</BaseClass>
        <BaseClass>ICenterLineProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="FlangeWidth" typeName="double" description="Extent of the flange, defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the web, defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="FilletRadius" typeName="double" description="Inner fillet radius." />
        <!-- Optional properties -->
        <ECProperty propertyName="Girth" typeName="double" description="Length of lips. 0 if profile doesn't have lips, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="CenterLineLShapeProfile" modifier="Sealed" description="An L-shaped Profile with rounded corners, similar to cold-formed steel L-shapes.">
        <BaseClass>ParametricProfile</BaseClass>
        <BaseClass>ICenterLineProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Width" typeName="double" description="Horizontal leg length, defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Vertical leg length, defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="FilletRadius" typeName="double" description="Inner fillet radius." />
        <!-- Optional properties -->
        <ECProperty propertyName="Girth" typeName="double" description="Length of lips. 0 if profile doesn't have lips, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="CenterLineZShapeProfile" modifier="Sealed" description="A Z-shaped Profile with rounded corners, similar to cold-formed steel Z-shapes">
        <BaseClass>ParametricProfile</BaseClass>
        <BaseClass>ICenterLineProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="FlangeWidth" typeName="double" description="Extent of single flange, defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the depth (web length), defined parallel to the y axis of the position coordinate system." />
        <ECProperty propertyName="FilletRadius" typeName="double" description="Inner fillet radius." />
        <!-- Optional properties -->
        <ECProperty propertyName="Girth" typeName="double" description="Length of lips. 0 if profile doesn't have lips, default 0 if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="BentPlateProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <BaseClass>ICenterLineProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Width" typeName="double" description="Extent of the plate length, defined parallel to the x axis of the position coordinate system." />
        <ECProperty propertyName="BendAngle" typeName="double" description="Plate bend angle." />
        <ECProperty propertyName="BendRadius" typeName="double" description="Plate bend radius." />
        <ECProperty propertyName="BendOffset" typeName="double" description="" />
    </ECEntityClass>

    <!-- Geometric shapes -->
    <ECEntityClass typeName="EllipseProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="XRadius" typeName="double" description="The first radius of the ellipse. It is measured along the direction of x axis of the position coordinate system." />
        <ECProperty propertyName="YRadius" typeName="double" description="The second radius of the ellipse. It is measured along the direction of y axis of the position coordinate system." />
    </ECEntityClass>

    <ECEntityClass typeName="CircleProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Radius" typeName="double" description="The radius of the circle." />
    </ECEntityClass>

    <ECEntityClass typeName="HollowCircleProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <BaseClass>ICenterLineProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Radius" typeName="double" description="The radius of the circle." />
    </ECEntityClass>

    <ECEntityClass typeName="RectangleProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Width" typeName="double" description="Extent of the rectangle in the direction of the x-axis." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the rectangle in the direction of the y-axis." />
    </ECEntityClass>

    <ECEntityClass typeName="RoundedRectangleProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Width" typeName="double" description="Extent of the rectangle in the direction of the x-axis." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the rectangle in the direction of the y-axis." />
        <ECProperty propertyName="RoundingRadius" typeName="double" description="Radius of the circular arcs by which all four corners of the rectangle are equally rounded." />
    </ECEntityClass>

    <ECEntityClass typeName="HollowRectangleProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Width" typeName="double" description="Extent of the rectangle in the direction of the x-axis." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the rectangle in the direction of the y-axis." />
        <ECProperty propertyName="WallThickness" typeName="double" description="Constant thickness of profile walls." />
        <!-- Optional properties -->
        <ECProperty propertyName="InnerFilletRadius" typeName="double" description="Radius of the circular arcs, by which all four corners of the inner contour of rectangle are equally rounded. Default 0 (= no rounding arcs) if not specified." />
        <ECProperty propertyName="OuterFilletRadius" typeName="double" description="Radius of the circular arcs, by which all four corners of the outer contour of rectangle are equally rounded. Default 0 (= no rounding arcs) if not specified." />
    </ECEntityClass>

    <ECEntityClass typeName="TrapeziumProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="TopWidth" typeName="double" description="Extent of the top line measured along the implicit x-axis." />
        <ECProperty propertyName="BottomWidth" typeName="double" description="Extent of the bottom line measured along the implicit x-axis." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the distance between the parallel bottom and top lines measured along the implicit y-axis." />
        <ECProperty propertyName="TopOffset" typeName="double" description="Offset from the beginning of the top line to the bottom line, measured along the implicit x-axis." />
    </ECEntityClass>

    <ECEntityClass typeName="RegularPolygonProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="SideCount" typeName="long" description="Count of sides (edges) the polygon is made of. Value cannot be less than 3 or greater than 32." />
        <ECProperty propertyName="SideLength" typeName="double" description="Constant length of each polygon side (edge)." />
    </ECEntityClass>

    <ECEntityClass typeName="CapsuleProfile" modifier="Sealed" description="">
        <BaseClass>ParametricProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Width" typeName="double" description="Extent of the capsule in the direction of the x-axis." />
        <ECProperty propertyName="Depth" typeName="double" description="Extent of the capsule in the direction of the y-axis." />
    </ECEntityClass>

    <!-- Arbitrary single perimeter profile classes -->
    <ECEntityClass typeName="ArbitraryShapeProfile" modifier="None">
        <BaseClass>SinglePerimeterProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="ArbitraryCenterLineProfile" modifier="Sealed">
        <BaseClass>ArbitraryShapeProfile</BaseClass>
        <BaseClass>ICenterLineProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="DerivedProfile" modifier="Sealed" description="This class represents a SinglePerimeterProfile that has been converted into a different shape via a matrix transform. Usage outside of IFC compatability is not recommended">
        <BaseClass>SinglePerimeterProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECNavigationProperty propertyName="BaseProfile" relationshipName="DerivedProfileRefersToSinglePerimeterProfile" direction="Forward" description="" />
        <ECProperty propertyName="Offset" typeName="point2d" description="2D vector specifying how the profiles geometry will be offseted from it's original coordinates." />
        <ECProperty propertyName="Scale" typeName="point2d" description="A non-uniform scale factor." />
        <ECProperty propertyName="Rotation" typeName="double" description="Angle by which the profiles geometry will be rotated." />
        <ECProperty propertyName="MirrorAboutYAxis" typeName="boolean" description="Flag indicating whether the profiles geometry should be mirrored around the Y axis." />
    </ECEntityClass>

    <ECRelationshipClass typeName="DerivedProfileRefersToSinglePerimeterProfile" modifier="Sealed" strength="referencing">
        <Source multiplicity="(0..*)" roleLabel="is derived profile of" polymorphic="false">
            <Class class="DerivedProfile" />
        </Source>
        <Target multiplicity="(0..1)" roleLabel="is base profile of" polymorphic="true">
            <Class class="SinglePerimeterProfile" />
        </Target>
    </ECRelationshipClass>

    <!-- Composite Profile classes -->
    <ECEntityClass typeName="CompositeProfile" modifier="Abstract" description="A Profile comprised of multiple SinglePerimeterProfiles.">
        <BaseClass>Profile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="ArbitraryCompositeProfile" modifier="Sealed" description="A Profile comprised of multiple SinglePerimeterProfiles.">
        <BaseClass>CompositeProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="ArbitraryCompositeProfileAspect" modifier="Sealed" description="Aspect used by ArbitraryCompostiteProfile to reference SinglePerimeterProfile and geometry transformations for it. This cannot be done by a relationship class because we allow multiple references to the same profile with different transformations.">
        <BaseClass>bis:ElementMultiAspect</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECNavigationProperty propertyName="SingleProfile" relationshipName="ArbitraryCompositeProfileAspectRefersToSinglePerimeterProfile" direction="Forward" description="" />
        <ECProperty propertyName="Offset" typeName="point2d" description="2D vector specifying how the profiles geometry will be offseted from it's original coordinates." />
        <ECProperty propertyName="Rotation" typeName="double" description="Angle by which the profiles geometry will be rotated." />
        <ECProperty propertyName="MirrorAboutYAxis" typeName="boolean" description="Flag indicating whether the profiles geometry should be mirrored around the Y axis." />
        <ECProperty propertyName="MemberPriority" typeName="int" description="Index used to strictly order components. This property is a duplicate from bis:ElementGorupsMembers." />
    </ECEntityClass>

    <ECRelationshipClass typeName="ArbitraryCompositeProfileAspectRefersToSinglePerimeterProfile" modifier="Sealed" strength="referencing">
        <Source multiplicity="(0..*)" roleLabel="refers to profile" polymorphic="false">
            <Class class="ArbitraryCompositeProfileAspect" />
        </Source>
        <Target multiplicity="(0..1)" roleLabel="is referenced by" polymorphic="true">
            <Class class="SinglePerimeterProfile" />
        </Target>
    </ECRelationshipClass>

    <ECEntityClass typeName="DoubleLShapeProfile" modifier="Sealed" description="A CompositeProfile comprised of back-to-back Ls with the horizontal legs at the top of the Profile.">
        <BaseClass>CompositeProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Spacing" typeName="double" description="Distance separating the individual back to back LShapeProfiles." />
        <ECProperty propertyName="Type" typeName="DoubleLShapeProfileType" description="Enumeration defining which legs are to be placed back to back." />
        <ECNavigationProperty propertyName="SingleProfile" relationshipName="DoubleLShapeProfileRefersToLShapeProfile" direction="Forward" description="Reference to LShapeProfile that will be used to construct the profile." />
    </ECEntityClass>

    <ECRelationshipClass typeName="DoubleLShapeProfileRefersToLShapeProfile" modifier="Sealed" strength="referencing">
        <Source multiplicity="(0..*)" roleLabel="is double profile of" polymorphic="false">
            <Class class="DoubleLShapeProfile" />
        </Source>
        <Target multiplicity="(0..1)" roleLabel="is single profile of" polymorphic="false">
            <Class class="LShapeProfile" />
        </Target>
    </ECRelationshipClass>

    <ECEntityClass typeName="DoubleCShapeProfile" modifier="Sealed" description="A CompositeProfile comprised of back-to-back Cs.">
        <BaseClass>CompositeProfile</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Spacing" typeName="double" description="Distance separating the individual back to back CShapeProfiles." />
        <ECNavigationProperty propertyName="SingleProfile" relationshipName="DoubleCShapeProfileRefersToCShapeProfile" direction="Forward" description="Reference to CShapeProfile that will be used to construct the profile." />
    </ECEntityClass>

    <ECRelationshipClass typeName="DoubleCShapeProfileRefersToCShapeProfile" modifier="Sealed" strength="referencing">
        <Source multiplicity="(0..*)" roleLabel="is double profile of" polymorphic="false">
            <Class class="DoubleCShapeProfile" />
        </Source>
        <Target multiplicity="(0..1)" roleLabel="is single profile of" polymorphic="false">
            <Class class="CShapeProfile" />
        </Target>
    </ECRelationshipClass>

    <!-- Material Profile classes-->
    <ECEntityClass typeName="MaterialProfileDefinition" modifier="abstract" description="Material Profile Definition">
        <BaseClass>bis:DefinitionElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="MaterialProfile" modifier="Sealed" description="Material Profile">
        <BaseClass>MaterialProfileDefinition</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.1.0" />
        </ECCustomAttributes>
        <ECProperty propertyName="Priority" typeName="int" description="" />
        <ECProperty propertyName="Category" typeName="MaterialProfileCategoryType" description="" />
        <ECNavigationProperty propertyName="Material" relationshipName="MaterialProfileRefersToMaterial" direction="Forward" displayLabel="Material" />
        <ECNavigationProperty propertyName="Profile" relationshipName="MaterialProfileRefersToProfile" direction="Forward" displayLabel="Profile" />
    </ECEntityClass>

    <!--TODO: remove this after material schema is developed-->
    <ECEntityClass typeName="TempMaterial" modifier="Sealed" displayLabel="Material">
        <BaseClass>bis:PhysicalMaterial</BaseClass>
    </ECEntityClass>

    <!-- TODO: Replace bis Element with material instance-->
    <ECRelationshipClass typeName="MaterialProfileRefersToMaterial" strength="referencing" strengthDirection="Forward" modifier="Sealed">
        <Source multiplicity="(0..*)" roleLabel="refers to" polymorphic="true">
            <Class class="MaterialProfile" />
        </Source>
        <Target multiplicity="(1..1)" roleLabel="is referenced by" polymorphic="true">
            <Class class="TempMaterial"/>
        </Target>
    </ECRelationshipClass>

   <ECRelationshipClass typeName="MaterialProfileRefersToProfile" strength="referencing" strengthDirection="Forward" modifier="Sealed">
        <Source multiplicity="(0..*)" roleLabel="refers to" polymorphic="true">
            <Class class="MaterialProfile" />
        </Source>
        <Target multiplicity="(1..1)" roleLabel="is referenced by" polymorphic="true">
            <Class class="Profile"/>
        </Target>
    </ECRelationshipClass>
</ECSchema>
