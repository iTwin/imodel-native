name: profile-version-tests-$(Date:yyyy.MM.dd)$(Rev:.r)

# trigger:
#   branches:
#     include:
#       - main
#       - release/*
pr:
  autoCancel: true
  drafts: true
  # branches:
  #   include:
  #     - main
  #     - release/*

resources:
  repositories:
    - repository: profileversion-tests
      type: github
      endpoint: imodel-native
      ref:  io-version-fix
      name: iTwin/profileversion-tests

    - repository: imodel-native-internal
      type: github
      endpoint: imodel-native
      name: iTwin/imodel-native-internal

    - repository: itwinjs-core
      type: github
      endpoint: imodel-native
      #ref: test-io-upgrade-core-build
      # ref: io-upgrade-core-build
      name: iTwin/itwinjs-core

extends:
  template: /common/azure-pipelines/templates/pipeline.yml@profileversion-tests
  parameters:
    otherRepo: imodel-native

