<?xml version="1.0" encoding="utf-8"?>
<BuildStrategy
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../bsicommon/build/BuildStrategy.xsd"
    >

    <ImportStrategy Name="Base"/>

    <DefaultTarget
        Repository="iModel02"
        PartFile="iModelBridgeCore/RealityCore"
        PartName="RealityCorePRG"
        Platform="x64"
        OnlyPlatforms="x64,linuxx64"
        />
    
    <BuildControl SaveNugetProducts="true"/> 

    <!-- Build and run "extras" like docs and tests after the libraries to find compile errors sooner. -->
    <DeferStrategy Name="*" BuildPass="1"/>

    <ImportStrategy Name="BuildIModelCore"/>

    <PartStrategy PartFile="RealityCore"             PartName="*" BuildFromSource="Always" />
    <!-- 3SM and Vortex -->
    <PartStrategy PartFile="BePointCloud"           PartName="*" BuildFromSource="Once"/>
    <PartStrategy PartFile="CloudDataSource"        PartName="*" BuildFromSource="Once"/>
    <PartStrategy PartFile="ImagePP"                PartName="*" BuildFromSource="Once"/>
    <PartStrategy PartFile="RealityModFramework"    PartName="*" BuildFromSource="Once"/>
    <PartStrategy PartFile="RealityModeling"        PartName="*" BuildFromSource="Once"/>
    <PartStrategy PartFile="ScalableMesh"           PartName="*" BuildFromSource="Once"/>
    <PartStrategy PartFile="ScalableMeshUnitTests"  PartName="*" BuildFromSource="Once"/>
    <PartStrategy PartFile="ScalableMeshCoreUnitTests"  PartName="*" BuildFromSource="Once"/>
    <PartStrategy PartFile="ScalableMesh-Data"           PartName="*" BuildFromSource="Once"/>
    <PartStrategy PartFile="TerrainModelDgnDb"      PartName="*" BuildFromSource="Once"/>

</BuildStrategy>
