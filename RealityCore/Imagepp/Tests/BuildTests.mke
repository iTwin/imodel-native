#---------------------------------------------------------------------------------------------
#  Copyright (c) Bentley Systems, Incorporated. All rights reserved.
#  See COPYRIGHT.md in the repository root for full copyright notice.
#---------------------------------------------------------------------------------------------
%include mdl.mki

%ifndef TestDir
    %error must define TestDir
%endif

baseDir = $(_MakeFilePath)


# Compile and Link the unit tests
BEGTEST_NAME  = $(TestDir)ImagePP
BEGTEST_INPUT = $(baseDir)$(TestDir)/
BEGTEST_IGNORE= $(baseDir)ignore_list.txt
BEGTEST_OUTPUT=$(OutputRootDir)build/ImagePP/UnitTests/
o = $(PartBuildDir)$(BEGTEST_NAME)/

# we do not have a publishedApi
#%ifdef UsePublishedApi
#    BEGTEST_API = $(BuildContext)SubParts/PublishedApi/Bentley/
#%endif

CCCompOpts + -D_SILENCE_TR1_NAMESPACE_DEPRECATION_WARNING

%include $(SrcRoot)bsicommon/sharedmki/DetectAndCompileUnitTests.mki

# Deliver test objs
$(BuildContext)Delivery/UnitTests/Objects/$(TestDir) : ${o}
    $(LinkFirstDepToFirstTargetAsDirectory)




    
