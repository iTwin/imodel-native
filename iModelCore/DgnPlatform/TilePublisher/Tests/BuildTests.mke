#----------------------------------------------------------------------------------------
#
#  $Source: TilePublisher/Tests/BuildTests.mke $
#
#  $Copyright: (c) 2018 Bentley Systems, Incorporated. All rights reserved. $
#
#----------------------------------------------------------------------------------------

%include mdl.mki

%ifndef TestDir
    %error must define TestDir
%endif

baseDir = $(_MakeFilePath)

BEGTEST_NAME    = $(TestDir)TilePublisher
BEGTEST_INPUT   = $(baseDir)$(TestDir)/
BEGTEST_IGNORE  = $(baseDir)ignore_list.txt
BEGTEST_OUTPUT  = $(OutputRootDir)build/TilePublisher/UnitTests/

o = $(PartBuildDir)

%include $(SrcRoot)bsicommon/sharedmki/DetectAndCompileUnitTests.mki

$(BuildContext)Delivery/UnitTests/Objects/$(TestDir) : ${o}
    $(LinkFirstDepToFirstTargetAsDirectory)

