<?xml version="1.0" encoding="utf-8"?>
<BuildContext
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../bsicommon/build/PartFile.xsd"
    >
    
    <Part Name="RunUnitGTest" OnlyPlatforms="x64,macos*,linux*" DeferType="RunUnitTests"
            BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/gtest/CheckLogfilesForFailures.mke"
            BentleyBuildMakeOptions="-dLogFilesDir=$(BuildContext)SubParts/Gtest/Logs"
            >
        <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
        <SubPart PartName="Base" PartFile="iModelCore/BeGTest/BeGTest" Repository="imodel02"/>

        <SubPart PartName="RunGtest" PartFile="iModelCore/Bentley/Bentley" Repository="imodel02"/>
        <SubPart PartName="RunGtest" PartFile="iModelCore/BeSQLite/BeSQLite" Repository="imodel02"/>
        <SubPart PartName="RunGtest" PartFile="iModelCore/BeSecurity/BeSecurity" Repository="imodel02"/>
        <SubPart PartName="RunGtest" PartFile="iModelCore/DgnPlatform/DgnPlatform" Repository="imodel02"/>
        <SubPart PartName="RunGtest" PartFile="iModelCore/ECDb/ECDb" Repository="imodel02"/>
        <SubPart PartName="RunGtest" PartFile="iModelCore/ecobjects/ECObjects" Repository="imodel02"/>
        <SubPart PartName="RunGtest" PartFile="iModelCore/ECPresentation/ECPresentation" Repository="imodel02"/>
        <SubPart PartName="RunGtest" PartFile="iModelCore/GeomLibs/geomlibs" Repository="imodel02"/>
        <SubPart PartName="RunGtest" PartFile="iModelCore/Units/Units" Repository="imodel02"/>
        <SubPart PartName="RunGtest" PartFile="iModelCore/WSClient/WSClient" Repository="imodel02"/>

        <!-- These are built, but not run. -->
        <SubProduct ProductName="GeoCoord-Gtest" PartFile="iModelCore/GeoCoord/GeoCoord" Repository="imodel02"/>
    </Part>

    <Part Name="RunUnitJUnit" OnlyPlatforms="android*" Sequential="true" DeferType="RunUnitTests"
            BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/Android/CheckLogfilesForFailures.mke"
            BentleyBuildMakeOptions="-dLogFilesDir=$(BuildContext)SubParts/ANJU/Logs"
            >
        <SubPart PartName="Base" PartFile="iModelCore/BeGTest/BeGTest" Repository="imodel02"/>

        <SubPart PartName="RunAndroidJUnitTest" PartFile="iModelCore/Bentley/Bentley" Repository="imodel02"/>
        <SubPart PartName="RunAndroidJUnitTest" PartFile="iModelCore/BeSQLite/BeSQLite" Repository="imodel02"/>
        <SubPart PartName="RunAndroidJUnitTest" PartFile="iModelCore/DgnPlatform/DgnPlatform" Repository="imodel02"/>
        <SubPart PartName="RunAndroidJUnitTest" PartFile="iModelCore/ECDb/ECDb" Repository="imodel02"/>
        <SubPart PartName="RunAndroidJUnitTest" PartFile="iModelCore/ecobjects/ECObjects" Repository="imodel02"/>
        <SubPart PartName="RunAndroidJUnitTest" PartFile="iModelCore/ECPresentation/ECPresentation" Repository="imodel02"/>
        <SubPart PartName="RunAndroidJUnitTest" PartFile="iModelCore/GeomLibs/geomlibs" Repository="imodel02"/>
        <SubPart PartName="RunAndroidJUnitTest" PartFile="iModelCore/Units/Units" Repository="imodel02"/>
        <!-- doesn't currently build
        <SubPart PartName="RunAndroidJUnitTest" PartFile="iModelCore/WSClient/WSClient" Repository="imodel02"/>
        -->
    </Part>

    <Part Name="RunUnitXCTest" OnlyPlatforms="ios*" Sequential="true" DeferType="RunUnitTests"
            BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/iOS/CheckLogfilesForFailures.mke"
            BentleyBuildMakeOptions="-dLogFilesDir=$(BuildContext)SubParts/XCTest/Logs"
            >
        <SubPart PartName="Base" PartFile="iModelCore/BeGTest/BeGTest" Repository="imodel02"/>

        <SubPart PartName="RuniOSXCTest" PartFile="iModelCore/Bentley/Bentley" Repository="imodel02"/>
        <SubPart PartName="RuniOSXCTest" PartFile="iModelCore/BeSQLite/BeSQLite" Repository="imodel02"/>
        <SubPart PartName="RuniOSXCTest" PartFile="iModelCore/DgnPlatform/DgnPlatform" Repository="imodel02"/>
        <SubPart PartName="RuniOSXCTest" PartFile="iModelCore/ECDb/ECDb" Repository="imodel02"/>
        <SubPart PartName="RuniOSXCTest" PartFile="iModelCore/ecobjects/ECObjects" Repository="imodel02"/>
        <SubPart PartName="RuniOSXCTest" PartFile="iModelCore/ECPresentation/ECPresentation" Repository="imodel02"/>
        <SubPart PartName="RuniOSXCTest" PartFile="iModelCore/GeomLibs/geomlibs" Repository="imodel02"/>
        <SubPart PartName="RuniOSXCTest" PartFile="iModelCore/Units/Units" Repository="imodel02"/>
        <SubPart PartName="RuniOSXCTest" PartFile="iModelCore/WSClient/WSClient" Repository="imodel02"/>
    </Part>

    <Part Name="RunUnitCppTest" OnlyPlatforms="winrt*" Sequential="true" DeferType="RunUnitTests"
            BentleyBuildMakeFile="$(BuildContext)/SubParts/BeGTest/uwp/CheckLogfilesForFailures.mke"
            BentleyBuildMakeOptions="-dLogFilesDir=$(BuildContext)SubParts/UwpTest/Logs"
            >
        <SubPart PartName="Base" PartFile="iModelCore/BeGTest/BeGTest" Repository="imodel02"/>

        <SubPart PartName="RunUwpTest" PartFile="iModelCore/Bentley/Bentley" Repository="imodel02"/>
        <SubPart PartName="RunUwpTest" PartFile="iModelCore/BeSQLite/BeSQLite" Repository="imodel02"/>
        <SubPart PartName="RunUwpTest" PartFile="iModelCore/DgnPlatform/DgnPlatform" Repository="imodel02"/>
        <SubPart PartName="RunUwpTest" PartFile="iModelCore/ECDb/ECDb" Repository="imodel02"/>
        <SubPart PartName="RunUwpTest" PartFile="iModelCore/ecobjects/ECObjects" Repository="imodel02"/>
        <SubPart PartName="RunUwpTest" PartFile="iModelCore/ECPresentation/ECPresentation" Repository="imodel02"/>
        <SubPart PartName="RunUwpTest" PartFile="iModelCore/GeomLibs/geomlibs" Repository="imodel02"/>
        <SubPart PartName="RunUwpTest" PartFile="iModelCore/Units/Units" Repository="imodel02"/>
        <SubPart PartName="RunUwpTest" PartFile="iModelCore/WSClient/WSClient" Repository="imodel02"/>
    </Part>

</BuildContext>
