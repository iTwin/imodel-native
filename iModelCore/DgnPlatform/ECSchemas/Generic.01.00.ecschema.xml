<?xml version="1.0" encoding="UTF-8"?>
<ECSchema schemaName="Generic" alias="generic" version="01.00" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.1">

    <ECSchemaReference name="BisCore" version="01.00" alias="bis"/>
    <ECSchemaReference name="ECDbMap" version="02.00" alias="ecdbmap"/>

    <ECEntityClass typeName="DetailingSymbol">
        <!-- Mimics the like-named V8 type -->
        <BaseClass>bis:GraphicalElement2d</BaseClass>
    </ECEntityClass>

    <ECEntityClass typeName="TitleText">
        <!-- Mimics the like-named V8 type -->
        <BaseClass>DetailingSymbol</BaseClass>
    </ECEntityClass>

    <ECRelationshipClass typeName="ViewAttachmentLabelAnnotatesViewAttachment" strengthDirection="Backward" strength="referencing" modifier="Sealed">
        <ECCustomAttributes>
            <!-- Note remove this later. We are only doing this to work around a bug in ECDb mapping. -->
            <ForeignKeyConstraint xmlns="ECDbMap.02.00">
                <OnDeleteAction>NoAction</OnDeleteAction>
            </ForeignKeyConstraint>
        </ECCustomAttributes>
        <Source multiplicity="(0..1)" polymorphic="true" roleLabel="annotates" >
            <Class class="ViewAttachmentLabel"/>
        </Source>
        <Target multiplicity="(0..1)" polymorphic="true" roleLabel="is annotated by" >
            <Class class="bis:ViewAttachment"/>
        </Target>
    </ECRelationshipClass>

    <ECEntityClass typeName="ViewAttachmentLabel">
        <!-- Maps to the V8 type DrawingBoundary -->
        <!-- Its CodeValue is the section/elevation/plan/detail "id" -->
        <BaseClass>DetailingSymbol</BaseClass>
        <ECNavigationProperty propertyName="ViewAttachment" relationshipName="ViewAttachmentLabelAnnotatesViewAttachment" direction="Forward" readOnly="True">
        </ECNavigationProperty>
    </ECEntityClass>

    <ECRelationshipClass typeName="CalloutRefersToDrawingModel" strengthDirection="Backward" strength="referencing" modifier="Sealed">
        <ECCustomAttributes>
            <!-- Note remove this later. We are only doing this to work around a bug in ECDb mapping. -->
            <ForeignKeyConstraint xmlns="ECDbMap.02.00">
                <OnDeleteAction>NoAction</OnDeleteAction>
            </ForeignKeyConstraint>
        </ECCustomAttributes>
        <Source multiplicity="(0..1)" polymorphic="true" roleLabel="refers to" >
            <Class class="Callout"/>
        </Source>
        <Target multiplicity="(0..1)" polymorphic="true" roleLabel="is referenced by" >
            <Class class="bis:Drawing"/>
        </Target>
    </ECRelationshipClass>

    <ECEntityClass typeName="Callout">
        <!-- Mimics the like-named V8 type -->
        <BaseClass>DetailingSymbol</BaseClass>
        <ECNavigationProperty propertyName="DrawingModel" relationshipName="CalloutRefersToDrawingModel" direction="Forward" readOnly="True">
        </ECNavigationProperty>
    </ECEntityClass>

    <ECEntityClass typeName="SectionCallout">
        <!-- Mimics the like-named V8 type -->
        <BaseClass>Callout</BaseClass>
    </ECEntityClass>

    <ECEntityClass typeName="ElevationCallout">
        <!-- Mimics the like-named V8 type -->
        <BaseClass>Callout</BaseClass>
    </ECEntityClass>

    <ECEntityClass typeName="PlanCallout">
        <!-- Mimics the like-named V8 type -->
        <BaseClass>Callout</BaseClass>
    </ECEntityClass>

    <ECEntityClass typeName="DetailCallout">
        <!-- Mimics the like-named V8 type -->
        <BaseClass>Callout</BaseClass>
    </ECEntityClass>

    <ECEntityClass typeName="Graphic3d">
        <!-- A generic Graphic3d is used by a conversion process when: -->
        <!-- * It did not have enough information to pick another domain -->
        <!-- * It determined the element is 3d but does not represent a SpatialLocation -->
        <BaseClass>bis:GraphicalElement3d</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="PhysicalObject" modifier="Sealed">
        <!-- A generic PhysicalObject is used by a conversion process when: -->
        <!-- * It did not have enough information to pick another domain -->
        <!-- * It determined the element represents a PhysicalObject -->
        <BaseClass>bis:PhysicalElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="SpatialLocation">
        <!-- A generic SpatialLocation is used by a conversion process when: -->
        <!-- * It did not have enough information to pick another domain -->
        <!-- * It determined the element represents a SpatialLocation -->
        <BaseClass>bis:SpatialLocationElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="GroupModel">
        <BaseClass>bis:GroupInformationModel</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="Group">
        <!-- Groups elements using the ElementGroupsMembers relationship -->
        <BaseClass>bis:GroupInformationElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="MultiAspect">
        <!-- Originally designed for the converted secondary instances from a v8 file-->
        <BaseClass>bis:ElementMultiAspect</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
    </ECEntityClass>

</ECSchema>
