#---------------------------------------------------------------------------------------------
#  Copyright (c) Bentley Systems, Incorporated. All rights reserved.
#  See COPYRIGHT.md in the repository root for full copyright notice.
#---------------------------------------------------------------------------------------------

# This only affect WinRT build.
ENABLE_CPP_CX_EXTENSIONS = 1

%if !defined (__mdlMKI__)
    %include mdl.mki
%endif

%if $(TARGET_PLATFORM)=="Windows"
    # Ignore inheritance via dominance warning
    cDefs + -wd4250
%endif

#--------------------------------------------------------------------------------------
#   Building the WebServicesCache library
#--------------------------------------------------------------------------------------
nameToDefine = __WSCACHE_DLL_BUILD__
%include cdefapnd.mki

#--------------------------------------------------------------------------------------
#   iOS-specific
#--------------------------------------------------------------------------------------
AppleCppFileTypeControl = $(AppleCppFileTypeControl_ObjCpp)
# Ignore unknown pragmas
LLVMCommonCompOpts + -Wno-unknown-pragmas

CacheSourceDirectory       = $(_MakeFilePath)
CachePublicApiDirectory    = $(_MakeFilePath)PublicAPI/WebServices/
BuildContextLibsDirectory  = $(BuildContext)SubParts/Libs/

o = $(OutputRootDir)build/WSClient/Cache/
always:
    !~@mkdir $(o)