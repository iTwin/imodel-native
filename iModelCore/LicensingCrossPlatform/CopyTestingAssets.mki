#---------------------------------------------------------------------------------------------
#   Copyright (c) Bentley Systems, Incorporated. All rights reserved.
#   See COPYRIGHT.md in the repository root for full copyright notice.
#---------------------------------------------------------------------------------------------

# including this to make sure the development environment is setup
%include $(SrcRoot)imodel02/iModelCore/LicensingCrossPlatform/mki/LicensingCore.mki

%if $(TARGET_PROCESSOR_ARCHITECTURE)=="x64"
    arch=Winx64
%elif $(TARGET_PROCESSOR_ARCHITECTURE)=="x86"
    arch=Winx86
%else
    arch=$(TARGET_PROCESSOR_ARCHITECTURE)
%endif

TestAssetsOutDir = $(OutRoot)/$(arch)/static/ProductCopy/Licensing-GtestUnit/Assets/TestAssets
TestAssetsSrcDir = $(SrcRoot)imodel02/iModelCore/LicensingCrossPlatform/Tests/UnitTests/Assets

always:
    ~linkfile $(TestAssetsOutDir)/sqlang/DgnClientFx_en.sqlang.db3 = $(TestAssetsSrcDir)/sqlang/DgnClientFx_en.sqlang.db3
    ~linkmultifiles "$(TestAssetsOutDir)=$(TestAssetsSrcDir)/*.json"
    ~linkmultifiles "$(TestAssetsOutDir)=$(TestAssetsSrcDir)/*.belic"
