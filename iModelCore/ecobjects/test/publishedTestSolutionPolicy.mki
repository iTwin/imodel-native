#----------------------------------------------------------------------------------------
#
#  $Source: test/publishedTestSolutionPolicy.mki $
#
#  $Copyright: (c) 2013 Bentley Systems, Incorporated. All rights reserved. $
#
#----------------------------------------------------------------------------------------
# WE_NEED_TO_FIX_OUR_COMPILER_WARNINGS = 1

nameToDefine = COMPILING_PUBLISHED_TESTS
%include cdefapnd.mki

nameToDefine = USE_PUBLISHED_HEADERS
%include cdefapnd.mki

#-----------------------------------------------------------------------
#   Set flags for a proper gtest compile
#-----------------------------------------------------------------------
%if $(BUILD_TOOLSET) == "VC10"
    nameToDefine = GTEST_USE_OWN_TR1_TUPLE=0
    %include cdefapnd.mki
%else
    nameToDefine = GTEST_HAS_TR1_TUPLE=1
    %include cdefapnd.mki
%endif

# When the published tests build they will set USE_PUBLIC_PUBLISHED_HEADERS which should make sure they
# compile with the published headers and not the internal headers.  All other portions of the build will use
# internal headers.
PublicApiIncludes = -I$(BuildContext)SubParts/PublishedAPI/ -I${BuildContext}/VendorAPI/



