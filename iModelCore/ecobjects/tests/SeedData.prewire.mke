#*--------------------------------------------------------------------------------------+
#
#     $Source: tests/SeedData.prewire.mke $
#
#  $Copyright: (c) 2013 Bentley Systems, Incorporated. All rights reserved. $
#
#--------------------------------------------------------------------------------------*/
PolicyFile = $(SrcRoot)/ecobjects/mki/AssertECObjectsPolicy.mki
%include mdl.mki

buildDir=$(OutputRootDir)build/ECObjects/tests/

seedDataSource=$(SrcRoot)ecobjects/tests/SeedData/

# Wire in seed data
always:
    !~@mkdir $(buildDir)
    !~@mkdir $(buildDir)ECObjectsTest_Data
    @CreateSymLinks.py -m"$(ContextDeliveryDir)SeedData=$(seedDataSource)*.xml"

%ifdef winNT
always:
    $(unzipCmd) -n $(seedDataSource)performance.zip -d $(buildDir)ECObjectsTest_Data/
    @CreateSymLinks.py -m"$(ContextDeliveryDir)SeedData/=$(buildDir)ECObjectsTest_Data/performance/*.xml"
%endif

# Expose seed data as assets needed by ECObjects unit tests
BEGTEST_ASSETS     + $(ContextDeliveryDir)SeedData/
