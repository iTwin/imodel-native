<?xml version="1.0" encoding="UTF-8"?>
<ECSchema schemaName="NestedStructArrayTest" nameSpacePrefix="nsat" version="01.00" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.0">
    <ECSchemaReference name="Bentley_Standard_CustomAttributes" version="01.12" prefix="bsca"/>
    <ECSchemaReference name="ECDbMap" version="01.00.01" prefix="ecdbmap"/>
    <ECCustomAttributes>
        <SchemaChangeTrackingState xmlns="Bentley_Standard_CustomAttributes.01.12">
            <SchemaFullNameAtEditingStart>NestedStructArrayTest.01.00</SchemaFullNameAtEditingStart>
            <TrackingEnabled>True</TrackingEnabled>
        </SchemaChangeTrackingState>
    </ECCustomAttributes>
    <ECEntityClass typeName="ClassA" modifier="None">
		<ECCustomAttributes>
            <ClassMap xmlns="ECDbMap.01.00">
                <MapStrategy>
                    <Strategy>SharedTable</Strategy>
                    <AppliesToSubclasses>True</AppliesToSubclasses>
                </MapStrategy>
            </ClassMap>
        </ECCustomAttributes>
        <ECProperty propertyName="I" typeName="int" readOnly="false"/>
        <ECProperty propertyName="T" typeName="string" readOnly="false"/>
    </ECEntityClass>
    <ECStructClass typeName="S4" modifier="None">
        <ECProperty propertyName="T" typeName="string" readOnly="false"/>
        <ECProperty propertyName="I" typeName="int" readOnly="false"/>
        <ECProperty propertyName="P3D" typeName="point3d" readOnly="false"/>
    </ECStructClass>
    <ECStructClass typeName="S3" modifier="None">
        <ECProperty propertyName="T" typeName="string" readOnly="false"/>
        <ECProperty propertyName="I" typeName="int" readOnly="false"/>
        <ECProperty propertyName="P3D" typeName="point3d" readOnly="false"/>
        <ECStructArrayProperty propertyName="S4ARRAY" typeName="S4" readOnly="false" minOccurs="0" maxOccurs="unbounded"/>
    </ECStructClass>
    <ECStructClass typeName="S2" modifier="None">
        <ECProperty propertyName="T" typeName="string" readOnly="false"/>
        <ECProperty propertyName="I" typeName="int" readOnly="false"/>
        <ECProperty propertyName="P3D" typeName="point3d" readOnly="false"/>
        <ECStructArrayProperty propertyName="S3ARRAY" typeName="S3" readOnly="false" minOccurs="0" maxOccurs="unbounded"/>
    </ECStructClass>
    <ECStructClass typeName="S1" modifier="None">
        <ECProperty propertyName="T" typeName="string" readOnly="false"/>
        <ECProperty propertyName="I" typeName="int" readOnly="false"/>
        <ECProperty propertyName="P3D" typeName="point3d" readOnly="false"/>
        <ECStructArrayProperty propertyName="S2ARRAY" typeName="S2" readOnly="false" minOccurs="0" maxOccurs="unbounded"/>
    </ECStructClass>
    <ECEntityClass typeName="DerivedA" modifier="None">
        <BaseClass>ClassA</BaseClass>
		<ECProperty propertyName="PropDerivedA" typeName="int" readOnly="false"/>
        <ECStructArrayProperty propertyName="S1ARRAY" typeName="S1" readOnly="false" minOccurs="0" maxOccurs="unbounded"/>
    </ECEntityClass>
    <ECRelationshipClass typeName="BaseHasDerivedA" modifier="Sealed" strength="referencing" strengthDirection="forward">
        <ECCustomAttributes>
            <LinkTableRelationshipMap xmlns="ECDbMap.01.00"/>
        </ECCustomAttributes>
        <Source cardinality="(0,1)" polymorphic="true">
            <Class class="ClassA"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="DerivedA"/>
        </Target>
    </ECRelationshipClass>
    <ECEntityClass typeName="ClassP" modifier="None">
        <ECStructArrayProperty propertyName="S1ARRAY" typeName="S1" readOnly="false" minOccurs="0" maxOccurs="unbounded"/>
        <ECProperty propertyName="T" typeName="string" readOnly="false"/>
        <ECProperty propertyName="I" typeName="int" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="DerivedB" modifier="None">
        <BaseClass>ClassA</BaseClass>
		<ECProperty propertyName="PropDerivedB" typeName="int" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="DoubleDerivedB" modifier="None">
        <BaseClass>DerivedB</BaseClass>
		<ECProperty propertyName="PropDoubleDerivedB" typeName="int" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="DoubleDerivedA" modifier="None">
        <BaseClass>DerivedB</BaseClass>
		<ECProperty propertyName="PropDoubleDerivedA" typeName="int" readOnly="false"/>
        <ECStructArrayProperty propertyName="S1ARRAY" typeName="S1" readOnly="false" minOccurs="0" maxOccurs="unbounded"/>
    </ECEntityClass>
    <ECRelationshipClass typeName="DerivedBHasChildren" modifier="Sealed" strength="referencing" strengthDirection="forward">
        <ECCustomAttributes>
            <LinkTableRelationshipMap xmlns="ECDbMap.01.00"/>
        </ECCustomAttributes>
        <Source cardinality="(0,1)" polymorphic="true">
            <Class class="DerivedB"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="DoubleDerivedA"/>
			<Class class="DoubleDerivedB"/>
        </Target>
    </ECRelationshipClass>
    <ECEntityClass typeName="DoubleDerivedC" modifier="None">
        <BaseClass>DerivedA</BaseClass>
		<ECProperty propertyName="PropDoubleDerivedC" typeName="int" readOnly="false"/>
    </ECEntityClass>
</ECSchema>
