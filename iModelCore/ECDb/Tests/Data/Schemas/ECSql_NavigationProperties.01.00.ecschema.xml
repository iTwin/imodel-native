<?xml version="1.0" encoding="utf-8"?>
<ECSchema schemaName="ECSql_NavigationProperties" nameSpacePrefix="np" version="1.0" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.0">
    <ECSchemaReference name="ECDbMap" version="01.00" prefix="ecdbmap" />

    <ECEntityClass typeName="DgnModel">
        <ECProperty propertyName="Name" typeName="string"/>
    </ECEntityClass>

    <ECEntityClass typeName="DgnElement">
        <ECNavigationProperty propertyName="Model" relationshipName="ParentHasChildren" direction="Backward" />
        <ECNavigationProperty propertyName="ModelViaLinkTable" relationshipName="ParentHasChildrenLinkTable" direction="Backward"/>
        <ECProperty propertyName="Code" typeName="string"/>
    </ECEntityClass>

    <ECRelationshipClass typeName="ParentHasChildren" strength="Referencing">
        <ECCustomAttributes>
            <ForeignKeyRelationshipMap xmlns="ECDbMap.01.00" />
        </ECCustomAttributes>
        <Source cardinality="(0,1)" polymorphic="False">
           <Class class="DgnModel" />
        </Source>
        <Target cardinality="(0,N)" polymorphic="False">
           <Class class="DgnElement" />
        </Target>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="ParentHasChildrenLinkTable" strength="Referencing">
        <ECCustomAttributes>
            <LinkTableRelationshipMap xmlns="ECDbMap.01.00" />
        </ECCustomAttributes>
        <Source cardinality="(0,1)" polymorphic="False">
           <Class class="DgnModel" />
        </Source>
        <Target cardinality="(0,N)" polymorphic="False">
           <Class class="DgnElement" />
        </Target>
    </ECRelationshipClass>   
</ECSchema>