<?xml version="1.0" encoding="utf-8"?>
<ECSchema schemaName="IntegrityCheck" nameSpacePrefix="ic" version="1.0" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.2.0">
    <ECSchemaReference name="Bentley_Standard_CustomAttributes" version="01.10" prefix="bsca" />
    <ECSchemaReference name="ECDbMap" version="01.00" prefix="ecdbmap" />
    <ECClass typeName="SourceBase" isDomainClass="True">
        <ECCustomAttributes>
            <ClassMap xmlns="ECDbMap.01.00">
                <MapStrategy>
                    <Strategy>SharedTable</Strategy>
                    <AppliesToSubclasses>True</AppliesToSubclasses>
                </MapStrategy>
            </ClassMap>
        </ECCustomAttributes>
        <ECProperty propertyName="S" typeName="string" />
        <ECProperty propertyName="I" typeName="int" />
    </ECClass>
    <ECClass typeName="SourceDerived1" isDomainClass="True">
        <BaseClass>SourceBase</BaseClass>
        <ECProperty propertyName="D" typeName="string" />
    </ECClass>
    <ECClass typeName="SourceDerived2" isDomainClass="True">
        <BaseClass>SourceBase</BaseClass>
        <ECProperty propertyName="L" typeName="long" />
    </ECClass>
    <ECClass typeName="TargetBase" isDomainClass="True">
        <ECCustomAttributes>
            <ClassMap xmlns="ECDbMap.01.00">
                <MapStrategy>
                    <Strategy>SharedTable</Strategy>
                    <AppliesToSubclasses>True</AppliesToSubclasses>
                </MapStrategy>
            </ClassMap>
        </ECCustomAttributes>
        <ECProperty propertyName="I" typeName="int" />
        <ECProperty propertyName="S" typeName="string" />
    </ECClass>
    <ECRelationshipClass typeName="SourceToTarget_Embedding" isDomainClass="True" strength="embedding" strengthDirection="forward">
        <ECCustomAttributes>
            <ForeignKeyRelationshipMap xmlns="ECDbMap.01.00">
                <ForeignKeyColumn>SourceECInstanceId</ForeignKeyColumn>
                <ForeignKeyClassIdColumn>SourceEClassId</ForeignKeyClassIdColumn>
                <OnDeleteAction>Cascade</OnDeleteAction>
                <OnUpdateAction>NoAction</OnUpdateAction>
            </ForeignKeyRelationshipMap>
        </ECCustomAttributes>
        <Source cardinality="(1,1)" polymorphic="True">
            <Class class="SourceBase" />
        </Source>
        <Target cardinality="(1,N)" polymorphic="True">
            <Class class="TargetBase" />
        </Target>
    </ECRelationshipClass>
</ECSchema>