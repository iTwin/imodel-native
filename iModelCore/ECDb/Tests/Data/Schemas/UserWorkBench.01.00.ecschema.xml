<?xml version="1.0" encoding="UTF-8"?>
<ECSchema schemaName="UserWorkBench" nameSpacePrefix="UWB" version="01.00" description="Schema that contains all the data about a user" displayLabel="User WorkBench" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.0">
    <ECSchemaReference name="EditorCustomAttributes" version="01.02" prefix="beca"/>
    <ECSchemaReference name="Bentley_Standard_CustomAttributes" version="01.12" prefix="bsca"/>
	    <ECSchemaReference name="ECDbMap" version="01.00.01" prefix="ecdbmap"/>
    <ECCustomAttributes>
        <SchemaChangeTrackingState xmlns="Bentley_Standard_CustomAttributes.01.12">
            <SchemaFullNameAtEditingStart>UserWorkBench.01.00</SchemaFullNameAtEditingStart>
            <TrackingEnabled>True</TrackingEnabled>
        </SchemaChangeTrackingState>
    </ECCustomAttributes>
    <ECEntityClass typeName="areas" displayLabel="Areas" modifier="None">
        <ECProperty propertyName="area_id" typeName="int" displayLabel="Area Id" readOnly="false"/>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="province_id" typeName="int" displayLabel="Province Id" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="towns" displayLabel="Towns" modifier="None">
        <ECProperty propertyName="area_id" typeName="int" displayLabel="Area Id" readOnly="false"/>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="town_id" typeName="int" displayLabel="Town Id" readOnly="false"/>
    </ECEntityClass>
    <ECRelationshipClass typeName="area_town" displayLabel="Area Town Relationship" modifier="Sealed" strength="holding" strengthDirection="backward">
        <Source cardinality="(1,1)" polymorphic="true">
            <Class class="areas"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="towns">
                <Key>
                    <Property name="area_id"/>
                </Key>
            </Class>
        </Target>
    </ECRelationshipClass>
    <ECEntityClass typeName="houses" displayLabel="House" modifier="None">
	    <ECCustomAttributes>
            <ClassMap xmlns="ECDbMap.01.00.01">
                <MapStrategy>
                    <Strategy>SharedTable</Strategy>
                    <AppliesToSubclasses>True</AppliesToSubclasses>
                </MapStrategy>
            </ClassMap>
        </ECCustomAttributes>
        <ECProperty propertyName="town_id" typeName="int" displayLabel="Town Id" readOnly="false"/>
        <ECProperty propertyName="state_id" typeName="int" displayLabel="State Id" readOnly="false"/>
        <ECProperty propertyName="province_id" typeName="int" displayLabel="Province Id" readOnly="false"/>
        <ECProperty propertyName="region_id" typeName="int" displayLabel="Region Id" readOnly="false"/>
        <ECProperty propertyName="country_id" typeName="int" displayLabel="Country Id" readOnly="false"/>
        <ECProperty propertyName="area_id" typeName="int" description="int" displayLabel="Area Id" readOnly="false"/>
        <ECProperty propertyName="house_id" typeName="int" displayLabel="House Id" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="availabilities" displayLabel="Availabilities" modifier="None">
        <BaseClass>houses</BaseClass>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="house_id" typeName="int" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="categories" displayLabel="Categories" modifier="None">
        <ECProperty propertyName="category_id" typeName="int" displayLabel="Category Id" readOnly="false"/>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="description" typeName="string" displayLabel="Description" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="user" description="Information about user" modifier="None">
        <ECProperty propertyName="userName" typeName="string" readOnly="false">
            <ECCustomAttributes>
                <PropertyPriority xmlns="EditorCustomAttributes.01.02">
                    <Priority>10</Priority>
                </PropertyPriority>
            </ECCustomAttributes>
        </ECProperty>
        <ECProperty propertyName="passWord" typeName="string" readOnly="false">
            <ECCustomAttributes>
                <PropertyPriority xmlns="EditorCustomAttributes.01.02">
                    <Priority>10</Priority>
                </PropertyPriority>
            </ECCustomAttributes>
        </ECProperty>
        <ECProperty propertyName="eMail" typeName="string" readOnly="false">
            <ECCustomAttributes>
                <PropertyPriority xmlns="EditorCustomAttributes.01.02">
                    <Priority>10</Priority>
                </PropertyPriority>
            </ECCustomAttributes>
        </ECProperty>
        <ECProperty propertyName="registrationCode" typeName="string" displayLabel="Registration Code" readOnly="false">
            <ECCustomAttributes>
                <PropertyPriority xmlns="EditorCustomAttributes.01.02">
                    <Priority>10</Priority>
                </PropertyPriority>
            </ECCustomAttributes>
        </ECProperty>
        <ECProperty propertyName="user_id" typeName="int" readOnly="false">
            <ECCustomAttributes>
                <PropertyPriority xmlns="EditorCustomAttributes.01.02">
                    <Priority>10</Priority>
                </PropertyPriority>
            </ECCustomAttributes>
        </ECProperty>
    </ECEntityClass>
    <ECEntityClass typeName="comments" displayLabel="Comments" modifier="None">
        <BaseClass>user</BaseClass>
        <ECProperty propertyName="text" typeName="string" displayLabel="Text" readOnly="false"/>
        <ECProperty propertyName="house_id" typeName="int" displayLabel="House Id" readOnly="false"/>
        <ECProperty propertyName="comment_id" typeName="int" displayLabel="Comment Id" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="conditions" displayLabel="Conditions" modifier="None">
        <BaseClass>houses</BaseClass>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="level" typeName="int" displayLabel="Level" readOnly="false"/>
        <ECProperty propertyName="house_id" typeName="int" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="continent" displayLabel="Continent">
        <ECProperty propertyName="continent_id" typeName="int" displayLabel="Continent Id" readOnly="false"/>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="country" displayLabel="Country" modifier="None">
	        <ECCustomAttributes>
            <ClassMap xmlns="ECDbMap.01.00.01">
                <MapStrategy>
                    <Strategy>SharedTable</Strategy>
                    <AppliesToSubclasses>True</AppliesToSubclasses>
                </MapStrategy>
            </ClassMap>
        </ECCustomAttributes>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
    </ECEntityClass>
    <ECRelationshipClass typeName="country_continent" displayLabel="Country Continent Relationship" modifier="Sealed" strength="referencing" strengthDirection="forward">
        <Source cardinality="(1,N)" polymorphic="true">
            <Class class="country" />
        </Source>
        <Target cardinality="(1,1)" polymorphic="true">
            <Class class="continent" />
        </Target>
    </ECRelationshipClass>
    <ECEntityClass typeName="region" displayLabel="Region" modifier="None">
        <BaseClass>country</BaseClass>
        <ECProperty propertyName="country_id" typeName="int" displayLabel="Country Id" readOnly="false"/>
    </ECEntityClass>
    <ECRelationshipClass typeName="country_region" displayLabel="Country Region Relationship" modifier="Sealed" strength="holding" strengthDirection="forward">
        <Source cardinality="(1,1)" polymorphic="true">
            <Class class="country"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="region">
                <Key>
                    <Property name="country_id"/>
                </Key>
            </Class>
        </Target>
    </ECRelationshipClass>
    <ECRelationshipClass typeName="house_user" displayLabel="House User Relationship" modifier="Sealed" strength="referencing" strengthDirection="forward">
        <Source cardinality="(0,1)" polymorphic="true">
            <Class class="houses"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="user"/>
        </Target>
    </ECRelationshipClass>
    <ECEntityClass typeName="states" displayLabel="States" modifier="None">
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="state_id" typeName="int" displayLabel="State Id" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="links" displayLabel="Links" modifier="None">
        <BaseClass>states</BaseClass>
        <ECProperty propertyName="title" typeName="string" displayLabel="Title" readOnly="false"/>
        <ECProperty propertyName="description" typeName="string" displayLabel="Description" readOnly="false"/>
        <ECProperty propertyName="url" typeName="string" displayLabel="URL" readOnly="false"/>
        <ECProperty propertyName="state_id" typeName="int" readOnly="false"/>
        <ECProperty propertyName="link_id" typeName="int" displayLabel="Link Id" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="options" displayLabel="Options" modifier="None">
        <ECProperty propertyName="id" typeName="int" displayLabel="Id" readOnly="false"/>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="value" typeName="string" displayLabel="Value" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="pages" displayLabel="Pages" modifier="None">
        <ECProperty propertyName="page_id" typeName="int" displayLabel="Page Id" readOnly="false"/>
        <ECProperty propertyName="title" typeName="string" displayLabel="Title" readOnly="false"/>
        <ECProperty propertyName="state_id" typeName="int" displayLabel="State Id" readOnly="false"/>
        <ECProperty propertyName="category_id" typeName="int" displayLabel="Category Id" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="pictures" displayLabel="Pictures" modifier="None">
        <ECProperty propertyName="picture_id" typeName="int" displayLabel="Picture Id" readOnly="false"/>
        <ECProperty propertyName="house_id" typeName="int" displayLabel="House Id" readOnly="false"/>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="caption" typeName="string" displayLabel="Caption" readOnly="false"/>
        <ECProperty propertyName="thumbnail_url" typeName="string" displayLabel="Thumbnail Url" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="profile" displayLabel="Profile" modifier="None">
        <ECProperty propertyName="id" typeName="int" readOnly="false"/>
        <ECProperty propertyName="first_name" typeName="string" displayLabel="First Name" readOnly="false"/>
        <ECProperty propertyName="last_name" typeName="string" displayLabel="Last Name" readOnly="false"/>
        <ECProperty propertyName="middle_name" typeName="string" displayLabel="Middle Name" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="providers" displayLabel="Providers" modifier="None">
        <BaseClass>user</BaseClass>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="code" typeName="string" displayLabel="Code" readOnly="false"/>
        <ECProperty propertyName="provider_id" typeName="int" displayLabel="Provider Id" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="province" displayLabel="Province" modifier="None">
        <ECProperty propertyName="region_id" typeName="string" displayLabel="Region Id" readOnly="false"/>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="province_id" typeName="int" displayLabel="Province Id" readOnly="false"/>
    </ECEntityClass>
    <ECRelationshipClass typeName="province_area" displayLabel="Province Area Relationship" modifier="Sealed" strength="referencing" strengthDirection="backward">
        <Source cardinality="(1,1)" polymorphic="true">
            <Class class="province"/>
        </Source>
        <Target cardinality="(1,1)" polymorphic="true">
            <Class class="areas"/>
        </Target>
    </ECRelationshipClass>
    <ECRelationshipClass typeName="region_province" displayLabel="Region Province Relationship" modifier="Sealed" strength="embedding" strengthDirection="forward">
        <Source cardinality="(0,1)" polymorphic="true">
            <Class class="region"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="province"/>
        </Target>
    </ECRelationshipClass>
    <ECEntityClass typeName="roles" displayLabel="Roles" modifier="None">
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="level" typeName="int" displayLabel="Level" readOnly="false"/>
        <ECProperty propertyName="roles_id" typeName="int" displayLabel="Roles Id" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="sevices" displayLabel="Services" modifier="None">
        <ECProperty propertyName="id" typeName="int" displayLabel="Id" readOnly="false"/>
        <ECProperty propertyName="electricity" typeName="int" displayLabel="Elecrticity" readOnly="false"/>
        <ECProperty propertyName="water" typeName="int" displayLabel="Water" readOnly="false"/>
        <ECProperty propertyName="garbage" typeName="int" displayLabel="Garbage" readOnly="false"/>
        <ECProperty propertyName="gas" typeName="int" displayLabel="Gas" readOnly="false"/>
        <ECProperty propertyName="parking" typeName="int" displayLabel="Parking" readOnly="false"/>
    </ECEntityClass>
    <ECEntityClass typeName="status" modifier="None">
        <BaseClass>user</BaseClass>
        <ECProperty propertyName="name" typeName="string" readOnly="false"/>
        <ECProperty propertyName="level" typeName="int" readOnly="false"/>
        <ECProperty propertyName="status_id" typeName="string" displayLabel="Status Id" readOnly="false"/>
    </ECEntityClass>
    <ECRelationshipClass typeName="town_house" displayLabel="Town House Relationship" modifier="Sealed" strength="embedding" strengthDirection="backward">
        <Source cardinality="(0,1)" polymorphic="true">
            <Class class="towns"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="houses"/>
        </Target>
    </ECRelationshipClass>
    <ECEntityClass typeName="types" displayLabel="Types" modifier="None">
        <BaseClass>houses</BaseClass>
        <ECProperty propertyName="name" typeName="string" displayLabel="Name" readOnly="false"/>
        <ECProperty propertyName="house_id" typeName="int" readOnly="false"/>
    </ECEntityClass>
</ECSchema>
