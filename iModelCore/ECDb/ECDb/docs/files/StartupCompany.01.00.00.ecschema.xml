<?xml version="1.0" encoding="utf-8"?>
<ECSchema schemaName="StartupCompany" alias="stco" version="1.0.0" description="Startup Company Sample ECSchema" displayLabel="Startup Company" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.1">

    <ECSchemaReference name="CoreCustomAttributes" version="01.00.00" alias="CoreCA" />
    <ECSchemaReference name="ECDbMap" version="02.00.00" alias="ecdbmap" />
  
    <ECEntityClass typeName="Company" modifier="Sealed">
        <ECProperty propertyName="Name" typeName="string" />
    </ECEntityClass>
     
    <ECEntityClass typeName="Employee" modifier="Sealed">
        <ECProperty propertyName="EmployeeID" typeName="int" displayLabel="Employee ID" />
        <ECProperty propertyName="FirstName" typeName="string" displayLabel="First Name" />
        <ECProperty propertyName="LastName" typeName="string" displayLabel="Last Name" />
        <ECProperty propertyName="Birthday" typeName="dateTime" displayLabel="Birthday">
            <ECCustomAttributes>
                <DateTimeInfo xmlns="CoreCustomAttributes.01.00">
                    <DateTimeComponent>Date</DateTimeComponent>
                </DateTimeInfo>
            </ECCustomAttributes>
        </ECProperty>
        <ECNavigationProperty propertyName="Company" relationshipName="CompanyHasEmployees" direction="Backward" />
        <ECProperty propertyName="JobTitle" typeName="string" displayLabel="Job Title" />
        <ECArrayProperty propertyName="WorkPhones" typeName="string" displayLabel="Work Phone(s)" minOccurs="0" maxOccurs="unbounded" />
        <ECArrayProperty propertyName="MobilePhones" typeName="string" displayLabel="Mobile Phone(s)" minOccurs="0" maxOccurs="unbounded" />
        <ECNavigationProperty propertyName="Manager" relationshipName="ManagerReports" direction="Backward" />
        <ECStructArrayProperty propertyName="Certifications" typeName="Certification" minOccurs="0" maxOccurs="unbounded"/>
        <ECStructProperty propertyName="Address" typeName="Location" />
        <ECProperty propertyName="LastModified" typeName="dateTime" displayLabel="Last Modified">
            <ECCustomAttributes>
                <DateTimeInfo xmlns="CoreCustomAttributes.01.00">
                    <DateTimeKind>Utc</DateTimeKind>
                </DateTimeInfo>
            </ECCustomAttributes>
        </ECProperty>
    </ECEntityClass>

    <ECStructClass typeName="Certification" displayLabel="Employee Certification" modifier="Sealed">
        <ECProperty propertyName="Name" typeName="string" displayLabel="Certification Name" />
        <ECProperty propertyName="StartDate" typeName="dateTime" displayLabel="Starts On" />
        <ECProperty propertyName="ExpiryDate" typeName="dateTime" displayLabel="Expires On" />
        <ECProperty propertyName="Technology" typeName="string" />
        <ECProperty propertyName="Level" typeName="int" />
    </ECStructClass>

    <ECStructClass typeName="Location" modifier="Sealed">
        <ECProperty propertyName="Street" typeName="string" />
        <ECProperty propertyName="City" typeName="string" />
        <ECProperty propertyName="State" typeName="string" />
        <ECProperty propertyName="Country" typeName="string" />
        <ECProperty propertyName="Zip" typeName="int" displayLabel="Zip Code" />
    </ECStructClass>
      
    <ECEntityClass typeName="Asset" modifier="abstract">
        <ECCustomAttributes>
            <ClassMap xmlns="ECDbMap.02.00">
                <MapStrategy>TablePerHierarchy</MapStrategy>
            </ClassMap>
        </ECCustomAttributes>
    
        <ECProperty propertyName="AssetOwner" typeName="string" />
        <ECProperty propertyName="BarCode" typeName="string" displayLabel="Bar Code" />
        <ECProperty propertyName="Cost" typeName="double" />
        <ECProperty propertyName="Room" typeName="string" displayLabel="Room/Cubicle" />
    </ECEntityClass>

    <ECEntityClass typeName="Phone" modifier="Sealed">
        <BaseClass>Asset</BaseClass>
        <ECProperty propertyName="Number" typeName="string" />
        <ECProperty propertyName="Owner" typeName="string" />
        <ECProperty propertyName="User" typeName="int" />
    </ECEntityClass>
  
    <ECEntityClass typeName="Furniture" modifier="Abstract">
        <BaseClass>Asset</BaseClass>
        <ECProperty propertyName="Condition" typeName="int" />
        <ECProperty propertyName="Material" typeName="int" displayLabel="Furniture Made Of" />
        <ECProperty propertyName="Weight" typeName="double" />
    </ECEntityClass>
  
    <ECEntityClass typeName="Chair" displayLabel="Office Chair" modifier="Sealed">
        <BaseClass>Furniture</BaseClass>
        <ECProperty propertyName="Type" typeName="string" />
        <ECProperty propertyName="Color" typeName="string" />
    </ECEntityClass>
  
    <ECEntityClass typeName="Desk" modifier="Sealed">
        <BaseClass>Furniture</BaseClass>
        <ECProperty propertyName="DeskFootprint" typeName="string" />
        <ECProperty propertyName="NumberOfCabinets" typeName="int" displayLabel="Number Of Cabinets" />
        <ECProperty propertyName="Size" typeName="string" />
        <ECProperty propertyName="Type" typeName="string" />
        <ECProperty propertyName="Length" typeName="double" />
        <ECProperty propertyName="Breadth" typeName="double" />
    </ECEntityClass>

    <ECEntityClass typeName="RoundTable" modifier="Sealed">
        <BaseClass>Furniture</BaseClass>
        <ECProperty propertyName="Radius" typeName="double" />
    </ECEntityClass>

    <ECEntityClass typeName="Hardware" modifier="Abstract">
        <BaseClass>Asset</BaseClass>
        <ECProperty propertyName="HasTrackingDevice" typeName="boolean" displayLabel="Has Tracking Device" />
        <ECProperty propertyName="HasWarranty" typeName="boolean" displayLabel="Has Warranty" />
        <ECProperty propertyName="IsCompanyProperty" typeName="boolean" displayLabel="Is Company Property" />
        <ECProperty propertyName="Make" typeName="string" />
        <ECProperty propertyName="Model" typeName="string" />
        <ECProperty propertyName="WarrantyExpiryDate" typeName="dateTime" displayLabel="Warranty Expiry Date" >
            <ECCustomAttributes>
                <DateTimeInfo xmlns="CoreCustomAttributes.01.00">
                    <DateTimeComponent>Date</DateTimeComponent>
                </DateTimeInfo>
            </ECCustomAttributes>
        </ECProperty>
    </ECEntityClass>
  
    <ECEntityClass typeName="Computer">
        <BaseClass>Hardware</BaseClass>
        <ECProperty propertyName="Vendor" typeName="string" />
        <ECProperty propertyName="Weight" typeName="double" />
        <ECProperty propertyName="Type" typeName="int" />
    </ECEntityClass>

    <ECEntityClass typeName="Laptop" modifier="Sealed">
        <BaseClass>Computer</BaseClass>
        <ECProperty propertyName="HasDockingStation" typeName="boolean" />
    </ECEntityClass>

    <ECEntityClass typeName="Monitor" modifier="Sealed">
        <BaseClass>Hardware</BaseClass>
        <ECProperty propertyName="Size" typeName="int" />
        <ECProperty propertyName="Type" typeName="string" />
        <ECProperty propertyName="Vendor" typeName="string" />
        <ECProperty propertyName="Weight" typeName="double" />
    </ECEntityClass>
      
    <ECRelationshipClass typeName="ManagerReports" strength="referencing" modifier="Sealed">
        <Source multiplicity="(0..1)" roleLabel="manages" polymorphic="True">
            <Class class="Employee" />
        </Source>
        <Target multiplicity="(0..*)" roleLabel="reports to" polymorphic="True">
            <Class class="Employee" />
        </Target>
    </ECRelationshipClass>  
    
    <ECRelationshipClass typeName="CompanyHasEmployees" strength="referencing" modifier="Sealed">
        <Source multiplicity="(1..1)" roleLabel="employs" polymorphic="True">
            <Class class="Company" />
        </Source>
        <Target multiplicity="(1..*)" roleLabel="works for" polymorphic="True">
            <Class class="Employee" />
        </Target>
    </ECRelationshipClass>
        
    <ECRelationshipClass typeName="HardwareUsedByEmployee" strength="referencing" modifier="Sealed">
        <Source multiplicity="(0..*)" roleLabel="uses" polymorphic="True">
            <Class class="Employee" />
        </Source>
        <Target multiplicity="(0..*)" roleLabel="is used by" polymorphic="True">
            <Class class="Hardware" />
        </Target>
    </ECRelationshipClass>
</ECSchema>