<?xml version="1.0" encoding="utf-8"?>

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../bsicommon/build/PartFile.xsd">

    <!-- //////////////////////////////////////////////////////////////////////////// -->
    <!-- // BCVDaemon Daemon                                                   // -->
    <!-- //////////////////////////////////////////////////////////////////////////// -->

    <Product Name="BCVDaemon">
        <SubPart PartName="BCVDaemonExe-Windows" LibType="Static"/>
        <SubPart PartName="BCVDaemonExe-Linux" LibType="Static"/>
        <SubPart PartName="BCVDaemonExe-MacOS" LibType="Static"/>
        <Directories DirectoryListName="BCVDaemonDirList"/>
    </Product>
    
    <Part Name="BCVDaemonExe-Windows" OnlyPlatforms="x64" ExcludeLibType="Dynamic">
        <SubPart PartName="BCVDaemon" LibType="Static"/>
    </Part>

    <Part Name="BCVDaemonExe-Linux" OnlyPlatforms="Linux*" ExcludeLibType="Dynamic" >
        <SubPart PartName="BCVDaemon" LibType="Static"/>
    </Part>

    <Part Name="BCVDaemonExe-MacOS" OnlyPlatforms="MacOS*" ExcludeLibType="Dynamic" >
        <SubPart PartName="BCVDaemon" LibType="Static"/>
    </Part>

    <Part Name="BCVDaemon" BentleyBuildMakeFile="BCVDaemon.mke">
        <SubPart LibType="Static" PartName="Curl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <SubPart LibType="Static" PartName="OpenSsl" PartFile="Libsrc-Nugets" Repository="bsicommon"/>
        <Bindings>
            <Files ProductDirectoryName="ApplicationRoot">
                Delivery/BCVDaemon$(exeext)
            </Files>
        </Bindings>
    </Part>

    <ProductDirectoryList ListName="BCVDaemonDirList">
        <!-- Only want a static build of the EXE -->
        <ProductDirectory Name="ApplicationRoot" Deliver="true" Path=""/>
        <ProductDirectory Name="ApplicationRoot" Deliver="true" Path="" LibType="Static" />
        <ProductDirectory Name="Assemblies" Deliver="false" RelativeTo="ApplicationRoot"/>
        <ProductDirectory Name="Assemblies" Deliver="false" RelativeTo="ApplicationRoot" LibType="static"/>
    </ProductDirectoryList>
    
</BuildContext>
