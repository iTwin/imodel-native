#--------------------------------------------------------------------------------------
#
#     $Source: ORDBridge/TestApp/ORDBridgeTestApp.mke $
#
#  $Copyright: (c) 2017 Bentley Systems, Incorporated. All rights reserved. $
#
#--------------------------------------------------------------------------------------
%include mdl.mki

appName = ORDBridgeTestApp
o = $(OutputRootDir)Build/$(appName)/

always:
    ~mkdir $(o)

#--------------------------------------------------------------------------------------
#   Compile the source
#--------------------------------------------------------------------------------------
%include MultiCppCompileRule.mki

$(o)ORDBridgeTestApp$(oext) : $(_MakeFilePath)ORDBridgeTestApp.cpp $(_MakeFilePath)ORDBridgeTestApp.h ${MultiCompileDepends}

%include MultiCppCompileGo.mki

#--------------------------------------------------------------------------------------
#   Link the executable
#--------------------------------------------------------------------------------------
EXE_DEST            = $(o)
EXE_NAME            = $(appName)
EXE_OBJS            = $(MultiCompileObjectList)
EXE_LOPT1           = -entry:wmainCRTStartup

LINKER_LIBRARIES    = $(ContextSubpartsLibs)$(libprefix)Bentley$(libext)
LINKER_LIBRARIES    + $(ContextSubpartsLibs)$(libprefix)ORDBridge$(libext)
LINKER_LIBRARIES    + $(ContextSubpartsLibs)$(libprefix)BeSQLite$(libext)
LINKER_LIBRARIES    + $(ContextSubpartsLibs)$(libprefix)iModelBridge$(libext)

%include $(SharedMki)linktool.mki

# $(BuildContext)Delivery/SampleToyTile.xml : $(_MakeFilePath)SampleToyTile.xml
#    $(LinkFirstDepToFirstTarget)