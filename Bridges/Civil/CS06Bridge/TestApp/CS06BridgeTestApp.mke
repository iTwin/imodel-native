#---------------------------------------------------------------------------------------------
#  Copyright (c) Bentley Systems, Incorporated. All rights reserved.
#  See COPYRIGHT.md in the repository root for full copyright notice.
#---------------------------------------------------------------------------------------------
%include mdl.mki

appName = CS06BridgeTestApp
o = $(OutputRootDir)Build/$(appName)/

always:
    ~mkdir $(o)

#--------------------------------------------------------------------------------------
#   Compile the source
#--------------------------------------------------------------------------------------
%include MultiCppCompileRule.mki

$(o)CS06BridgeTestApp$(oext) : $(_MakeFilePath)CS06BridgeTestApp.cpp $(_MakeFilePath)CS06BridgeTestApp.h ${MultiCompileDepends}

%include MultiCppCompileGo.mki

#--------------------------------------------------------------------------------------
#   Link the executable
#--------------------------------------------------------------------------------------
EXE_DEST            = $(o)
EXE_NAME            = $(appName)
EXE_OBJS            = $(MultiCompileObjectList)
EXE_LOPT1           = -entry:wmainCRTStartup

LINKER_LIBRARIES    = $(ContextSubpartsLibs)$(libprefix)Bentley$(libext)
LINKER_LIBRARIES    + $(ContextSubpartsLibs)$(libprefix)CS06Bridge$(libext)
LINKER_LIBRARIES    + $(ContextSubpartsLibs)$(libprefix)BeSQLite$(libext)
LINKER_LIBRARIES    + $(ContextSubpartsLibs)$(libprefix)iModelBridge$(libext)

%include $(SharedMki)linktool.mki
