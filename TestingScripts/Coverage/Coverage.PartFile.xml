<?xml version="1.0" encoding="utf-8"?>

<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../bsicommon/build/PartFile.xsd">
    
  <Part Name="imodel02-CodeCoverage" OnlyPlatforms="x64" PrgOutputDir="imodel02-Coverage">
		<RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
		<SubPart PartName="iModelCore-CodeCoverage"/>
        <SubPart PartName="MstnBridge-CodeCoverage"/>
		<SubPart PartName="iModelBridgeCore-CodeCoverage"/>
    </Part>
	
	<!-- Tests in iModelBridgeCore build strategy -->
	<Part Name="iModelBridgeCore-CodeCoverage" OnlyPlatforms="x64" PrgOutputDir="iModelBridgeCoreCoverage">
		    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
        <SubPart PartName="DgnDbSync-CodeCoverage"/> 
  </Part>
	
	 <Part Name="DgnDbSync-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=DgnV8ConverterTests" OnlyPlatforms="x64">
		    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
        <SubProduct Repository="imodel02" PartFile="iModelBridgeCore/DgnDbSync/DgnDbSync" ProductName="DgnV8ConverterTests"/>
    </Part>
	
	<!-- Tests in MstnBridge build strategy -->
	<Part Name="MstnBridge-CodeCoverage" OnlyPlatforms="x64" PrgOutputDir="MstnBridgeCoverage">
		    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
        <SubPart PartName="MstnBridgeTests-Coverage"/> 
  </Part>
	
  <Part Name="MstnBridgeTests-Coverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=MstnBridgeTests" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> -->
      <SubProduct Repository="imodel02" PartFile="Bridges/Mstn/MstnBridge" ProductName="MstnBridgeTests"/>
  </Part>

  <!-- Tests in iModelCore build strategy -->
  <Part Name="iModelCore-CodeCoverage" OnlyPlatforms="x64" PrgOutputDir="iModelCoreCoverage">
  <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
      <SubPart PartName="Bentley-CodeCoverage"/>
      <SubPart PartName="BeSecurity-CodeCoverage"/>
      <SubPart PartName="BeSQLite-CodeCoverage"/>
      <SubPart PartName="DgnPlatform-CodeCoverage"/> 
      <SubPart PartName="ECDb-CodeCoverage"/> 
      <SubPart PartName="ECObjects-CodeCoverage"/> 
      <SubPart PartName="ECPresentation-CodeCoverage"/>
      <SubPart PartName="GeomLibs-CodeCoverage"/> 
      <SubPart PartName="Licensing-CodeCoverage"/> 
      <SubPart PartName="Units-CodeCoverage"/>
      <SubPart PartName="WSClient-CodeCoverage"/>
  </Part>

  <Part Name="Bentley-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=Bentley +dType=xml" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/Bentley/Bentley" ProductName="Bentley-Gtest"    />
  </Part>
  
  <Part Name="BeSecurity-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=BeSecurity" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/BeSecurity/BeSecurity" ProductName="BeSecurity-GTest"/> 
  </Part>

  <Part Name="BeSQLite-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=BeSQLite" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/BeSQLite/BeSQLite" ProductName="BeSQLite-GTest"/>
  </Part>

  <Part Name="DgnPlatform-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=DgnPlatform" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/DgnPlatform/DgnPlatform" ProductName="DgnPlatform-GTest"/>
  </Part>

  <Part Name="ECDb-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=ECDb" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/ECDb/ECDb" ProductName="ECDb-GTest"/>
  </Part>

  <Part Name="ECObjects-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=ECObjects" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/ECObjects/ECObjects" ProductName="ECObjects-GTest"/>
  </Part>

  <Part Name="ECPresentation-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=ECPresentation" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/ECPresentation/ECPresentation" ProductName="ECPresentation-GTest"/>
  </Part>

  <Part Name="GeomLibs-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=GeomLibs" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/GeomLibs/GeomLibs" ProductName="GeomLibs-GTest"/>
  </Part>

  <Part Name="Licensing-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=Licensing" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/LicensingCrossPlatform/LicensingCrossPlatform" ProductName="Licensing-GtestUnit"/>
  </Part>

  <Part Name="Units-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=Units" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/Units/Units" ProductName="Units-GTest"/>
  </Part>

  <Part Name="WSClient-CodeCoverage" BentleyBuildMakeFile="RunCodeCoverage.mke" BMakeOptions="+dCOMP_Name=WSClient" OnlyPlatforms="x64">
    <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository> 
    <SubProduct Repository="imodel02" PartFile="iModelCore/WSClient/WSClient" ProductName="WSClient-GTest"/>
  </Part>
  <!--   ************************************* -->
  <!--   ***** Test Impact Analysis Maps  **** -->
  <!--   ************************************* -->
  <Part Name="BeHttp-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=BeHttp" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/BeHttp/BeHttp"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="Bentley-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=Bentley" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/Bentley/Bentley"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="BeSecurity-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=BeSecurity" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/BeSecurity/BeSecurity"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="BeSQLite-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=BeSQLite" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/BeSQLite/BeSQLite"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="DgnPlatform-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=DgnPlatform" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/DgnPlatform/DgnPlatform"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="ECDb-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=ECDb" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/ECDb/ECDb"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="ECObjects-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=ECObjects" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/ECObjects/ECObjects"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="ECPresentation-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=ECPresentation" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/ECPresentation/ECpresentation"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="GeomLibs-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=GeomLibs" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/GeomLibs/GeomLibs"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="Licensing-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=Licensing" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/LicensingCrossPlatform/LicensingCrossPlatform"                   PartName="RunGtestUnit" /> -->
  </Part>
  <Part Name="Units-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=Units" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/Units/Units"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="WSClient-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=WSClient" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="imodelCore/WSClient/WSClient"                   PartName="RunGTest" /> -->
  </Part>
  <Part Name="DgnV8Converter-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=DgnV8Converter" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="iModelBridgeCore/DgnDbSync/DgnDbSync"                   PartName="RunDgnV8ConverterTests" /> -->
  </Part>
  <Part Name="DwgImporter-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=DwgImporter" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="iModelBridgeCore/DgnDbSync/DwgConverter"                   PartName="RunDwgImporterTests" /> -->
  </Part>
  <Part Name="MstnBridge-GenTiaMaps" BentleyBuildMakeFile="${SrcRoot}imodel02/TestingScripts/TestImpactAnalysis/GenerateMaps.mke" BentleyBuildMakeOptions="+dCOMP_Name=MstnBridge" OnlyPlatforms="x64">
      <RequiredRepository>Bsitools-OpenCppCoverage</RequiredRepository>
      <!-- <SubPart Repository="imodel02"              PartFile="Bridges/Mstn/MstnBridge"                   PartName="RunMstnBridgeTests" /> -->
  </Part>
  <Part Name="All-GenTiaMaps"  OnlyPlatforms="x64">
      <SubPart PartName="BeHttp-GenTiaMaps" />
      <SubPart PartName="Bentley-GenTiaMaps" />
      <SubPart PartName="BeSecurity-GenTiaMaps" />
      <SubPart PartName="BeSQLite-GenTiaMaps" />
      <SubPart PartName="DgnPlatform-GenTiaMaps" />
      <SubPart PartName="ECDb-GenTiaMaps" />
      <SubPart PartName="ECObjects-GenTiaMaps" />
      <SubPart PartName="ECPresentation-GenTiaMaps" />
      <SubPart PartName="GeomLibs-GenTiaMaps" />        
      <!-- <SubPart PartName="Licensing-GenTiaMaps" /> -->
      <SubPart PartName="Units-GenTiaMaps" />
      <SubPart PartName="WSClient-GenTiaMaps" />
      <SubPart PartName="DgnV8Converter-GenTiaMaps" />
      <SubPart PartName="MstnBridge-GenTiaMaps" />
      <SubPart PartName="DwgImporter-GenTiaMaps" />
  </Part>
</BuildContext>
